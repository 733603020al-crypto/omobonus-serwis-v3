🧠 Cursor — Восстановленная переписка за 25 ноября 2025
=========================================================


===== CHECKPOINT: 18acdb33-bb24-4cba-9a8e-3cbabd714784 | Время: 11/25/2025 14:26:01 =====


--- METADATA ---

{"agentRequestId":"18acdb33-bb24-4cba-9a8e-3cbabd714784","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-radio.tsx","fileUuid":"0879cdc8-3193-4f6f-899a-ee45a843e661","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-checkbox.tsx","fileUuid":"2c29e32d-323a-4997-8076-e08a34a92e5c","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764077160932,"fileSizeBytes":5158,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 0879cdc8-3193-4f6f-899a-ee45a843e661
----------------------------------------

'use client'

interface CustomRadioProps {
  id: string
  name: string
  value: string
  checked: boolean
  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void
  label: string
}

export function CustomRadio({ id, name, value, checked, onChange, label }: CustomRadioProps) {
  return (
    <label htmlFor={id} className="flex items-center gap-3 cursor-pointer group">
      <div className="flex-shrink-0 relative">
        <input
          type="radio"
          id={id}
          name={name}
          value={value}
          checked={checked}
          onChange={onChange}
          className="sr-only"
        />
        <div
          className={`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-250 ${
            checked
              ? 'border-black bg-black'
              : 'border-black/60 bg-transparent group-hover:border-black/80 group-hover:bg-[rgba(0,0,0,0.05)] group-hover:shadow-[0_0_4px_rgba(0,0,0,0.3)]'
          }`}
        >
          {checked && (
            <div className="w-2.5 h-2.5 rounded-full bg-white" />
          )}
        </div>
      </div>
      <span className="text-black font-sans font-medium text-base leading-tight">
        {label}
      </span>
    </label>
  )
}



🗂 FILE: 2c29e32d-323a-4997-8076-e08a34a92e5c
----------------------------------------

'use client'

interface CustomCheckboxProps {
  id: string
  name: string
  checked: boolean
  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void
  label: string | React.ReactNode
}

export function CustomCheckbox({ id, name, checked, onChange, label }: CustomCheckboxProps) {
  return (
    <label htmlFor={id} className="flex items-start gap-4 cursor-pointer group">
      <div className="flex-shrink-0 relative mt-0.5">
        <input
          type="checkbox"
          id={id}
          name={name}
          checked={checked}
          onChange={onChange}
          className="sr-only"
        />
        <div
          className={`w-5 h-5 border-2 flex items-center justify-center transition-all duration-250 ${
            checked
              ? 'border-black bg-black'
              : 'border-black/60 bg-transparent group-hover:border-black/80 group-hover:bg-[rgba(0,0,0,0.05)] group-hover:shadow-[0_0_4px_rgba(0,0,0,0.3)]'
          }`}
        >
          {checked && (
            <svg
              className="w-3 h-3 text-white"
              fill="none"
              strokeLinecap="round"
              strokeLinejoin="round"
              strokeWidth="2"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path d="M5 13l4 4L19 7" />
            </svg>
          )}
        </div>
      </div>
      <span className="text-black font-sans font-medium text-base leading-tight flex-1">
        {label}
      </span>
    </label>
  )
}



--- DIFFS ---


💡 DIFF: 0879cdc8-3193-4f6f-899a-ee45a843e661
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-radio.tsx","fileUuid":"0879cdc8-3193-4f6f-899a-ee45a843e661","fileSizeBytes":1524,"numLines":54,"diffChanges":[{"originalStartLineNumberOneIndexed":28,"originalEndLineNumberExclusiveOneIndexed":29,"modifiedStartLineNumberOneIndexed":28,"modifiedEndLineNumberExclusiveOneIndexed":29,"addedLines":["              ? 'border-black bg-white'"],"tokenizedAddedLines":[1000040]},{"originalStartLineNumberOneIndexed":33,"originalEndLineNumberExclusiveOneIndexed":34,"modifiedStartLineNumberOneIndexed":33,"modifiedEndLineNumberExclusiveOneIndexed":44,"addedLines":["            <svg","              className=\"w-3 h-3 text-black\"","              fill=\"none\"","              strokeLinecap=\"round\"","              strokeLinejoin=\"round\"","              strokeWidth=\"3\"","              viewBox=\"0 0 24 24\"","              stroke=\"currentColor\"","            >","              <path d=\"M5 13l4 4L19 7\" />","            </svg>"],"tokenizedAddedLines":[1000041,1000042,1000043,1000044,1000045,1000046,1000047,1000048,1000049,1000050,1000051]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

💡 DIFF: 2c29e32d-323a-4997-8076-e08a34a92e5c
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-checkbox.tsx","fileUuid":"2c29e32d-323a-4997-8076-e08a34a92e5c","fileSizeBytes":1507,"numLines":52,"diffChanges":[{"originalStartLineNumberOneIndexed":26,"originalEndLineNumberExclusiveOneIndexed":27,"modifiedStartLineNumberOneIndexed":26,"modifiedEndLineNumberExclusiveOneIndexed":27,"addedLines":["              ? 'border-black bg-white'"],"tokenizedAddedLines":[1000048]},{"originalStartLineNumberOneIndexed":32,"originalEndLineNumberExclusiveOneIndexed":33,"modifiedStartLineNumberOneIndexed":32,"modifiedEndLineNumberExclusiveOneIndexed":33,"addedLines":["              className=\"w-3 h-3 text-black\""],"tokenizedAddedLines":[1000049]},{"originalStartLineNumberOneIndexed":36,"originalEndLineNumberExclusiveOneIndexed":37,"modifiedStartLineNumberOneIndexed":36,"modifiedEndLineNumberExclusiveOneIndexed":37,"addedLines":["              strokeWidth=\"3\""],"tokenizedAddedLines":[1000050]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 1fafbb7a-1290-427a-8d9b-c7b99a7ec376 | Время: 11/25/2025 11:49:55 =====


--- METADATA ---

{"agentRequestId":"1fafbb7a-1290-427a-8d9b-c7b99a7ec376","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\api\\send-email\\route.ts","fileUuid":"e327d700-f779-4fe7-9031-67d12906886a","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764067795707,"fileSizeBytes":3375,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: e327d700-f779-4fe7-9031-67d12906886a
----------------------------------------

import { NextRequest, NextResponse } from 'next/server'
import { Resend } from 'resend'

const resend = new Resend(process.env.RESEND_API_KEY)

export async function POST(request: NextRequest) {
  try {
    const body = await request.json()
    const {
      name,
      phone,
      email,
      address,
      deviceType,
      deviceModel,
      problemDescription,
      replacementPrinter,
    } = body

    // Đ¤ĐľŃ€ĐĽĐ¸Ń€ŃĐµĐĽ ŃĐľĐ´ĐµŃ€Đ¶Đ¸ĐĽĐľĐµ email
    const emailContent = `
Nowe zgĹ‚oszenie serwisowe:

ImiÄ™ i nazwisko: ${name}
Numer telefonu: ${phone}
Adres e-mail: ${email}
Adres: ${address}
Typ urzÄ…dzenia: ${deviceType === 'printer' ? 'Drukarka' : deviceType === 'computer' ? 'Komputer / Laptop' : 'Inne urzÄ…dzenie'}
Model urzÄ…dzenia: ${deviceModel || 'Nie podano'}
Opis problemu: ${problemDescription}
PotrzebujÄ™ drukarki zastÄ™pczej: ${replacementPrinter ? 'Tak' : 'Nie'}
    `.trim()

    // ĐžŃ‚ĐżŃ€Đ°Đ˛Đ»ŃŹĐµĐĽ email
    const { data, error } = await resend.emails.send({
      from: process.env.RESEND_FROM_EMAIL || 'onboarding@resend.dev',
      to: process.env.RESEND_TO_EMAIL || 'onboarding@resend.dev',
      subject: `Nowe zgĹ‚oszenie serwisowe od ${name}`,
      text: emailContent,
    })

    if (error) {
      console.error('Resend error:', error)
      return NextResponse.json(
        { error: 'Nie udaĹ‚o siÄ™ wysĹ‚aÄ‡ wiadomoĹ›ci' },
        { status: 500 }
      )
    }

    return NextResponse.json({ success: true, data })
  } catch (error) {
    console.error('Error sending email:', error)
    return NextResponse.json(
      { error: 'WystÄ…piĹ‚ bĹ‚Ä…d podczas wysyĹ‚ania wiadomoĹ›ci' },
      { status: 500 }
    )
  }
}


--- DIFFS ---


💡 DIFF: e327d700-f779-4fe7-9031-67d12906886a
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\api\\send-email\\route.ts","fileUuid":"e327d700-f779-4fe7-9031-67d12906886a","fileSizeBytes":2258,"numLines":77,"diffChanges":[{"originalStartLineNumberOneIndexed":4,"originalEndLineNumberExclusiveOneIndexed":5,"modifiedStartLineNumberOneIndexed":4,"modifiedEndLineNumberExclusiveOneIndexed":7,"addedLines":["// ĐĐ˝Đ¸Ń†Đ¸Đ°Đ»Đ¸Đ·Đ¸Ń€ŃĐµĐĽ Resend Ń‚ĐľĐ»ŃŚĐşĐľ ĐµŃĐ»Đ¸ ĐµŃŃ‚ŃŚ API ĐşĐ»ŃŽŃ‡","const resendApiKey = process.env.RESEND_API_KEY","const resend = resendApiKey ? new Resend(resendApiKey) : null"],"tokenizedAddedLines":[1000052,1000053,1000054]},{"originalStartLineNumberOneIndexed":33,"originalEndLineNumberExclusiveOneIndexed":33,"modifiedStartLineNumberOneIndexed":35,"modifiedEndLineNumberExclusiveOneIndexed":50,"addedLines":["","    // Đ•ŃĐ»Đ¸ Đ˝ĐµŃ‚ API ĐşĐ»ŃŽŃ‡Đ°, ĐżŃ€ĐľŃŃ‚Đľ Đ»ĐľĐłĐ¸Ń€ŃĐµĐĽ Đ¸ Đ˛ĐľĐ·Đ˛Ń€Đ°Ń‰Đ°ĐµĐĽ ŃŃĐżĐµŃ… (Đ´Đ»ŃŹ Ń‚ĐµŃŃ‚Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ¸ŃŹ UI)","    if (!resend) {","      console.log('RESEND_API_KEY Đ˝Đµ ŃŃŃ‚Đ°Đ˝ĐľĐ˛Đ»ĐµĐ˝. Đ”Đ°Đ˝Đ˝Ń‹Đµ Ń„ĐľŃ€ĐĽŃ‹:', {","        name,","        phone,","        email,","        address,","        deviceType,","        deviceModel,","        problemDescription,","        replacementPrinter,","      })","      return NextResponse.json({ success: true, message: 'Form data logged (RESEND_API_KEY not set)' })","    }"],"tokenizedAddedLines":[3,1000055,1000056,1000057,1000058,1000059,1000060,1000061,1000062,1000063,1000064,1000065,1000066,1000067,43]},{"originalStartLineNumberOneIndexed":59,"originalEndLineNumberExclusiveOneIndexed":59,"modifiedStartLineNumberOneIndexed":76,"modifiedEndLineNumberExclusiveOneIndexed":77,"addedLines":[""],"tokenizedAddedLines":[3]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 22f491a6-f8c0-41b9-93fb-6496c8834e42 | Время: 11/25/2025 08:30:54 =====


--- METADATA ---

{"agentRequestId":"22f491a6-f8c0-41b9-93fb-6496c8834e42","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"aa10dea5-effb-4d89-ab9f-9bd50691e94a","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"900e3adc-62f9-420a-a3f6-c61082f8b09f","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}],"startTrackingDateUnixMilliseconds":1764055854058,"fileSizeBytes":24680,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 900e3adc-62f9-420a-a3f6-c61082f8b09f
----------------------------------------

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 5rem; /* wysokoĹ›Ä‡ headera */
  }

  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .bg-paper-texture {
    background-image: url('/images/zmiety arkusz papieru 2.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }
  
  .service-description-text {
    word-break: break-word;
    overflow-wrap: anywhere;
  }
  
  /* ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡ĐµĐ˝Đ¸Đµ ŃĐ¸Ń€Đ¸Đ˝Ń‹ ĐżĐµŃ€Đ˛ĐľĐą ĐşĐľĐ»ĐľĐ˝ĐşĐ¸ Ń‚Đ°Đ±Đ»Đ¸Ń†Ń‹ Ń‡ĐµŃ€ĐµĐ· max-width */
  table[data-slot="table"] tbody tr td:first-child {
    max-width: 850px;
  }
  
  /* Đ¤Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝ĐľĐµ Đ˛Ń‹Ń€Đ°Đ˛Đ˝Đ¸Đ˛Đ°Đ˝Đ¸Đµ ĐşĐľĐ»ĐľĐ˝ĐşĐ¸ Ń Ń†ĐµĐ˝Đ°ĐĽĐ¸ */
  table[data-slot="table"] tbody tr td:nth-child(2) {
    text-align: center !important;
    vertical-align: middle !important;
  }
  
  /* ĐťĐ° Đ´ĐµŃĐşŃ‚ĐľĐżĐµ Ń„Đ¸ĐşŃĐ¸Ń€ŃĐµĐĽ ŃĐ¸Ń€Đ¸Đ˝Ń ĐşĐľĐ»ĐľĐ˝ĐşĐ¸ Ń Ń†ĐµĐ˝Đ°ĐĽĐ¸ */
  @media (min-width: 768px) {
    table[data-slot="table"] {
      table-layout: fixed;
    }
    
    table[data-slot="table"] tbody tr td:nth-child(2) {
      width: 16.5% !important;
      min-width: 120px;
    }
  }
  
  /* ĐŁĐ±Đ¸Ń€Đ°ĐµĐĽ ŃĐ¸Đ˝ŃŽŃŽ Ń€Đ°ĐĽĐşŃ Đ´Đ»ŃŹ ĐżĐľĐ´ĐşĐ°Ń‚ĐµĐłĐľŃ€Đ¸Đą Đ˛ ŃĐµĐşŃ†Đ¸Đ¸ naprawy */
  [data-slot="accordion"] [data-slot="accordion-item"] [data-slot="accordion-trigger"]:focus-visible {
    outline: none !important;
    box-shadow: none !important;
  }
  
  /* ĐžĐ±ĐµŃĐżĐµŃ‡Đ¸Đ˛Đ°ĐµĐĽ Đ˛Đ¸Đ´Đ¸ĐĽĐľŃŃ‚ŃŚ Đ˝Đ°Đ´ĐżĐ¸ŃĐ¸ "Zobacz cennik" Đ˛ ĐżĐľĐ´ĐşĐ°Ń‚ĐµĐłĐľŃ€Đ¸ŃŹŃ… */
  [data-subcategory-link] {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  /* ĐˇĐşŃ€Ń‹Đ˛Đ°ĐµĐĽ Đ˝Đ°Đ´ĐżĐ¸ŃŃŚ ĐşĐľĐłĐ´Đ° ĐżĐľĐ´ĐşĐ°Ń‚ĐµĐłĐľŃ€Đ¸ŃŹ ĐľŃ‚ĐşŃ€Ń‹Ń‚Đ° */
  [data-slot="accordion-trigger"][data-state="open"] [data-subcategory-link] {
    display: none !important;
  }
  
  /* ĐĐ˝Đ¸ĐĽĐ°Ń†Đ¸ŃŹ ĐżŃ€Đ¸ ĐľŃ‚ĐşŃ€Ń‹Ń‚Đ¸Đ¸ FAQ ĐľŃ‚Đ˛ĐµŃ‚Đ° */
  [data-slot="accordion-content"] {
    animation: fadeIn 0.3s ease-in-out;
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-5px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  
  /* ĐˇĐşŃ€ĐľĐ»Đ»Đ±Đ°Ń€ - ŃĐ±Ń€Đ°Đ»Đ¸ Đ˛ŃĐµ ŃŃ‚Đ¸Đ»Đ¸, ĐľŃŃ‚Đ°Đ˛Đ»ŃŹĐµĐĽ ĐżĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ */
  
  /* ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ Đ˛ŃĐµŃ… ĐżĐľĐ»ĐµĐą Đ˛Đ˛ĐľĐ´Đ° - ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝Đ°ŃŹ ŃĐżĐµŃ†Đ¸Ń„Đ¸Ń‡Đ˝ĐľŃŃ‚ŃŚ Đ¸ ĐżŃ€Đ¸ĐľŃ€Đ¸Ń‚ĐµŃ‚ */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input:not([type="radio"]):not([type="checkbox"]):not([type="submit"]):not([type="button"]) {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  input[type="text"]:-webkit-autofill,
  input[type="text"]:-webkit-autofill:hover,
  input[type="text"]:-webkit-autofill:focus,
  input[type="text"]:-webkit-autofill:active,
  input[type="email"]:-webkit-autofill,
  input[type="email"]:-webkit-autofill:hover,
  input[type="email"]:-webkit-autofill:focus,
  input[type="email"]:-webkit-autofill:active,
  input[type="tel"]:-webkit-autofill,
  input[type="tel"]:-webkit-autofill:hover,
  input[type="tel"]:-webkit-autofill:focus,
  input[type="tel"]:-webkit-autofill:active,
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  input:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #3a2e24 !important;
    color: #3a2e24 !important;
  }
  
  input[type="text"]:focus,
  input[type="text"]:active,
  input[type="text"]:hover,
  input[type="email"]:focus,
  input[type="email"]:active,
  input[type="email"]:hover,
  input[type="tel"]:focus,
  input[type="tel"]:active,
  input[type="tel"]:hover,
  input:focus,
  input:active,
  input:hover {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  #kontakt input[type="text"]:-webkit-autofill,
  #kontakt input[type="text"]:-webkit-autofill:hover,
  #kontakt input[type="text"]:-webkit-autofill:focus,
  #kontakt input[type="text"]:-webkit-autofill:active,
  #kontakt input[type="email"]:-webkit-autofill,
  #kontakt input[type="email"]:-webkit-autofill:hover,
  #kontakt input[type="email"]:-webkit-autofill:focus,
  #kontakt input[type="email"]:-webkit-autofill:active,
  #kontakt input[type="tel"]:-webkit-autofill,
  #kontakt input[type="tel"]:-webkit-autofill:hover,
  #kontakt input[type="tel"]:-webkit-autofill:focus,
  #kontakt input[type="tel"]:-webkit-autofill:active,
  #kontakt textarea:-webkit-autofill,
  #kontakt textarea:-webkit-autofill:hover,
  #kontakt textarea:-webkit-autofill:focus,
  #kontakt textarea:-webkit-autofill:active,
  section#kontakt input[type="text"]:-webkit-autofill,
  section#kontakt input[type="text"]:-webkit-autofill:hover,
  section#kontakt input[type="text"]:-webkit-autofill:focus,
  section#kontakt input[type="text"]:-webkit-autofill:active,
  section#kontakt input[type="email"]:-webkit-autofill,
  section#kontakt input[type="email"]:-webkit-autofill:hover,
  section#kontakt input[type="email"]:-webkit-autofill:focus,
  section#kontakt input[type="email"]:-webkit-autofill:active,
  section#kontakt input[type="tel"]:-webkit-autofill,
  section#kontakt input[type="tel"]:-webkit-autofill:hover,
  section#kontakt input[type="tel"]:-webkit-autofill:focus,
  section#kontakt input[type="tel"]:-webkit-autofill:active,
  section#kontakt textarea:-webkit-autofill,
  section#kontakt textarea:-webkit-autofill:hover,
  section#kontakt textarea:-webkit-autofill:focus,
  section#kontakt textarea:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #3a2e24 !important;
    color: #3a2e24 !important;
  }
  
  #kontakt input[type="text"]:focus,
  #kontakt input[type="text"]:active,
  #kontakt input[type="text"]:hover,
  #kontakt input[type="email"]:focus,
  #kontakt input[type="email"]:active,
  #kontakt input[type="email"]:hover,
  #kontakt input[type="tel"]:focus,
  #kontakt input[type="tel"]:active,
  #kontakt input[type="tel"]:hover,
  #kontakt textarea:focus,
  #kontakt textarea:active,
  #kontakt textarea:hover,
  section#kontakt input[type="text"]:focus,
  section#kontakt input[type="text"]:active,
  section#kontakt input[type="text"]:hover,
  section#kontakt input[type="email"]:focus,
  section#kontakt input[type="email"]:active,
  section#kontakt input[type="email"]:hover,
  section#kontakt input[type="tel"]:focus,
  section#kontakt input[type="tel"]:active,
  section#kontakt input[type="tel"]:hover,
  section#kontakt textarea:focus,
  section#kontakt textarea:active,
  section#kontakt textarea:hover {
    background-color: transparent !important;
    background: transparent !important;
  }
  

  /* ĐĐ´Đ°ĐżŃ‚Đ¸Đ˛Đ˝Ń‹Đµ ŃŃ‚Đ¸Đ»Đ¸ Đ´Đ»ŃŹ ĐĽĐľĐ±Đ¸Đ»ŃŚĐ˝Ń‹Ń… ŃŃŃ‚Ń€ĐľĐąŃŃ‚Đ˛ */
  @media (max-width: 768px) {
    table[data-slot="table"] {
      table-layout: fixed;
      width: 100%;
      max-width: 100%;
    }
    
    table[data-slot="table"] colgroup {
      display: none;
    }
    
    table[data-slot="table"] tbody tr td:first-child {
      max-width: none;
      width: 80%;
      padding-right: 0.5rem;
    }
    
    table[data-slot="table"] tbody tr td:nth-child(2) {
      min-width: 70px;
      width: 20% !important;
      padding-left: 0.5rem;
      padding-right: 0.5rem;
      white-space: nowrap;
      text-align: center !important;
      vertical-align: middle !important;
    }
    
    /* ĐšĐľĐ˝Ń‚ĐµĐąĐ˝ĐµŃ€ Ń‚Đ°Đ±Đ»Đ¸Ń†Ń‹ Đ˝Đ° ĐĽĐľĐ±Đ¸Đ»ŃŚĐ˝Ń‹Ń… - ŃĐ±Đ¸Ń€Đ°ĐµĐĽ ĐłĐľŃ€Đ¸Đ·ĐľĐ˝Ń‚Đ°Đ»ŃŚĐ˝ŃŃŽ ĐżŃ€ĐľĐşŃ€ŃŃ‚ĐşŃ */
    div[data-slot="table-container"] {
      overflow-x: visible !important;
      width: 100%;
    }
    
    /* ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡Đ¸Đ˛Đ°ĐµĐĽ ŃĐ¸Ń€Đ¸Đ˝Ń Ń‚Đ°Đ±Đ»Đ¸Ń†Ń‹ Đ˝Đ° ĐĽĐľĐ±Đ¸Đ»ŃŚĐ˝Ń‹Ń… */
    div[data-slot="table-container"] table {
      width: 100% !important;
      max-width: 100% !important;
    }
  }
  
  /* ĐšĐ ĐĐ˘ĐĐ§Đ•ĐˇĐšĐ Đ’ĐĐ–ĐťĐž: ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ input - Đ˛ ĐşĐľĐ˝Ń†Đµ Ń„Đ°ĐąĐ»Đ° Ń ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝Ń‹ĐĽ ĐżŃ€Đ¸ĐľŃ€Đ¸Ń‚ĐµŃ‚ĐľĐĽ */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input:not([type="radio"]):not([type="checkbox"]):not([type="submit"]):not([type="button"]):not([type="hidden"]) {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  input[type="text"]:-webkit-autofill,
  input[type="text"]:-webkit-autofill:hover,
  input[type="text"]:-webkit-autofill:focus,
  input[type="text"]:-webkit-autofill:active,
  input[type="email"]:-webkit-autofill,
  input[type="email"]:-webkit-autofill:hover,
  input[type="email"]:-webkit-autofill:focus,
  input[type="email"]:-webkit-autofill:active,
  input[type="tel"]:-webkit-autofill,
  input[type="tel"]:-webkit-autofill:hover,
  input[type="tel"]:-webkit-autofill:focus,
  input[type="tel"]:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #3a2e24 !important;
    color: #3a2e24 !important;
  }
  
  input[type="text"]:focus,
  input[type="text"]:active,
  input[type="text"]:hover,
  input[type="email"]:focus,
  input[type="email"]:active,
  input[type="email"]:hover,
  input[type="tel"]:focus,
  input[type="tel"]:active,
  input[type="tel"]:hover {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  /* ĐˇĐżĐµŃ†Đ¸Đ°Đ»ŃŚĐ˝Ń‹Đµ ĐżŃ€Đ°Đ˛Đ¸Đ»Đ° Đ´Đ»ŃŹ Ń‚ĐµŃŃ‚ĐľĐ˛ĐľĐą ŃŃ‚Ń€Đ°Đ˝Đ¸Ń†Ń‹ kontakt-test */
  #kontakt-test input[type="text"],
  #kontakt-test input[type="email"],
  #kontakt-test input[type="tel"] {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  #kontakt-test input[type="text"]:-webkit-autofill,
  #kontakt-test input[type="text"]:-webkit-autofill:hover,
  #kontakt-test input[type="text"]:-webkit-autofill:focus,
  #kontakt-test input[type="text"]:-webkit-autofill:active,
  #kontakt-test input[type="email"]:-webkit-autofill,
  #kontakt-test input[type="email"]:-webkit-autofill:hover,
  #kontakt-test input[type="email"]:-webkit-autofill:focus,
  #kontakt-test input[type="email"]:-webkit-autofill:active,
  #kontakt-test input[type="tel"]:-webkit-autofill,
  #kontakt-test input[type="tel"]:-webkit-autofill:hover,
  #kontakt-test input[type="tel"]:-webkit-autofill:focus,
  #kontakt-test input[type="tel"]:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #000000 !important;
    color: #000000 !important;
    transition: background-color 5000s ease-in-out 0s !important;
  }
  
  #kontakt-test input[type="text"]:focus,
  #kontakt-test input[type="text"]:active,
  #kontakt-test input[type="text"]:hover,
  #kontakt-test input[type="email"]:focus,
  #kontakt-test input[type="email"]:active,
  #kontakt-test input[type="email"]:hover,
  #kontakt-test input[type="tel"]:focus,
  #kontakt-test input[type="tel"]:active,
  #kontakt-test input[type="tel"]:hover {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  
  /* ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ radio Đ¸ checkbox Đ˝Đ° Ń‚ĐµŃŃ‚ĐľĐ˛ĐľĐą ŃŃ‚Ń€Đ°Đ˝Đ¸Ń†Đµ */
  #kontakt-test input[type="radio"],
  #kontakt-test input[type="checkbox"] {
    background-color: transparent !important;
    background: transparent !important;
  }
  
  #kontakt-test input[type="radio"]:checked,
  #kontakt-test input[type="checkbox"]:checked {
    background-color: transparent !important;
    background: transparent !important;
  }
  
  /* ĐšĐľĐ˝Ń‚ĐµĐąĐ˝ĐµŃ€Ń‹ Đ´Đ»ŃŹ radio Đ¸ checkbox */
  #kontakt-test label:has(input[type="radio"]),
  #kontakt-test label:has(input[type="checkbox"]) {
    background-color: transparent !important;
    background: transparent !important;
  }
  
  /* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş ŃŃ‚Ń€Đ°Đ˝ - ĐżĐľĐ´Đ»ĐľĐ¶ĐşĐ° Đ¸Đ· ŃĐĽŃŹŃ‚ĐľĐłĐľ Đ»Đ¸ŃŃ‚Đ° */
  .custom-dropdown {
    background-image: 
      linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)),
      url('/images/zmiety arkusz papieru 2.png') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
  }
  
  /* ĐˇĐşŃ€ĐľĐ»Đ»Đ±Đ°Ń€ Đ´Đ»ŃŹ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° ŃŃ‚Ń€Đ°Đ˝ */
  .custom-dropdown::-webkit-scrollbar {
    width: 8px;
  }
  
  .custom-dropdown::-webkit-scrollbar-track {
    background-image: 
      linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)),
      url('/images/zmiety arkusz papieru 2.png') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    border-radius: 4px;
  }
  
  .custom-dropdown::-webkit-scrollbar-thumb {
    background: rgba(58, 46, 36, 0.3) !important;
    border-radius: 4px;
  }
  
  .custom-dropdown::-webkit-scrollbar-thumb:hover {
    background: rgba(58, 46, 36, 0.5) !important;
  }
  
  /* Đ”Đ»ŃŹ Firefox */
  .custom-dropdown {
    scrollbar-width: thin;
    scrollbar-color: rgba(58, 46, 36, 0.3) transparent;
  }
}


🗂 FILE: aa10dea5-effb-4d89-ab9f-9bd50691e94a
----------------------------------------

'use client'

import { useState, useRef, useEffect } from 'react'
import Image from 'next/image'
import { countries, Country, formatPhoneNumber } from '@/lib/countries'

interface CustomPhoneInputProps {
  value: string
  onChange: (phone: string) => void
  defaultCountry?: string
  className?: string
}

export function CustomPhoneInput({
  value,
  onChange,
  defaultCountry = 'pl',
  className = '',
}: CustomPhoneInputProps) {
  const [selectedCountry, setSelectedCountry] = useState<Country>(
    countries.find(c => c.code === defaultCountry) || countries[1] // ĐżĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ ĐźĐľĐ»ŃŚŃĐ°
  )
  const [isDropdownOpen, setIsDropdownOpen] = useState(false)
  const [phoneNumber, setPhoneNumber] = useState('')
  const dropdownRef = useRef<HTMLDivElement>(null)
  const containerRef = useRef<HTMLDivElement>(null)

  // ĐĐ˝Đ¸Ń†Đ¸Đ°Đ»Đ¸Đ·Đ°Ń†Đ¸ŃŹ Đ¸Đ· value
  useEffect(() => {
    if (value) {
      // ĐźŃ‹Ń‚Đ°ĐµĐĽŃŃŹ ĐľĐżŃ€ĐµĐ´ĐµĐ»Đ¸Ń‚ŃŚ ŃŃ‚Ń€Đ°Đ˝Ń ĐżĐľ ĐşĐľĐ´Ń
      const dialCode = value.match(/^\+\d+/)?.[0]
      if (dialCode) {
        const country = countries.find(c => c.dialCode === dialCode)
        if (country) {
          setSelectedCountry(country)
          const number = value.replace(dialCode, '').trim().replace(/\s/g, '')
          setPhoneNumber(number)
        } else {
          // Đ•ŃĐ»Đ¸ ĐşĐľĐ´ Đ˝Đµ Đ˝Đ°ĐąĐ´ĐµĐ˝, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
          setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
          setPhoneNumber(value.replace(/^\+\d+\s*/, '').trim().replace(/\D/g, ''))
        }
      } else {
        // Đ•ŃĐ»Đ¸ Đ˝ĐµŃ‚ ĐşĐľĐ´Đ°, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
        setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
        setPhoneNumber(value.replace(/\D/g, ''))
      }
    }
  }, [value])

  // Đ—Đ°ĐşŃ€Ń‹Ń‚Đ¸Đµ dropdown ĐżŃ€Đ¸ ĐşĐ»Đ¸ĐşĐµ Đ˛Đ˝Đµ
  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (
        containerRef.current &&
        !containerRef.current.contains(event.target as Node)
      ) {
        setIsDropdownOpen(false)
      }
    }

    if (isDropdownOpen) {
      document.addEventListener('mousedown', handleClickOutside)
    }

    return () => {
      document.removeEventListener('mousedown', handleClickOutside)
    }
  }, [isDropdownOpen])

  const handleCountrySelect = (country: Country) => {
    setSelectedCountry(country)
    setIsDropdownOpen(false)
    // ĐžĐ±Đ˝ĐľĐ˛Đ»ŃŹĐµĐĽ Đ·Đ˝Đ°Ń‡ĐµĐ˝Đ¸Đµ Ń Đ˝ĐľĐ˛Ń‹ĐĽ ĐşĐľĐ´ĐľĐĽ ŃŃ‚Ń€Đ°Đ˝Ń‹
    const newValue = country.dialCode 
      ? `${country.dialCode} ${phoneNumber}`.trim()
      : phoneNumber
    onChange(newValue)
  }

  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    let input = e.target.value.replace(/\D/g, '') // Ń‚ĐľĐ»ŃŚĐşĐľ Ń†Đ¸Ń„Ń€Ń‹
    
    // ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡Đ¸Đ˛Đ°ĐµĐĽ Đ´Đ»Đ¸Đ˝Ń Đ´Đ»ŃŹ Đ¸Đ·Đ˛ĐµŃŃ‚Đ˝Ń‹Ń… ŃŃ‚Ń€Đ°Đ˝
    if (selectedCountry.phoneLength && selectedCountry.code !== 'other') {
      input = input.slice(0, selectedCountry.phoneLength)
    }
    
    setPhoneNumber(input)
    
    // Đ¤ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ŃĐµĐĽ Đ˝ĐľĐĽĐµŃ€
    let formatted = input
    if (selectedCountry.phoneFormat && selectedCountry.code !== 'other') {
      formatted = formatPhoneNumber(input, selectedCountry.phoneFormat)
    }
    
    // ĐžĐ±Đ˝ĐľĐ˛Đ»ŃŹĐµĐĽ Đ·Đ˝Đ°Ń‡ĐµĐ˝Đ¸Đµ
    const newValue = selectedCountry.dialCode
      ? `${selectedCountry.dialCode} ${formatted}`.trim()
      : formatted
    onChange(newValue)
  }

  // ĐžĐżŃ€ĐµĐ´ĐµĐ»ŃŹĐµĐĽ, ĐşĐ°ĐşĐľĐµ Đ˝Đ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ĐżĐľĐşĐ°Đ·Ń‹Đ˛Đ°Ń‚ŃŚ (ĐżĐľĐ»Đ˝ĐľĐµ Đ¸Đ»Đ¸ ŃĐľĐşŃ€Đ°Ń‰ĐµĐ˝Đ˝ĐľĐµ)
  const displayName = selectedCountry.name.length > 12 
    ? selectedCountry.shortName 
    : selectedCountry.name

  return (
    <div ref={containerRef} className={`relative w-full flex items-start gap-0 ${className}`}>
      {/* ĐźĐµŃ€Đ˛Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: Đ¤Đ»Đ°Đł + ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ + ĐšĐľĐ´ (ŃĐżŃ€Đ°Đ˛Đ°) + ĐšĐ˝ĐľĐżĐşĐ° Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° */}
      <div 
        className="flex items-center gap-2 border border-black/60 rounded-sm px-4 py-2"
        style={{ minWidth: '280px', height: '42px' }}
      >
        <Image
          src={selectedCountry.flagImage}
          alt={selectedCountry.name}
          width={20}
          height={15}
          className="object-contain flex-shrink-0"
          style={{ width: '20px', height: '15px' }}
        />
        <span className="text-black font-sans font-medium text-base leading-tight whitespace-nowrap flex-1">
          {displayName || selectedCountry.name}
        </span>
        {selectedCountry.dialCode ? (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap flex-shrink-0">
            {selectedCountry.dialCode}
          </span>
        ) : (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap opacity-50 flex-shrink-0">
            +
          </span>
        )}
        <button
          type="button"
          onClick={() => setIsDropdownOpen(!isDropdownOpen)}
          className="hover:opacity-80 transition-opacity flex-shrink-0"
        >
          <span className="text-black text-lg">â–Ľ</span>
        </button>
      </div>

      {/* Đ’Ń‚ĐľŃ€Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: ĐźĐľĐ»Đµ Đ˛Đ˛ĐľĐ´Đ° (ĐłĐľŃ€Đ¸Đ·ĐľĐ˝Ń‚Đ°Đ»ŃŚĐ˝Đľ Đ·Đ° ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐľĐą) */}
      <div className="flex-1">
        <input
          type="tel"
          value={selectedCountry.phoneFormat && selectedCountry.code !== 'other' && phoneNumber
            ? formatPhoneNumber(phoneNumber, selectedCountry.phoneFormat)
            : phoneNumber}
          onChange={handlePhoneChange}
          placeholder={selectedCountry.code === 'other' ? 'WprowadĹş numer' : 'xxx xxx xxx'}
          className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/50 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
          style={{ backgroundColor: 'transparent', height: '42px' }}
        />
      </div>

      {/* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş */}
      {isDropdownOpen && (
        <div
          ref={dropdownRef}
          className="absolute top-full left-0 mt-1 z-50 border border-black/20 rounded-lg shadow-lg max-h-64 overflow-y-auto custom-dropdown"
          style={{
            backgroundImage: 'linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)), url(/images/zmiety arkusz papieru 2.png)',
            backgroundSize: 'cover',
            backgroundPosition: 'center',
            backgroundRepeat: 'no-repeat',
            width: 'auto',
            minWidth: 'auto',
          }}
        >
          {countries.map((country) => (
            <button
              key={country.code}
              type="button"
              onClick={() => handleCountrySelect(country)}
              className="flex items-center gap-3 px-4 py-3 hover:bg-black/5 transition-colors text-left whitespace-nowrap w-full"
            >
              <Image
                src={country.flagImage}
                alt={country.name}
                width={24}
                height={18}
                className="object-contain flex-shrink-0"
              />
              <span className="text-black font-sans font-medium text-base">
                {country.name}
              </span>
              {country.dialCode && (
                <span className="text-black font-sans text-sm opacity-70 whitespace-nowrap">
                  {country.dialCode}
                </span>
              )}
            </button>
          ))}
        </div>
      )}
    </div>
  )
}



--- DIFFS ---


💡 DIFF: 900e3adc-62f9-420a-a3f6-c61082f8b09f
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"900e3adc-62f9-420a-a3f6-c61082f8b09f","fileSizeBytes":13819,"numLines":406,"diffChanges":[{"originalStartLineNumberOneIndexed":374,"originalEndLineNumberExclusiveOneIndexed":374,"modifiedStartLineNumberOneIndexed":374,"modifiedEndLineNumberExclusiveOneIndexed":375,"addedLines":["  "],"tokenizedAddedLines":[19]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

💡 DIFF: aa10dea5-effb-4d89-ab9f-9bd50691e94a
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"aa10dea5-effb-4d89-ab9f-9bd50691e94a","fileSizeBytes":8534,"numLines":226,"diffChanges":[{"originalStartLineNumberOneIndexed":27,"originalEndLineNumberExclusiveOneIndexed":27,"modifiedStartLineNumberOneIndexed":27,"modifiedEndLineNumberExclusiveOneIndexed":28,"addedLines":["  const selectorRowRef = useRef<HTMLDivElement>(null)"],"tokenizedAddedLines":[1000172]},{"originalStartLineNumberOneIndexed":71,"originalEndLineNumberExclusiveOneIndexed":71,"modifiedStartLineNumberOneIndexed":72,"modifiedEndLineNumberExclusiveOneIndexed":92,"addedLines":["","  // ĐˇĐ¸Đ˝Ń…Ń€ĐľĐ˝Đ¸Đ·Đ°Ń†Đ¸ŃŹ ŃĐ¸Ń€Đ¸Đ˝Ń‹ ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐ¸ Ń Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸ĐĽ ŃĐżĐ¸ŃĐşĐľĐĽ","  useEffect(() => {","    if (isDropdownOpen && dropdownRef.current && selectorRowRef.current) {","      // Đ”Đ°ĐµĐĽ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐĽŃ ŃĐżĐ¸ŃĐşŃ Đ˛Ń€ĐµĐĽŃŹ ĐľŃ‚Ń€ĐµĐ˝Đ´ĐµŃ€Đ¸Ń‚ŃŚŃŃŹ","      setTimeout(() => {","        if (dropdownRef.current && selectorRowRef.current) {","          // Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş ĐľĐżŃ€ĐµĐ´ĐµĐ»ŃŹĐµŃ‚ ŃĐ¸Ń€Đ¸Đ˝Ń ĐżĐľ ŃĐľĐ´ĐµŃ€Đ¶Đ¸ĐĽĐľĐĽŃ","          // ĐŁŃŃ‚Đ°Đ˝Đ°Đ˛Đ»Đ¸Đ˛Đ°ĐµĐĽ ŃĐ¸Ń€Đ¸Đ˝Ń ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐ¸ Ń€Đ°Đ˛Đ˝ĐľĐą ŃĐ¸Ń€Đ¸Đ˝Đµ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ°","          const dropdownWidth = dropdownRef.current.offsetWidth","          selectorRowRef.current.style.width = `${dropdownWidth}px`","          selectorRowRef.current.style.minWidth = `${dropdownWidth}px`","        }","      }, 0)","    } else if (selectorRowRef.current && !isDropdownOpen) {","      // ĐšĐľĐłĐ´Đ° ŃĐżĐ¸ŃĐľĐş Đ·Đ°ĐşŃ€Ń‹Ń‚, Đ¸ŃĐżĐľĐ»ŃŚĐ·ŃĐµĐĽ ŃĐ¸Ń€Đ¸Đ˝Ń ĐżĐľ ŃĐľĐ´ĐµŃ€Đ¶Đ¸ĐĽĐľĐĽŃ","      selectorRowRef.current.style.width = 'fit-content'","      selectorRowRef.current.style.minWidth = 'fit-content'","    }","  }, [isDropdownOpen, selectedCountry])"],"tokenizedAddedLines":[2,1000173,26,1000174,1000175,1000176,1000177,1000178,1000179,1000180,1000181,1000182,40,1000183,1000184,1000185,1000186,1000187,46,1000188]},{"originalStartLineNumberOneIndexed":114,"originalEndLineNumberExclusiveOneIndexed":116,"modifiedStartLineNumberOneIndexed":135,"modifiedEndLineNumberExclusiveOneIndexed":138,"addedLines":["        ref={selectorRowRef}","        className=\"flex items-center gap-2 border border-black/60 rounded-sm px-4 py-2 country-selector-row\"","        style={{ height: '42px', width: 'fit-content' }}"],"tokenizedAddedLines":[1000189,1000190,1000191]},{"originalStartLineNumberOneIndexed":164,"originalEndLineNumberExclusiveOneIndexed":165,"modifiedStartLineNumberOneIndexed":186,"modifiedEndLineNumberExclusiveOneIndexed":187,"addedLines":["          className=\"absolute top-full left-0 mt-1 z-50 border border-black/20 rounded-lg shadow-lg max-h-64 overflow-y-auto custom-dropdown country-dropdown\""],"tokenizedAddedLines":[1000192]},{"originalStartLineNumberOneIndexed":170,"originalEndLineNumberExclusiveOneIndexed":172,"modifiedStartLineNumberOneIndexed":192,"modifiedEndLineNumberExclusiveOneIndexed":194,"addedLines":["            width: 'fit-content',","            minWidth: 'fit-content',"],"tokenizedAddedLines":[1000193,1000194]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 2e9af56a-a5a0-456c-bf1e-6b2c3680e985 | Время: 11/25/2025 12:56:45 =====


--- METADATA ---

{"agentRequestId":"2e9af56a-a5a0-456c-bf1e-6b2c3680e985","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"13e06fd3-f1b0-4773-8069-09c24ac4fbf9","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764071805796,"fileSizeBytes":10492,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 13e06fd3-f1b0-4773-8069-09c24ac4fbf9
----------------------------------------

'use client'

import { useState, useRef, useEffect } from 'react'
import Image from 'next/image'
import { countries, Country, formatPhoneNumber } from '@/lib/countries'

interface CustomPhoneInputProps {
  value: string
  onChange: (value: string) => void
  className?: string
}

export function CustomPhoneInput({ value, onChange, className = '' }: CustomPhoneInputProps) {
  const [selectedCountry, setSelectedCountry] = useState<Country>(countries[1]) // ĐźĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ ĐźĐľĐ»ŃŚŃĐ°
  const [phoneNumber, setPhoneNumber] = useState('')
  const [isDropdownOpen, setIsDropdownOpen] = useState(false)
  const containerRef = useRef<HTMLDivElement>(null)
  const dropdownRef = useRef<HTMLDivElement>(null)
  const selectorRowRef = useRef<HTMLDivElement>(null)

  // ĐĐ˝Đ¸Ń†Đ¸Đ°Đ»Đ¸Đ·Đ°Ń†Đ¸ŃŹ: Đ¸Đ·Đ˛Đ»ĐµĐşĐ°ĐµĐĽ ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹ Đ¸ Đ˝ĐľĐĽĐµŃ€ Đ¸Đ· value
  useEffect(() => {
    if (value) {
      // ĐŃ‰ĐµĐĽ ŃŃ‚Ń€Đ°Đ˝Ń ĐżĐľ ĐşĐľĐ´Ń
      const country = countries.find(c => value.startsWith(c.dialCode))
      if (country) {
        setSelectedCountry(country)
        const number = value.replace(country.dialCode, '').trim().replace(/\D/g, '')
        // Đ¤ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ŃĐµĐĽ Đ˝ĐľĐĽĐµŃ€ ŃĐľĐłĐ»Đ°ŃĐ˝Đľ Ń„ĐľŃ€ĐĽĐ°Ń‚Ń ŃŃ‚Ń€Đ°Đ˝Ń‹
        if (country.phoneFormat && number.length > 0) {
          const formatted = formatPhoneNumber(number, country.phoneFormat)
          setPhoneNumber(formatted)
        } else {
          setPhoneNumber(number)
        }
      } else {
        setPhoneNumber(value)
      }
    }
  }, [])

  // Đ—Đ°ĐşŃ€Ń‹Ń‚Đ¸Đµ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° ĐżŃ€Đ¸ ĐşĐ»Đ¸ĐşĐµ Đ˛Đ˝Đµ ĐşĐľĐĽĐżĐľĐ˝ĐµĐ˝Ń‚Đ°
  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {
        setIsDropdownOpen(false)
      }
    }

    document.addEventListener('mousedown', handleClickOutside)
    return () => {
      document.removeEventListener('mousedown', handleClickOutside)
    }
  }, [])

  const calculateMaxDropdownWidth = () => {
    // Đ¤Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝Đ°ŃŹ ŃĐ¸Ń€Đ¸Đ˝Đ° Đ˝Đ° ĐľŃĐ˝ĐľĐ˛Đµ ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝ĐľĐłĐľ ŃĐľĐ´ĐµŃ€Đ¶Đ¸ĐĽĐľĐłĐľ
    // Đ¤Đ»Đ°Đł (20px) + gap (8px) + ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝ĐľĐµ Đ˝Đ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ŃŃ‚Ń€Đ°Đ˝Ń‹ (~150px) + gap (8px) + ĐşĐľĐ´ (~50px) + ĐşĐ˝ĐľĐżĐşĐ° (20px) + padding (32px)
    return 280
  }
  const fixedDropdownWidth = calculateMaxDropdownWidth()

  const handleCountrySelect = (country: Country) => {
    setSelectedCountry(country)
    setIsDropdownOpen(false)
    setPhoneNumber('') // Clear phone number on country change
    onChange(country.dialCode ? country.dialCode : '') // Set only dial code
  }

  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    let inputValue = e.target.value
    
    // ĐŁĐ´Đ°Đ»ŃŹĐµĐĽ Đ˛ŃĐµ Đ˝ĐµŃ†Đ¸Ń„Ń€ĐľĐ˛Ń‹Đµ ŃĐ¸ĐĽĐ˛ĐľĐ»Ń‹
    const digits = inputValue.replace(/\D/g, '')
    
    // Đ•ŃĐ»Đ¸ Đ˛Ń‹Đ±Ń€Đ°Đ˝Đ° ŃŃ‚Ń€Đ°Đ˝Đ° "other", ĐżŃ€ĐľŃŃ‚Đľ ŃĐľŃ…Ń€Đ°Đ˝ŃŹĐµĐĽ ĐşĐ°Đş ĐµŃŃ‚ŃŚ
    if (selectedCountry.code === 'other') {
      setPhoneNumber(inputValue)
      onChange(inputValue)
      return
    }

    // ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡Đ¸Đ˛Đ°ĐµĐĽ Đ´Đ»Đ¸Đ˝Ń Đ˝ĐľĐĽĐµŃ€Đ°
    if (selectedCountry.phoneLength && digits.length > selectedCountry.phoneLength) {
      return
    }

    // Đ¤ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ŃĐµĐĽ Đ˝ĐľĐĽĐµŃ€, ĐµŃĐ»Đ¸ ĐµŃŃ‚ŃŚ Ń„ĐľŃ€ĐĽĐ°Ń‚
    let formatted = digits
    if (selectedCountry.phoneFormat && digits.length > 0) {
      formatted = formatPhoneNumber(digits, selectedCountry.phoneFormat)
    }

    // ĐˇĐľŃ…Ń€Đ°Đ˝ŃŹĐµĐĽ ĐľŃ‚Ń„ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝Ń‹Đą Đ˝ĐľĐĽĐµŃ€ Đ´Đ»ŃŹ ĐľŃ‚ĐľĐ±Ń€Đ°Đ¶ĐµĐ˝Đ¸ŃŹ
    setPhoneNumber(formatted)

    // ĐžĐ±ŃŠĐµĐ´Đ¸Đ˝ŃŹĐµĐĽ ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹ Đ¸ Đ˝ĐľĐĽĐµŃ€ Đ´Đ»ŃŹ ĐľŃ‚ĐżŃ€Đ°Đ˛ĐşĐ¸
    const fullPhone = selectedCountry.dialCode ? `${selectedCountry.dialCode}${formatted.replace(/\s/g, '')}` : formatted
    onChange(fullPhone)
  }

  const getPlaceholder = () => {
    if (selectedCountry.code === 'other') {
      return 'WprowadĹş numer'
    }
    if (selectedCountry.phoneFormat) {
      return selectedCountry.phoneFormat
    }
    return 'xxx xxx xxx' // fallback
  }

  const displayName = selectedCountry.name.length > 12 
    ? selectedCountry.shortName 
    : selectedCountry.name

  return (
    <div ref={containerRef} className={`relative w-full flex items-start gap-0 ${className}`}>
      {/* ĐźĐµŃ€Đ˛Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: Đ¤Đ»Đ°Đł + ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ + ĐšĐľĐ´ (ŃĐżŃ€Đ°Đ˛Đ°) + ĐšĐ˝ĐľĐżĐşĐ° Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° */}
      <div 
        ref={selectorRowRef}
        className="flex items-center gap-2 border border-black/60 rounded-sm px-4 py-2"
        style={{ height: '42px', width: `${fixedDropdownWidth}px`, minWidth: `${fixedDropdownWidth}px` }}
      >
        <Image
          src={selectedCountry.flagImage}
          alt={selectedCountry.name}
          width={20}
          height={15}
          className="object-contain flex-shrink-0"
          style={{ width: '20px', height: '15px' }}
        />
        <span className="text-black font-sans font-medium text-base leading-tight whitespace-nowrap flex-1">
          {displayName || selectedCountry.name}
        </span>
        {selectedCountry.dialCode ? (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap flex-shrink-0">
            {selectedCountry.dialCode}
          </span>
        ) : (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap opacity-50 flex-shrink-0">
            +
          </span>
        )}
        <button
          type="button"
          onClick={() => setIsDropdownOpen(!isDropdownOpen)}
          className="hover:opacity-80 transition-opacity flex-shrink-0"
        >
          <span className="text-black text-lg">â–Ľ</span>
        </button>
      </div>

      {/* ĐźĐľĐ»Đµ Đ˛Đ˛ĐľĐ´Đ° (ĐłĐľŃ€Đ¸Đ·ĐľĐ˝Ń‚Đ°Đ»ŃŚĐ˝Đľ Ń€ŃŹĐ´ĐľĐĽ Ń ŃĐµĐ»ĐµĐşŃ‚ĐľŃ€ĐľĐĽ ŃŃ‚Ń€Đ°Đ˝Ń‹) */}
      <div className="flex-1">
        <input
          type="tel"
          value={phoneNumber} // Display only the number part
          onChange={handlePhoneChange}
          placeholder={getPlaceholder()}
          className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
          style={{ backgroundColor: 'transparent', height: '42px' }}
        />
      </div>

      {/* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş */}
      {isDropdownOpen && (
        <div
          ref={dropdownRef}
          className="absolute top-full left-0 mt-1 z-50 border border-black/20 rounded-lg shadow-lg max-h-64 overflow-y-auto custom-dropdown country-dropdown"
          style={{
            backgroundImage: 'linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)), url(/images/zmiety arkusz papieru 2.png)',
            backgroundSize: 'cover',
            backgroundPosition: 'center',
            backgroundRepeat: 'no-repeat',
            width: `${fixedDropdownWidth}px`,
            minWidth: `${fixedDropdownWidth}px`,
          }}
        >
          {countries.map((country) => (
            <button
              key={country.code}
              type="button"
              onClick={() => handleCountrySelect(country)}
              className="flex items-center gap-3 px-4 py-3 hover:bg-black/5 transition-colors text-left whitespace-nowrap w-full"
            >
              <Image
                src={country.flagImage}
                alt={country.name}
                width={24}
                height={18}
                className="object-contain flex-shrink-0"
              />
              <span className="flex-1 text-black font-sans font-medium text-base">
                {country.name}
              </span>
              {country.dialCode && (
                <span className="text-black font-sans text-sm opacity-70 whitespace-nowrap">
                  {country.dialCode}
                </span>
              )}
            </button>
          ))}
        </div>
      )}
    </div>
  )
}



--- DIFFS ---


💡 DIFF: 13e06fd3-f1b0-4773-8069-09c24ac4fbf9
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"13e06fd3-f1b0-4773-8069-09c24ac4fbf9","fileSizeBytes":7832,"numLines":205,"diffChanges":[{"originalStartLineNumberOneIndexed":119,"originalEndLineNumberExclusiveOneIndexed":120,"modifiedStartLineNumberOneIndexed":119,"modifiedEndLineNumberExclusiveOneIndexed":121,"addedLines":["      <button","        type=\"button\""],"tokenizedAddedLines":[1000169,1000170]},{"originalStartLineNumberOneIndexed":121,"originalEndLineNumberExclusiveOneIndexed":122,"modifiedStartLineNumberOneIndexed":122,"modifiedEndLineNumberExclusiveOneIndexed":124,"addedLines":["        onClick={() => setIsDropdownOpen(!isDropdownOpen)}","        className=\"flex items-center gap-2 border border-black/60 rounded-sm px-4 py-2 cursor-pointer hover:border-black/80 transition-colors\""],"tokenizedAddedLines":[1000171,1000172]},{"originalStartLineNumberOneIndexed":129,"originalEndLineNumberExclusiveOneIndexed":130,"modifiedStartLineNumberOneIndexed":131,"modifiedEndLineNumberExclusiveOneIndexed":132,"addedLines":["          className=\"object-contain flex-shrink-0 pointer-events-none\""],"tokenizedAddedLines":[1000173]},{"originalStartLineNumberOneIndexed":132,"originalEndLineNumberExclusiveOneIndexed":133,"modifiedStartLineNumberOneIndexed":134,"modifiedEndLineNumberExclusiveOneIndexed":135,"addedLines":["        <span className=\"text-black font-sans font-medium text-base leading-tight whitespace-nowrap flex-1 pointer-events-none\">"],"tokenizedAddedLines":[1000174]},{"originalStartLineNumberOneIndexed":136,"originalEndLineNumberExclusiveOneIndexed":137,"modifiedStartLineNumberOneIndexed":138,"modifiedEndLineNumberExclusiveOneIndexed":139,"addedLines":["          <span className=\"text-black font-sans font-medium text-base whitespace-nowrap flex-shrink-0 pointer-events-none\">"],"tokenizedAddedLines":[1000175]},{"originalStartLineNumberOneIndexed":140,"originalEndLineNumberExclusiveOneIndexed":141,"modifiedStartLineNumberOneIndexed":142,"modifiedEndLineNumberExclusiveOneIndexed":143,"addedLines":["          <span className=\"text-black font-sans font-medium text-base whitespace-nowrap opacity-50 flex-shrink-0 pointer-events-none\">"],"tokenizedAddedLines":[1000176]},{"originalStartLineNumberOneIndexed":144,"originalEndLineNumberExclusiveOneIndexed":150,"modifiedStartLineNumberOneIndexed":146,"modifiedEndLineNumberExclusiveOneIndexed":147,"addedLines":["        <span className=\"text-black text-lg pointer-events-none\">â–Ľ</span>"],"tokenizedAddedLines":[1000177]},{"originalStartLineNumberOneIndexed":151,"originalEndLineNumberExclusiveOneIndexed":152,"modifiedStartLineNumberOneIndexed":148,"modifiedEndLineNumberExclusiveOneIndexed":148}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 2fe15c92-d231-4277-9dae-22a75ba28212 | Время: 11/25/2025 08:38:37 =====


--- METADATA ---

{"agentRequestId":"2fe15c92-d231-4277-9dae-22a75ba28212","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"574e370f-ee75-4695-99f1-a810b97085f5","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}],"startTrackingDateUnixMilliseconds":1764056317983,"fileSizeBytes":10329,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 574e370f-ee75-4695-99f1-a810b97085f5
----------------------------------------

'use client'

import { useState, useRef, useEffect } from 'react'
import Image from 'next/image'
import { countries, Country, formatPhoneNumber } from '@/lib/countries'

interface CustomPhoneInputProps {
  value: string
  onChange: (phone: string) => void
  defaultCountry?: string
  className?: string
}

export function CustomPhoneInput({
  value,
  onChange,
  defaultCountry = 'pl',
  className = '',
}: CustomPhoneInputProps) {
  const [selectedCountry, setSelectedCountry] = useState<Country>(
    countries.find(c => c.code === defaultCountry) || countries[1] // ĐżĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ ĐźĐľĐ»ŃŚŃĐ°
  )
  const [isDropdownOpen, setIsDropdownOpen] = useState(false)
  const [phoneNumber, setPhoneNumber] = useState('')
  const dropdownRef = useRef<HTMLDivElement>(null)
  const containerRef = useRef<HTMLDivElement>(null)
  const selectorRowRef = useRef<HTMLDivElement>(null)
  
  // Đ’Ń‹Ń‡Đ¸ŃĐ»ŃŹĐµĐĽ ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝ŃŃŽ ŃĐ¸Ń€Đ¸Đ˝Ń Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° (Ń„Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝Đ°ŃŹ)
  const calculateMaxDropdownWidth = () => {
    // Đ¤Đ»Đ°Đł: 24px
    // Gap: 12px (gap-3)
    // ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ŃŃ‚Ń€Đ°Đ˝Ń‹ (ŃĐ°ĐĽĐľĐµ Đ´Đ»Đ¸Đ˝Đ˝ĐľĐµ "Wielka Brytania"): ~150px ĐżŃ€Đ¸ text-base
    // Gap: 12px
    // ĐšĐľĐ´ (ŃĐ°ĐĽŃ‹Đą Đ´Đ»Đ¸Đ˝Đ˝Ń‹Đą "+380"): ~40px
    // Padding: 32px (16px Ă— 2)
    // ĐŃ‚ĐľĐłĐľ: 24 + 12 + 150 + 12 + 40 + 32 = ~270px
    // Đ”ĐľĐ±Đ°Đ˛Đ»ŃŹĐµĐĽ Đ·Đ°ĐżĐ°Ń Đ´Đ»ŃŹ Đ±ĐµĐ·ĐľĐżĐ°ŃĐ˝ĐľŃŃ‚Đ¸
    return 280
  }
  
  const fixedDropdownWidth = calculateMaxDropdownWidth()

  // ĐĐ˝Đ¸Ń†Đ¸Đ°Đ»Đ¸Đ·Đ°Ń†Đ¸ŃŹ Đ¸Đ· value
  useEffect(() => {
    if (value) {
      // ĐźŃ‹Ń‚Đ°ĐµĐĽŃŃŹ ĐľĐżŃ€ĐµĐ´ĐµĐ»Đ¸Ń‚ŃŚ ŃŃ‚Ń€Đ°Đ˝Ń ĐżĐľ ĐşĐľĐ´Ń
      const dialCode = value.match(/^\+\d+/)?.[0]
      if (dialCode) {
        const country = countries.find(c => c.dialCode === dialCode)
        if (country) {
          setSelectedCountry(country)
          const number = value.replace(dialCode, '').trim().replace(/\s/g, '')
          setPhoneNumber(number)
        } else {
          // Đ•ŃĐ»Đ¸ ĐşĐľĐ´ Đ˝Đµ Đ˝Đ°ĐąĐ´ĐµĐ˝, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
          setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
          setPhoneNumber(value.replace(/^\+\d+\s*/, '').trim().replace(/\D/g, ''))
        }
      } else {
        // Đ•ŃĐ»Đ¸ Đ˝ĐµŃ‚ ĐşĐľĐ´Đ°, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
        setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
        setPhoneNumber(value.replace(/\D/g, ''))
      }
    }
  }, [value])

  // Đ—Đ°ĐşŃ€Ń‹Ń‚Đ¸Đµ dropdown ĐżŃ€Đ¸ ĐşĐ»Đ¸ĐşĐµ Đ˛Đ˝Đµ
  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (
        containerRef.current &&
        !containerRef.current.contains(event.target as Node)
      ) {
        setIsDropdownOpen(false)
      }
    }

    if (isDropdownOpen) {
      document.addEventListener('mousedown', handleClickOutside)
    }

    return () => {
      document.removeEventListener('mousedown', handleClickOutside)
    }
  }, [isDropdownOpen])

  // ĐŁŃŃ‚Đ°Đ˝Đ°Đ˛Đ»Đ¸Đ˛Đ°ĐµĐĽ Ń„Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝ŃŃŽ ŃĐ¸Ń€Đ¸Đ˝Ń Đ´Đ»ŃŹ ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐ¸ Đ¸ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ°
  useEffect(() => {
    if (selectorRowRef.current) {
      selectorRowRef.current.style.width = `${fixedDropdownWidth}px`
      selectorRowRef.current.style.minWidth = `${fixedDropdownWidth}px`
    }
  }, [fixedDropdownWidth])

  const handleCountrySelect = (country: Country) => {
    setSelectedCountry(country)
    setIsDropdownOpen(false)
    // ĐžĐ±Đ˝ĐľĐ˛Đ»ŃŹĐµĐĽ Đ·Đ˝Đ°Ń‡ĐµĐ˝Đ¸Đµ Ń Đ˝ĐľĐ˛Ń‹ĐĽ ĐşĐľĐ´ĐľĐĽ ŃŃ‚Ń€Đ°Đ˝Ń‹
    const newValue = country.dialCode 
      ? `${country.dialCode} ${phoneNumber}`.trim()
      : phoneNumber
    onChange(newValue)
  }

  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    let input = e.target.value.replace(/\D/g, '') // Ń‚ĐľĐ»ŃŚĐşĐľ Ń†Đ¸Ń„Ń€Ń‹
    
    // ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡Đ¸Đ˛Đ°ĐµĐĽ Đ´Đ»Đ¸Đ˝Ń Đ´Đ»ŃŹ Đ¸Đ·Đ˛ĐµŃŃ‚Đ˝Ń‹Ń… ŃŃ‚Ń€Đ°Đ˝
    if (selectedCountry.phoneLength && selectedCountry.code !== 'other') {
      input = input.slice(0, selectedCountry.phoneLength)
    }
    
    setPhoneNumber(input)
    
    // Đ¤ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ŃĐµĐĽ Đ˝ĐľĐĽĐµŃ€
    let formatted = input
    if (selectedCountry.phoneFormat && selectedCountry.code !== 'other') {
      formatted = formatPhoneNumber(input, selectedCountry.phoneFormat)
    }
    
    // ĐžĐ±Đ˝ĐľĐ˛Đ»ŃŹĐµĐĽ Đ·Đ˝Đ°Ń‡ĐµĐ˝Đ¸Đµ
    const newValue = selectedCountry.dialCode
      ? `${selectedCountry.dialCode} ${formatted}`.trim()
      : formatted
    onChange(newValue)
  }

  // ĐžĐżŃ€ĐµĐ´ĐµĐ»ŃŹĐµĐĽ, ĐşĐ°ĐşĐľĐµ Đ˝Đ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ĐżĐľĐşĐ°Đ·Ń‹Đ˛Đ°Ń‚ŃŚ (ĐżĐľĐ»Đ˝ĐľĐµ Đ¸Đ»Đ¸ ŃĐľĐşŃ€Đ°Ń‰ĐµĐ˝Đ˝ĐľĐµ)
  const displayName = selectedCountry.name.length > 12 
    ? selectedCountry.shortName 
    : selectedCountry.name

  return (
    <div ref={containerRef} className={`relative w-full flex items-start gap-0 ${className}`}>
      {/* ĐźĐµŃ€Đ˛Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: Đ¤Đ»Đ°Đł + ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ + ĐšĐľĐ´ (ŃĐżŃ€Đ°Đ˛Đ°) + ĐšĐ˝ĐľĐżĐşĐ° Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° */}
      <div 
        ref={selectorRowRef}
        className="flex items-center gap-2 border border-black/60 rounded-sm px-4 py-2 country-selector-row"
        style={{ height: '42px', width: `${fixedDropdownWidth}px`, minWidth: `${fixedDropdownWidth}px` }}
      >
        <Image
          src={selectedCountry.flagImage}
          alt={selectedCountry.name}
          width={20}
          height={15}
          className="object-contain flex-shrink-0"
          style={{ width: '20px', height: '15px' }}
        />
        <span className="text-black font-sans font-medium text-base leading-tight whitespace-nowrap flex-1">
          {displayName || selectedCountry.name}
        </span>
        {selectedCountry.dialCode ? (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap flex-shrink-0">
            {selectedCountry.dialCode}
          </span>
        ) : (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap opacity-50 flex-shrink-0">
            +
          </span>
        )}
        <button
          type="button"
          onClick={() => setIsDropdownOpen(!isDropdownOpen)}
          className="hover:opacity-80 transition-opacity flex-shrink-0"
        >
          <span className="text-black text-lg">â–Ľ</span>
        </button>
      </div>

      {/* Đ’Ń‚ĐľŃ€Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: ĐźĐľĐ»Đµ Đ˛Đ˛ĐľĐ´Đ° (ĐłĐľŃ€Đ¸Đ·ĐľĐ˝Ń‚Đ°Đ»ŃŚĐ˝Đľ Đ·Đ° ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐľĐą) */}
      <div className="flex-1">
        <input
          type="tel"
          value={selectedCountry.phoneFormat && selectedCountry.code !== 'other' && phoneNumber
            ? formatPhoneNumber(phoneNumber, selectedCountry.phoneFormat)
            : phoneNumber}
          onChange={handlePhoneChange}
          placeholder={selectedCountry.code === 'other' ? 'WprowadĹş numer' : 'xxx xxx xxx'}
          className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/50 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
          style={{ backgroundColor: 'transparent', height: '42px' }}
        />
      </div>

      {/* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş */}
      {isDropdownOpen && (
        <div
          ref={dropdownRef}
          className="absolute top-full left-0 mt-1 z-50 border border-black/20 rounded-lg shadow-lg max-h-64 overflow-y-auto custom-dropdown country-dropdown"
          style={{
            backgroundImage: 'linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)), url(/images/zmiety arkusz papieru 2.png)',
            backgroundSize: 'cover',
            backgroundPosition: 'center',
            backgroundRepeat: 'no-repeat',
            width: `${fixedDropdownWidth}px`,
            minWidth: `${fixedDropdownWidth}px`,
          }}
        >
          {countries.map((country) => (
            <button
              key={country.code}
              type="button"
              onClick={() => handleCountrySelect(country)}
              className="flex items-center gap-3 px-4 py-3 hover:bg-black/5 transition-colors text-left whitespace-nowrap w-full"
            >
              <Image
                src={country.flagImage}
                alt={country.name}
                width={24}
                height={18}
                className="object-contain flex-shrink-0"
              />
              <span className="text-black font-sans font-medium text-base">
                {country.name}
              </span>
              {country.dialCode && (
                <span className="text-black font-sans text-sm opacity-70 whitespace-nowrap">
                  {country.dialCode}
                </span>
              )}
            </button>
          ))}
        </div>
      )}
    </div>
  )
}



--- DIFFS ---


💡 DIFF: 574e370f-ee75-4695-99f1-a810b97085f5
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"574e370f-ee75-4695-99f1-a810b97085f5","fileSizeBytes":9089,"numLines":244,"diffChanges":[{"originalStartLineNumberOneIndexed":97,"originalEndLineNumberExclusiveOneIndexed":97,"modifiedStartLineNumberOneIndexed":97,"modifiedEndLineNumberExclusiveOneIndexed":100,"addedLines":["    // ĐˇĐľŃ…Ń€Đ°Đ˝ŃŹĐµĐĽ Ń‚ĐµĐşŃŃ‰Đ¸Đą Đ˝ĐľĐĽĐµŃ€ Ń‚ĐµĐ»ĐµŃ„ĐľĐ˝Đ° ĐżĐµŃ€ĐµĐ´ ŃĐĽĐµĐ˝ĐľĐą ŃŃ‚Ń€Đ°Đ˝Ń‹","    const currentPhoneNumber = phoneNumber","    "],"tokenizedAddedLines":[1000192,1000193,90]},{"originalStartLineNumberOneIndexed":99,"originalEndLineNumberExclusiveOneIndexed":100,"modifiedStartLineNumberOneIndexed":102,"modifiedEndLineNumberExclusiveOneIndexed":110,"addedLines":["    ","    // ĐžĐ±Đ˝ĐľĐ˛Đ»ŃŹĐµĐĽ Đ·Đ˝Đ°Ń‡ĐµĐ˝Đ¸Đµ Ń Đ˝ĐľĐ˛Ń‹ĐĽ ĐşĐľĐ´ĐľĐĽ ŃŃ‚Ń€Đ°Đ˝Ń‹, Đ˝Đľ ŃĐľŃ…Ń€Đ°Đ˝ŃŹĐµĐĽ Đ˛Đ˛ĐµĐ´ĐµĐ˝Đ˝Ń‹Đą Đ˝ĐľĐĽĐµŃ€","    if (currentPhoneNumber) {","      // Đ•ŃĐ»Đ¸ Đ˝ĐľĐĽĐµŃ€ Đ±Ń‹Đ» Đ˛Đ˛ĐµĐ´ĐµĐ˝, ŃĐľŃ…Ń€Đ°Đ˝ŃŹĐµĐĽ ĐµĐłĐľ Ń Đ˝ĐľĐ˛Ń‹ĐĽ ĐşĐľĐ´ĐľĐĽ ŃŃ‚Ń€Đ°Đ˝Ń‹","      const formattedNumber = country.phoneFormat && country.code !== 'other'","        ? formatPhoneNumber(currentPhoneNumber, country.phoneFormat)","        : currentPhoneNumber","      "],"tokenizedAddedLines":[90,1000194,1000195,1000196,1000197,1000198,1000199,1000200]},{"originalStartLineNumberOneIndexed":101,"originalEndLineNumberExclusiveOneIndexed":103,"modifiedStartLineNumberOneIndexed":111,"modifiedEndLineNumberExclusiveOneIndexed":117,"addedLines":["        ? `${country.dialCode} ${formattedNumber}`.trim()","        : formattedNumber","      onChange(newValue)","    } else {","      // Đ•ŃĐ»Đ¸ Đ˝ĐľĐĽĐµŃ€Đ° Đ˝Đµ Đ±Ń‹Đ»Đľ, ĐżŃ€ĐľŃŃ‚Đľ ŃŃŃ‚Đ°Đ˝Đ°Đ˛Đ»Đ¸Đ˛Đ°ĐµĐĽ ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹","      const newValue = country.dialCode ? country.dialCode : ''"],"tokenizedAddedLines":[1000201,1000202,1000203,1000204,1000205,1000206]},{"originalStartLineNumberOneIndexed":104,"originalEndLineNumberExclusiveOneIndexed":104,"modifiedStartLineNumberOneIndexed":118,"modifiedEndLineNumberExclusiveOneIndexed":119,"addedLines":["    }"],"tokenizedAddedLines":[61]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 31c7f0e7-3dc4-483e-a693-e2d8e498ffb0 | Время: 11/25/2025 12:26:27 =====


--- METADATA ---

{"agentRequestId":"31c7f0e7-3dc4-483e-a693-e2d8e498ffb0","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact-test.tsx","fileUuid":"49023abe-6e11-465a-99d3-d53f3293d1ed","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764069987858,"fileSizeBytes":13684,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 49023abe-6e11-465a-99d3-d53f3293d1ed
----------------------------------------

'use client'

import { useState } from 'react'
import { useForm, Controller } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import { Loader2 } from 'lucide-react'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'
import { CustomPhoneInput } from '@/components/ui/custom-phone-input'
import { CustomRadio } from '@/components/ui/custom-radio'
import { CustomCheckbox } from '@/components/ui/custom-checkbox'
import { SuccessModal } from '@/components/ui/success-modal'

// Schemat walidacji Zod
const formSchema = z.object({
  name: z.string().min(2, { message: 'ImiÄ™ i nazwisko musi mieÄ‡ min. 2 znaki' }),
  phone: z.string().min(9, { message: 'Numer telefonu jest za krĂłtki' }),
  email: z.string().email({ message: 'Niepoprawny adres e-mail' }),
  address: z.string().min(5, { message: 'Adres musi mieÄ‡ min. 5 znakĂłw' }),
  deviceType: z.enum(['printer', 'computer', 'other'], { required_error: 'Wybierz typ urzÄ…dzenia' }),
  deviceModel: z.string().optional(),
  problemDescription: z.string().min(10, { message: 'Opis problemu musi mieÄ‡ min. 10 znakĂłw' }),
  replacementPrinter: z.boolean().default(false),
  agreements: z.literal(true, { errorMap: () => ({ message: 'Musisz zaakceptowaÄ‡ regulamin' }) }),
})

type FormValues = z.infer<typeof formSchema>

export function ContactTest() {
  const [isSubmitting, setIsSubmitting] = useState(false)
  const [showSuccessModal, setShowSuccessModal] = useState(false)

  const {
    register,
    control,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      name: '',
      phone: '',
      email: '',
      address: '',
      deviceType: undefined,
      deviceModel: '',
      problemDescription: '',
      replacementPrinter: false,
      agreements: undefined,
    },
  })

  const onSubmit = async (data: FormValues) => {
    setIsSubmitting(true)
    try {
      const response = await fetch('/api/send-email', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      })

      if (!response.ok) {
        throw new Error('BĹ‚Ä…d podczas wysyĹ‚ania formularza')
      }

      setShowSuccessModal(true)
      reset()
    } catch (error) {
      console.error('Error submitting form:', error)
      alert('WystÄ…piĹ‚ bĹ‚Ä…d podczas wysyĹ‚ania formularza. SprĂłbuj ponownie.')
    } finally {
      setIsSubmitting(false)
    }
  }

  const onCloseSuccessModal = () => {
    setShowSuccessModal(false)
  }

  return (
    <section id="kontakt-test" className="relative pb-6 md:pb-10 pt-0">
      {/* TĹ‚o sekcji */}
      <div
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.services_background}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/50" />
      </div>

      <div className="relative z-10 container mx-auto px-4 flex flex-col items-center">
        
        {/* Tekst nad formularzem */}
        <p className="text-white/90 text-lg md:text-xl text-center mb-8 drop-shadow-md font-serif italic pt-4 md:pt-6">
          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„â€ť
        </p>

        {/* Karta formularza - ĐĽĐ°ŃŃŃ‚Đ°Đ±Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ° Đ˝Đ° 20% */}
        <div className="w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-4 md:p-6 border border-[#3a2e24]/20 scale-[0.8] origin-top">
          
          {/* NagĹ‚Ăłwek formularza */}
          <h2 className="text-[#3a2e24] text-3xl md:text-4xl font-cormorant font-bold text-center mb-4 md:mb-5 border-b border-[#3a2e24]/10 pb-3">
            Formularz zgĹ‚oszeniowy
          </h2>

          <form onSubmit={handleSubmit(onSubmit)} className="space-y-3 md:space-y-4">
            
            {/* ImiÄ™ i Telefon - Grid */}
            <div className="grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4">
              {/* ImiÄ™ i nazwisko */}
              <div className="space-y-2">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  ImiÄ™ i nazwisko
                </label>
                <input
                  {...register('name')}
                  placeholder="Jan Kowalski"
                  className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
                />
                {errors.name && (
                  <p className="text-red-600 text-sm">{errors.name.message}</p>
                )}
              </div>

              {/* Telefon */}
              <div className="space-y-2">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  Numer telefonu
                </label>
                <Controller
                  name="phone"
                  control={control}
                  render={({ field }) => (
                    <CustomPhoneInput
                      value={field.value || ''}
                      onChange={field.onChange}
                    />
                  )}
                />
                {errors.phone && (
                  <p className="text-red-600 text-sm">{errors.phone.message}</p>
                )}
              </div>
            </div>

            {/* E-mail */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres e-mail
              </label>
              <input
                {...register('email')}
                type="email"
                placeholder="jan.kowalski@example.com"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.email && (
                <p className="text-red-600 text-sm">{errors.email.message}</p>
              )}
            </div>

            {/* Adres */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres
              </label>
              <input
                {...register('address')}
                placeholder="ul. PrzykĹ‚adowa 1, 50-001 WrocĹ‚aw"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.address && (
                <p className="text-red-600 text-sm">{errors.address.message}</p>
              )}
            </div>

            {/* Typ urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg mb-2">
                Typ urzÄ…dzenia
              </label>
              <div className="flex flex-wrap gap-3">
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <>
                      <CustomRadio
                        id="device-printer"
                        name="deviceType"
                        value="printer"
                        checked={field.value === 'printer'}
                        onChange={field.onChange}
                        label="Drukarka"
                      />
                      <CustomRadio
                        id="device-computer"
                        name="deviceType"
                        value="computer"
                        checked={field.value === 'computer'}
                        onChange={field.onChange}
                        label="Komputer / Laptop"
                      />
                      <CustomRadio
                        id="device-other"
                        name="deviceType"
                        value="other"
                        checked={field.value === 'other'}
                        onChange={field.onChange}
                        label="Inne urzÄ…dzenie"
                      />
                    </>
                  )}
                />
              </div>
              {errors.deviceType && (
                <p className="text-red-600 text-sm">{errors.deviceType.message}</p>
              )}
            </div>

            {/* Model urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Model urzÄ…dzenia
              </label>
              <input
                {...register('deviceModel')}
                placeholder="np. HP LaserJet Pro M404dn"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
            </div>

            {/* Opis problemu */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Opis problemu
              </label>
              <textarea
                {...register('problemDescription')}
                rows={4}
                placeholder="ProszÄ™ opisaÄ‡ problem z urzÄ…dzeniem..."
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all resize-y"
              />
              {errors.problemDescription && (
                <p className="text-red-600 text-sm">{errors.problemDescription.message}</p>
              )}
            </div>

            {/* Checkboxy */}
            <div className="space-y-3 pt-1">
              <Controller
                name="replacementPrinter"
                control={control}
                render={({ field }) => (
                  <CustomCheckbox
                    id="replacement-printer"
                    name="replacementPrinter"
                    checked={field.value}
                    onChange={field.onChange}
                    label="PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy."
                  />
                )}
              />

              <div className="space-y-1">
                <Controller
                  name="agreements"
                  control={control}
                  render={({ field }) => (
                    <CustomCheckbox
                      id="agreements"
                      name="agreements"
                      checked={field.value || false}
                      onChange={(e) => field.onChange(e.target.checked)}
                      label={
                        <>
                          OĹ›wiadczam, ĹĽe zapoznaĹ‚em/am siÄ™ z{' '}
                          <Link href="/polityka-prywatnosci" className="underline hover:text-black/70">
                            PolitykÄ… PrywatnoĹ›ci
                          </Link>{' '}
                          oraz{' '}
                          <Link href="/regulamin" className="underline hover:text-black/70">
                            Regulaminem
                          </Link>{' '}
                          i akceptujÄ™ ich postanowienia.
                        </>
                      }
                    />
                  )}
                />
                {errors.agreements && (
                  <p className="text-red-600 text-sm ml-8">{errors.agreements.message}</p>
                )}
              </div>
            </div>

            {/* Przycisk Submit */}
            <div className="pt-4 flex justify-center">
              <button
                type="submit"
                disabled={isSubmitting}
                className="relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-black/30 shadow-[inset_0_0_20px_rgba(0,0,0,0.1)] hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.05)] rounded-full transition-all duration-300"
              >
                <span className="font-cormorant font-bold text-2xl text-black tracking-wide group-hover:text-black/80 flex items-center gap-2">
                  {isSubmitting && <Loader2 className="animate-spin h-5 w-5" />}
                  WyĹ›lij zgĹ‚oszenie
                </span>
              </button>
            </div>

          </form>
        </div>
      </div>

      {/* Success Modal */}
      <SuccessModal isOpen={showSuccessModal} onClose={onCloseSuccessModal} />
    </section>
  )
}



--- DIFFS ---


💡 DIFF: 49023abe-6e11-465a-99d3-d53f3293d1ed
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact-test.tsx","fileUuid":"49023abe-6e11-465a-99d3-d53f3293d1ed","fileSizeBytes":13358,"numLines":326,"diffChanges":[{"originalStartLineNumberOneIndexed":114,"originalEndLineNumberExclusiveOneIndexed":115,"modifiedStartLineNumberOneIndexed":114,"modifiedEndLineNumberExclusiveOneIndexed":115,"addedLines":["            <div className=\"grid grid-cols-1 gap-3 md:gap-4\">"],"tokenizedAddedLines":[1000240]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 36a356d9-d29a-4e8e-8e5f-3cdd9ffae766 | Время: 11/25/2025 11:14:05 =====


--- METADATA ---

{"agentRequestId":"36a356d9-d29a-4e8e-8e5f-3cdd9ffae766","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"d8e5401c-8869-4e94-a061-ee0ab218e308","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764065645660,"fileSizeBytes":1027,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: d8e5401c-8869-4e94-a061-ee0ab218e308
----------------------------------------

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 5rem; /* wysokoĹ›Ä‡ headera */
  }

  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .bg-paper-texture {
    background-image: url('/images/zmiety arkusz papieru 2.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }
}

--- DIFFS ---


💡 DIFF: d8e5401c-8869-4e94-a061-ee0ab218e308
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"d8e5401c-8869-4e94-a061-ee0ab218e308","fileSizeBytes":435,"numLines":23,"diffChanges":[{"originalStartLineNumberOneIndexed":8,"originalEndLineNumberExclusiveOneIndexed":9,"modifiedStartLineNumberOneIndexed":8,"modifiedEndLineNumberExclusiveOneIndexed":9,"addedLines":["    scroll-padding-top: 65px; /* wysokoĹ›Ä‡ headera */"],"tokenizedAddedLines":[1000018]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 42afcb38-7a39-4725-bd4e-638a54605f91 | Время: 11/25/2025 12:00:28 =====


--- METADATA ---

{"agentRequestId":"42afcb38-7a39-4725-bd4e-638a54605f91","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"9ea17f2b-ad16-4f0c-9425-9d209427b733","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact-test.tsx","fileUuid":"7dbe7b6c-0e61-4081-b5a4-dd79f30c2c10","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"0a63fb71-4d37-443f-9588-fb4ab38fdf7d","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764068428816,"fileSizeBytes":28050,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 0a63fb71-4d37-443f-9588-fb4ab38fdf7d
----------------------------------------

'use client'

import { useState, useRef, useEffect } from 'react'
import Image from 'next/image'
import { countries, Country, formatPhoneNumber } from '@/lib/countries'

interface CustomPhoneInputProps {
  value: string
  onChange: (value: string) => void
  className?: string
}

export function CustomPhoneInput({ value, onChange, className = '' }: CustomPhoneInputProps) {
  const [selectedCountry, setSelectedCountry] = useState<Country>(countries[0]) // ĐźĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ ĐŁĐşŃ€Đ°Đ¸Đ˝Đ°
  const [phoneNumber, setPhoneNumber] = useState('')
  const [isDropdownOpen, setIsDropdownOpen] = useState(false)
  const containerRef = useRef<HTMLDivElement>(null)
  const dropdownRef = useRef<HTMLDivElement>(null)
  const selectorRowRef = useRef<HTMLDivElement>(null)

  // ĐĐ˝Đ¸Ń†Đ¸Đ°Đ»Đ¸Đ·Đ°Ń†Đ¸ŃŹ: Đ¸Đ·Đ˛Đ»ĐµĐşĐ°ĐµĐĽ ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹ Đ¸ Đ˝ĐľĐĽĐµŃ€ Đ¸Đ· value
  useEffect(() => {
    if (value) {
      // ĐŃ‰ĐµĐĽ ŃŃ‚Ń€Đ°Đ˝Ń ĐżĐľ ĐşĐľĐ´Ń
      const country = countries.find(c => value.startsWith(c.dialCode))
      if (country) {
        setSelectedCountry(country)
        const number = value.replace(country.dialCode, '').trim()
        setPhoneNumber(number)
      } else {
        setPhoneNumber(value)
      }
    }
  }, [])

  // Đ—Đ°ĐşŃ€Ń‹Ń‚Đ¸Đµ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° ĐżŃ€Đ¸ ĐşĐ»Đ¸ĐşĐµ Đ˛Đ˝Đµ ĐşĐľĐĽĐżĐľĐ˝ĐµĐ˝Ń‚Đ°
  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {
        setIsDropdownOpen(false)
      }
    }

    document.addEventListener('mousedown', handleClickOutside)
    return () => {
      document.removeEventListener('mousedown', handleClickOutside)
    }
  }, [])

  const calculateMaxDropdownWidth = () => {
    // Đ¤Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝Đ°ŃŹ ŃĐ¸Ń€Đ¸Đ˝Đ° Đ˝Đ° ĐľŃĐ˝ĐľĐ˛Đµ ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝ĐľĐłĐľ ŃĐľĐ´ĐµŃ€Đ¶Đ¸ĐĽĐľĐłĐľ
    // Đ¤Đ»Đ°Đł (20px) + gap (8px) + ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝ĐľĐµ Đ˝Đ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ŃŃ‚Ń€Đ°Đ˝Ń‹ (~150px) + gap (8px) + ĐşĐľĐ´ (~50px) + ĐşĐ˝ĐľĐżĐşĐ° (20px) + padding (32px)
    return 280
  }
  const fixedDropdownWidth = calculateMaxDropdownWidth()

  const handleCountrySelect = (country: Country) => {
    setSelectedCountry(country)
    setIsDropdownOpen(false)
    setPhoneNumber('') // Clear phone number on country change
    onChange(country.dialCode ? country.dialCode : '') // Set only dial code
  }

  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    let inputValue = e.target.value
    
    // ĐŁĐ´Đ°Đ»ŃŹĐµĐĽ Đ˛ŃĐµ Đ˝ĐµŃ†Đ¸Ń„Ń€ĐľĐ˛Ń‹Đµ ŃĐ¸ĐĽĐ˛ĐľĐ»Ń‹
    const digits = inputValue.replace(/\D/g, '')
    
    // Đ•ŃĐ»Đ¸ Đ˛Ń‹Đ±Ń€Đ°Đ˝Đ° ŃŃ‚Ń€Đ°Đ˝Đ° "other", ĐżŃ€ĐľŃŃ‚Đľ ŃĐľŃ…Ń€Đ°Đ˝ŃŹĐµĐĽ ĐşĐ°Đş ĐµŃŃ‚ŃŚ
    if (selectedCountry.code === 'other') {
      setPhoneNumber(inputValue)
      onChange(inputValue)
      return
    }

    // ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡Đ¸Đ˛Đ°ĐµĐĽ Đ´Đ»Đ¸Đ˝Ń Đ˝ĐľĐĽĐµŃ€Đ°
    if (selectedCountry.phoneLength && digits.length > selectedCountry.phoneLength) {
      return
    }

    setPhoneNumber(digits)

    // Đ¤ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ŃĐµĐĽ Đ˝ĐľĐĽĐµŃ€, ĐµŃĐ»Đ¸ ĐµŃŃ‚ŃŚ Ń„ĐľŃ€ĐĽĐ°Ń‚
    let formatted = digits
    if (selectedCountry.phoneFormat && digits.length > 0) {
      formatted = formatPhoneNumber(digits, selectedCountry.phoneFormat)
    }

    // ĐžĐ±ŃŠĐµĐ´Đ¸Đ˝ŃŹĐµĐĽ ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹ Đ¸ Đ˝ĐľĐĽĐµŃ€
    const fullPhone = selectedCountry.dialCode ? `${selectedCountry.dialCode}${formatted}` : formatted
    onChange(fullPhone)
  }

  const getPlaceholder = () => {
    if (selectedCountry.code === 'other') {
      return 'WprowadĹş numer'
    }
    if (selectedCountry.phoneFormat) {
      return selectedCountry.phoneFormat
    }
    return 'xxx xxx xxx' // fallback
  }

  const displayName = selectedCountry.name.length > 12 
    ? selectedCountry.shortName 
    : selectedCountry.name

  return (
    <div ref={containerRef} className={`relative w-full flex items-start gap-0 ${className}`}>
      {/* ĐźĐµŃ€Đ˛Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: Đ¤Đ»Đ°Đł + ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ + ĐšĐľĐ´ (ŃĐżŃ€Đ°Đ˛Đ°) + ĐšĐ˝ĐľĐżĐşĐ° Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° */}
      <div 
        ref={selectorRowRef}
        className="flex items-center gap-2 border border-black/60 rounded-sm px-4 py-2"
        style={{ height: '42px', width: `${fixedDropdownWidth}px`, minWidth: `${fixedDropdownWidth}px` }}
      >
        <Image
          src={selectedCountry.flagImage}
          alt={selectedCountry.name}
          width={20}
          height={15}
          className="object-contain flex-shrink-0"
          style={{ width: '20px', height: '15px' }}
        />
        <span className="text-black font-sans font-medium text-base leading-tight whitespace-nowrap flex-1">
          {displayName || selectedCountry.name}
        </span>
        {selectedCountry.dialCode ? (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap flex-shrink-0">
            {selectedCountry.dialCode}
          </span>
        ) : (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap opacity-50 flex-shrink-0">
            +
          </span>
        )}
        <button
          type="button"
          onClick={() => setIsDropdownOpen(!isDropdownOpen)}
          className="hover:opacity-80 transition-opacity flex-shrink-0"
        >
          <span className="text-black text-lg">â–Ľ</span>
        </button>
      </div>

      {/* Đ’Ń‚ĐľŃ€Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: ĐźĐľĐ»Đµ Đ˛Đ˛ĐľĐ´Đ° (ĐłĐľŃ€Đ¸Đ·ĐľĐ˝Ń‚Đ°Đ»ŃŚĐ˝Đľ Đ·Đ° ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐľĐą) */}
      <div className="flex-1">
        <input
          type="tel"
          value={phoneNumber} // Display only the number part
          onChange={handlePhoneChange}
          placeholder={getPlaceholder()}
          className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
          style={{ backgroundColor: 'transparent', height: '42px' }}
        />
      </div>

      {/* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş */}
      {isDropdownOpen && (
        <div
          ref={dropdownRef}
          className="absolute top-full left-0 mt-1 z-50 border border-black/20 rounded-lg shadow-lg max-h-64 overflow-y-auto custom-dropdown country-dropdown"
          style={{
            backgroundImage: 'linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)), url(/images/zmiety arkusz papieru 2.png)',
            backgroundSize: 'cover',
            backgroundPosition: 'center',
            backgroundRepeat: 'no-repeat',
            width: `${fixedDropdownWidth}px`,
            minWidth: `${fixedDropdownWidth}px`,
          }}
        >
          {countries.map((country) => (
            <button
              key={country.code}
              type="button"
              onClick={() => handleCountrySelect(country)}
              className="flex items-center gap-3 px-4 py-3 hover:bg-black/5 transition-colors text-left whitespace-nowrap w-full"
            >
              <Image
                src={country.flagImage}
                alt={country.name}
                width={24}
                height={18}
                className="object-contain flex-shrink-0"
              />
              <span className="flex-1 text-black font-sans font-medium text-base">
                {country.name}
              </span>
              {country.dialCode && (
                <span className="text-black font-sans text-sm opacity-70 whitespace-nowrap">
                  {country.dialCode}
                </span>
              )}
            </button>
          ))}
        </div>
      )}
    </div>
  )
}


🗂 FILE: 7dbe7b6c-0e61-4081-b5a4-dd79f30c2c10
----------------------------------------

'use client'

import { useState } from 'react'
import { useForm, Controller } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import { Loader2 } from 'lucide-react'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'
import { CustomPhoneInput } from '@/components/ui/custom-phone-input'
import { CustomRadio } from '@/components/ui/custom-radio'
import { CustomCheckbox } from '@/components/ui/custom-checkbox'
import { SuccessModal } from '@/components/ui/success-modal'

// Schemat walidacji Zod
const formSchema = z.object({
  name: z.string().min(2, { message: 'ImiÄ™ i nazwisko musi mieÄ‡ min. 2 znaki' }),
  phone: z.string().min(9, { message: 'Numer telefonu jest za krĂłtki' }),
  email: z.string().email({ message: 'Niepoprawny adres e-mail' }),
  address: z.string().min(5, { message: 'Adres musi mieÄ‡ min. 5 znakĂłw' }),
  deviceType: z.enum(['printer', 'computer', 'other'], { required_error: 'Wybierz typ urzÄ…dzenia' }),
  deviceModel: z.string().optional(),
  problemDescription: z.string().min(10, { message: 'Opis problemu musi mieÄ‡ min. 10 znakĂłw' }),
  replacementPrinter: z.boolean().default(false),
  agreements: z.literal(true, { errorMap: () => ({ message: 'Musisz zaakceptowaÄ‡ regulamin' }) }),
})

type FormValues = z.infer<typeof formSchema>

export function ContactTest() {
  const [isSubmitting, setIsSubmitting] = useState(false)
  const [showSuccessModal, setShowSuccessModal] = useState(false)

  const {
    register,
    control,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      name: '',
      phone: '',
      email: '',
      address: '',
      deviceType: undefined,
      deviceModel: '',
      problemDescription: '',
      replacementPrinter: false,
      agreements: undefined,
    },
  })

  const onSubmit = async (data: FormValues) => {
    setIsSubmitting(true)
    try {
      const response = await fetch('/api/send-email', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      })

      if (!response.ok) {
        throw new Error('BĹ‚Ä…d podczas wysyĹ‚ania formularza')
      }

      setShowSuccessModal(true)
      reset()
    } catch (error) {
      console.error('Error submitting form:', error)
      alert('WystÄ…piĹ‚ bĹ‚Ä…d podczas wysyĹ‚ania formularza. SprĂłbuj ponownie.')
    } finally {
      setIsSubmitting(false)
    }
  }

  const onCloseSuccessModal = () => {
    setShowSuccessModal(false)
  }

  return (
    <section id="kontakt-test" className="relative pb-6 md:pb-10 pt-0">
      {/* TĹ‚o sekcji */}
      <div
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.services_background}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/50" />
      </div>

      <div className="relative z-10 container mx-auto px-4 flex flex-col items-center">
        
        {/* Tekst nad formularzem */}
        <p className="text-white/90 text-lg md:text-xl text-center mb-8 drop-shadow-md font-serif italic pt-4 md:pt-6">
          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„â€ť
        </p>

        {/* Karta formularza - ĐĽĐ°ŃŃŃ‚Đ°Đ±Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ° Đ˝Đ° 20% */}
        <div className="w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-4 md:p-6 border border-[#3a2e24]/20 scale-[0.8] origin-top">
          
          {/* NagĹ‚Ăłwek formularza */}
          <h2 className="text-[#3a2e24] text-3xl md:text-4xl font-cormorant font-bold text-center mb-4 md:mb-5 border-b border-[#3a2e24]/10 pb-3">
            Formularz zgĹ‚oszeniowy
          </h2>

          <form onSubmit={handleSubmit(onSubmit)} className="space-y-3 md:space-y-4">
            
            {/* ImiÄ™ i Telefon - Grid */}
            <div className="grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4">
              {/* ImiÄ™ i nazwisko */}
              <div className="space-y-2">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  ImiÄ™ i nazwisko
                </label>
                <input
                  {...register('name')}
                  placeholder="Jan Kowalski"
                  className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
                />
                {errors.name && (
                  <p className="text-red-600 text-sm">{errors.name.message}</p>
                )}
              </div>

              {/* Telefon */}
              <div className="space-y-2">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  Numer telefonu
                </label>
                <Controller
                  name="phone"
                  control={control}
                  render={({ field }) => (
                    <CustomPhoneInput
                      value={field.value || ''}
                      onChange={field.onChange}
                    />
                  )}
                />
                {errors.phone && (
                  <p className="text-red-600 text-sm">{errors.phone.message}</p>
                )}
              </div>
            </div>

            {/* E-mail */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres e-mail
              </label>
              <input
                {...register('email')}
                type="email"
                placeholder="jan.kowalski@example.com"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.email && (
                <p className="text-red-600 text-sm">{errors.email.message}</p>
              )}
            </div>

            {/* Adres */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres
              </label>
              <input
                {...register('address')}
                placeholder="ul. PrzykĹ‚adowa 1, 50-001 WrocĹ‚aw"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.address && (
                <p className="text-red-600 text-sm">{errors.address.message}</p>
              )}
            </div>

            {/* Typ urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg mb-2">
                Typ urzÄ…dzenia
              </label>
              <div className="flex flex-wrap gap-3">
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <>
                      <CustomRadio
                        id="device-printer"
                        name="deviceType"
                        value="printer"
                        checked={field.value === 'printer'}
                        onChange={field.onChange}
                        label="Drukarka"
                      />
                      <CustomRadio
                        id="device-computer"
                        name="deviceType"
                        value="computer"
                        checked={field.value === 'computer'}
                        onChange={field.onChange}
                        label="Komputer / Laptop"
                      />
                      <CustomRadio
                        id="device-other"
                        name="deviceType"
                        value="other"
                        checked={field.value === 'other'}
                        onChange={field.onChange}
                        label="Inne urzÄ…dzenie"
                      />
                    </>
                  )}
                />
              </div>
              {errors.deviceType && (
                <p className="text-red-600 text-sm">{errors.deviceType.message}</p>
              )}
            </div>

            {/* Model urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Model urzÄ…dzenia
              </label>
              <input
                {...register('deviceModel')}
                placeholder="np. HP LaserJet Pro M404dn"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
            </div>

            {/* Opis problemu */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Opis problemu
              </label>
              <textarea
                {...register('problemDescription')}
                rows={4}
                placeholder="ProszÄ™ opisaÄ‡ problem z urzÄ…dzeniem..."
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all resize-y"
              />
              {errors.problemDescription && (
                <p className="text-red-600 text-sm">{errors.problemDescription.message}</p>
              )}
            </div>

            {/* Checkboxy */}
            <div className="space-y-3 pt-1">
              <Controller
                name="replacementPrinter"
                control={control}
                render={({ field }) => (
                  <CustomCheckbox
                    id="replacement-printer"
                    name="replacementPrinter"
                    checked={field.value}
                    onChange={field.onChange}
                    label="PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy."
                  />
                )}
              />

              <div className="space-y-1">
                <Controller
                  name="agreements"
                  control={control}
                  render={({ field }) => (
                    <CustomCheckbox
                      id="agreements"
                      name="agreements"
                      checked={field.value || false}
                      onChange={(e) => field.onChange(e.target.checked)}
                      label={
                        <>
                          OĹ›wiadczam, ĹĽe zapoznaĹ‚em/am siÄ™ z{' '}
                          <Link href="/polityka-prywatnosci" className="underline hover:text-black/70">
                            PolitykÄ… PrywatnoĹ›ci
                          </Link>{' '}
                          oraz{' '}
                          <Link href="/regulamin" className="underline hover:text-black/70">
                            Regulaminem
                          </Link>{' '}
                          i akceptujÄ™ ich postanowienia.
                        </>
                      }
                    />
                  )}
                />
                {errors.agreements && (
                  <p className="text-red-600 text-sm ml-8">{errors.agreements.message}</p>
                )}
              </div>
            </div>

            {/* Przycisk Submit */}
            <div className="pt-4 flex justify-center">
              <button
                type="submit"
                disabled={isSubmitting}
                className="relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-black/30 shadow-[inset_0_0_20px_rgba(0,0,0,0.1)] hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.05)] rounded-full transition-all duration-300"
              >
                <span className="font-cormorant font-bold text-2xl text-black tracking-wide group-hover:text-black/80 flex items-center gap-2">
                  {isSubmitting && <Loader2 className="animate-spin h-5 w-5" />}
                  WyĹ›lij zgĹ‚oszenie
                </span>
              </button>
            </div>

          </form>
        </div>
      </div>

      {/* Success Modal */}
      <SuccessModal isOpen={showSuccessModal} onClose={onCloseSuccessModal} />
    </section>
  )
}


🗂 FILE: 9ea17f2b-ad16-4f0c-9425-9d209427b733
----------------------------------------

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 65px; /* wysokoĹ›Ä‡ headera */
  }

  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .bg-paper-texture {
    background-image: url('/images/zmiety arkusz papieru 2.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }

  /* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş ŃŃ‚Ń€Đ°Đ˝ - ĐżĐľĐ´Đ»ĐľĐ¶ĐşĐ° Đ¸Đ· ŃĐĽŃŹŃ‚ĐľĐłĐľ Đ»Đ¸ŃŃ‚Đ° */
  .custom-dropdown {
    background-image: 
      linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)),
      url('/images/zmiety arkusz papieru 2.png') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
  }

  /* ĐˇĐşŃ€ĐľĐ»Đ»Đ±Đ°Ń€ Đ´Đ»ŃŹ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° ŃŃ‚Ń€Đ°Đ˝ */
  .custom-dropdown::-webkit-scrollbar {
    width: 8px;
  }

  .custom-dropdown::-webkit-scrollbar-track {
    background-image: 
      linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)),
      url('/images/zmiety arkusz papieru 2.png') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    border-radius: 4px;
  }

  .custom-dropdown::-webkit-scrollbar-thumb {
    background: rgba(58, 46, 36, 0.3) !important;
    border-radius: 4px;
  }

  .custom-dropdown::-webkit-scrollbar-thumb:hover {
    background: rgba(58, 46, 36, 0.5) !important;
  }

  /* Đ”Đ»ŃŹ Firefox */
  .custom-dropdown {
    scrollbar-width: thin;
    scrollbar-color: rgba(58, 46, 36, 0.3) transparent;
  }

  /* ĐĐ˝Đ¸ĐĽĐ°Ń†Đ¸ŃŹ ĐżĐľŃŹĐ˛Đ»ĐµĐ˝Đ¸ŃŹ ĐĽĐľĐ´Đ°Đ»ŃŚĐ˝ĐľĐłĐľ ĐľĐşĐ˝Đ° */
  @keyframes modalAppear {
    from {
      opacity: 0;
      transform: scale(0.9) translateY(-10px);
    }
    to {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }

  .animate-modal-appear {
    animation: modalAppear 0.3s ease-out;
  }

  /* ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ Đ˛ŃĐµŃ… ĐżĐľĐ»ĐµĐą Đ˛Đ˛ĐľĐ´Đ° */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input:not([type="radio"]):not([type="checkbox"]):not([type="submit"]):not([type="button"]):not([type="hidden"]) {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }

  textarea {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }

  input[type="text"]:-webkit-autofill,
  input[type="text"]:-webkit-autofill:hover,
  input[type="text"]:-webkit-autofill:focus,
  input[type="text"]:-webkit-autofill:active,
  input[type="email"]:-webkit-autofill,
  input[type="email"]:-webkit-autofill:hover,
  input[type="email"]:-webkit-autofill:focus,
  input[type="email"]:-webkit-autofill:active,
  input[type="tel"]:-webkit-autofill,
  input[type="tel"]:-webkit-autofill:hover,
  input[type="tel"]:-webkit-autofill:focus,
  input[type="tel"]:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #000000 !important;
    color: #000000 !important;
  }
}

--- DIFFS ---


💡 DIFF: 0a63fb71-4d37-443f-9588-fb4ab38fdf7d
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"0a63fb71-4d37-443f-9588-fb4ab38fdf7d","fileSizeBytes":7432,"numLines":202,"diffChanges":[{"originalStartLineNumberOneIndexed":146,"originalEndLineNumberExclusiveOneIndexed":147,"modifiedStartLineNumberOneIndexed":146,"modifiedEndLineNumberExclusiveOneIndexed":147,"addedLines":["      {/* ĐźĐľĐ»Đµ Đ˛Đ˛ĐľĐ´Đ° (ĐłĐľŃ€Đ¸Đ·ĐľĐ˝Ń‚Đ°Đ»ŃŚĐ˝Đľ Ń€ŃŹĐ´ĐľĐĽ Ń ŃĐµĐ»ĐµĐşŃ‚ĐľŃ€ĐľĐĽ ŃŃ‚Ń€Đ°Đ˝Ń‹) */}"],"tokenizedAddedLines":[1000162]},{"originalStartLineNumberOneIndexed":201,"originalEndLineNumberExclusiveOneIndexed":201,"modifiedStartLineNumberOneIndexed":201,"modifiedEndLineNumberExclusiveOneIndexed":202,"addedLines":[""],"tokenizedAddedLines":[2]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

💡 DIFF: 7dbe7b6c-0e61-4081-b5a4-dd79f30c2c10
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact-test.tsx","fileUuid":"7dbe7b6c-0e61-4081-b5a4-dd79f30c2c10","fileSizeBytes":13373,"numLines":326,"diffChanges":[{"originalStartLineNumberOneIndexed":114,"originalEndLineNumberExclusiveOneIndexed":115,"modifiedStartLineNumberOneIndexed":114,"modifiedEndLineNumberExclusiveOneIndexed":115,"addedLines":["            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-3 md:gap-4\">"],"tokenizedAddedLines":[1000240]},{"originalStartLineNumberOneIndexed":325,"originalEndLineNumberExclusiveOneIndexed":325,"modifiedStartLineNumberOneIndexed":325,"modifiedEndLineNumberExclusiveOneIndexed":326,"addedLines":[""],"tokenizedAddedLines":[2]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

💡 DIFF: 9ea17f2b-ad16-4f0c-9425-9d209427b733
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"9ea17f2b-ad16-4f0c-9425-9d209427b733","fileSizeBytes":5184,"numLines":155,"diffChanges":[{"originalStartLineNumberOneIndexed":117,"originalEndLineNumberExclusiveOneIndexed":117,"modifiedStartLineNumberOneIndexed":117,"modifiedEndLineNumberExclusiveOneIndexed":155,"addedLines":["","  /* ĐˇĐżĐµŃ†Đ¸Ń„Đ¸Ń‡Đ˝Ń‹Đµ ŃŃ‚Đ¸Đ»Đ¸ Đ´Đ»ŃŹ ĐżŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝ĐľĐłĐľ Ń„ĐľĐ˝Đ° Đ˛ #kontakt-test */","  #kontakt-test input[type=\"text\"],","  #kontakt-test input[type=\"email\"],","  #kontakt-test input[type=\"tel\"],","  #kontakt-test input:not([type=\"radio\"]):not([type=\"checkbox\"]):not([type=\"submit\"]):not([type=\"button\"]):not([type=\"hidden\"]) {","    background-color: transparent !important;","    background: transparent !important;","    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;","    box-shadow: 0 0 0 1000px transparent inset !important;","  }","","  #kontakt-test textarea {","    background-color: transparent !important;","    background: transparent !important;","    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;","    box-shadow: 0 0 0 1000px transparent inset !important;","  }","","  #kontakt-test input[type=\"text\"]:-webkit-autofill,","  #kontakt-test input[type=\"text\"]:-webkit-autofill:hover,","  #kontakt-test input[type=\"text\"]:-webkit-autofill:focus,","  #kontakt-test input[type=\"text\"]:-webkit-autofill:active,","  #kontakt-test input[type=\"email\"]:-webkit-autofill,","  #kontakt-test input[type=\"email\"]:-webkit-autofill:hover,","  #kontakt-test input[type=\"email\"]:-webkit-autofill:focus,","  #kontakt-test input[type=\"email\"]:-webkit-autofill:active,","  #kontakt-test input[type=\"tel\"]:-webkit-autofill,","  #kontakt-test input[type=\"tel\"]:-webkit-autofill:hover,","  #kontakt-test input[type=\"tel\"]:-webkit-autofill:focus,","  #kontakt-test input[type=\"tel\"]:-webkit-autofill:active {","    background-color: transparent !important;","    background: transparent !important;","    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;","    box-shadow: 0 0 0 1000px transparent inset !important;","    -webkit-text-fill-color: #000000 !important;","    color: #000000 !important;","  }"],"tokenizedAddedLines":[4,1000073,1000074,1000075,1000076,1000077,55,56,57,58,9,4,1000078,55,56,57,58,9,4,1000079,1000080,1000081,1000082,1000083,1000084,1000085,1000086,1000087,1000088,1000089,1000090,55,56,57,58,72,73,9]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 45418b2b-7710-4a54-b6f7-4144842aed10 | Время: 11/25/2025 10:58:41 =====


--- METADATA ---

{"agentRequestId":"45418b2b-7710-4a54-b6f7-4144842aed10","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\page.tsx","fileUuid":"1cf2cc14-7fe1-4c7f-bbd5-6496e89e422e","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact-test.tsx","fileUuid":"91fe4cfd-b824-459f-9427-825601816ab3","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}],"startTrackingDateUnixMilliseconds":1764064721245,"fileSizeBytes":18791,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 1cf2cc14-7fe1-4c7f-bbd5-6496e89e422e
----------------------------------------

import { Header } from '@/components/header'
import { Hero } from '@/components/sections/hero'
import { About } from '@/components/sections/about'
import { Services } from '@/components/sections/services'
import { Contact } from '@/components/sections/contact'
import { Footer } from '@/components/footer'

export default function Home() {
  return (
    <>
      <Header />
      <Hero />
      <Services />
      <About />
      <Contact />
      <Footer />
    </>
  )
}

🗂 FILE: 91fe4cfd-b824-459f-9427-825601816ab3
----------------------------------------

'use client'

import { useState, useEffect, useRef } from 'react'
import { useForm, Controller } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import { toast, Toaster } from 'sonner'
import { Loader2 } from 'lucide-react'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'
import { CustomRadio } from '@/components/ui/custom-radio'
import { CustomCheckbox } from '@/components/ui/custom-checkbox'
import { CustomPhoneInput } from '@/components/ui/custom-phone-input'
import { SuccessModal } from '@/components/ui/success-modal'

// Schemat walidacji Zod
const formSchema = z.object({
  name: z.string().min(2, { message: 'ImiÄ™ i nazwisko musi mieÄ‡ min. 2 znaki' }),
  phone: z.string().refine((val) => {
    // Đ•ŃĐ»Đ¸ Đ˝ĐľĐĽĐµŃ€ ŃĐľĐ´ĐµŃ€Đ¶Đ¸Ń‚ "other" Đ¸Đ»Đ¸ ĐżŃŃŃ‚ĐľĐą ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹, ĐżŃ€ĐľĐżŃŃĐşĐ°ĐµĐĽ Đ˛Đ°Đ»Đ¸Đ´Đ°Ń†Đ¸ŃŽ
    if (!val || val.trim() === '') return false
    // ĐźŃ€ĐľĐ˛ĐµŃ€ŃŹĐµĐĽ, ĐµŃŃ‚ŃŚ Đ»Đ¸ ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹ (Đ˝Đ°Ń‡Đ¸Đ˝Đ°ĐµŃ‚ŃŃŹ Ń +)
    if (!val.startsWith('+')) return false
    // ĐśĐ¸Đ˝Đ¸ĐĽĐ°Đ»ŃŚĐ˝Đ°ŃŹ Đ´Đ»Đ¸Đ˝Đ° Ń ĐşĐľĐ´ĐľĐĽ ŃŃ‚Ń€Đ°Đ˝Ń‹
    return val.replace(/\D/g, '').length >= 10
  }, { message: 'Numer telefonu jest niepoprawny' }),
  email: z.string().email({ message: 'Niepoprawny adres e-mail' }),
  address: z.string().min(5, { message: 'Adres musi mieÄ‡ min. 5 znakĂłw' }),
  deviceType: z.enum(['printer', 'computer', 'other'], { message: 'Wybierz typ urzÄ…dzenia' }),
  deviceModel: z.string().optional(),
  problemDescription: z.string().min(10, { message: 'Opis problemu musi mieÄ‡ min. 10 znakĂłw' }),
  replacementPrinter: z.boolean(),
  agreements: z.literal(true, { message: 'Musisz zaakceptowaÄ‡ regulamin' }),
})

type FormValues = z.infer<typeof formSchema>

export function ContactTest() {
  const [isSubmitting, setIsSubmitting] = useState(false)
  const [showSuccessModal, setShowSuccessModal] = useState(false)
  const formRef = useRef<HTMLFormElement>(null)

  const {
    register,
    control,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      name: '',
      phone: '',
      email: '',
      address: '',
      deviceType: undefined,
      deviceModel: '',
      problemDescription: '',
      replacementPrinter: false,
      agreements: undefined,
    },
  })

  // ĐźŃ€Đ¸Đ˝ŃĐ´Đ¸Ń‚ĐµĐ»ŃŚĐ˝ĐľĐµ ĐżŃ€Đ¸ĐĽĐµĐ˝ĐµĐ˝Đ¸Đµ ĐżŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝ĐľĐłĐľ Ń„ĐľĐ˝Đ° ĐżĐľŃĐ»Đµ Đ°Đ˛Ń‚ĐľĐ·Đ°ĐżĐľĐ»Đ˝ĐµĐ˝Đ¸ŃŹ
  useEffect(() => {
    const fixAutofillStyles = () => {
      if (formRef.current) {
        const inputs = formRef.current.querySelectorAll<HTMLInputElement>(
          'input[type="text"], input[type="email"], input[type="tel"]'
        )
        
        inputs.forEach((input) => {
          // Đ¤ŃĐ˝ĐşŃ†Đ¸ŃŹ Đ´Đ»ŃŹ ĐżŃ€Đ¸ĐĽĐµĐ˝ĐµĐ˝Đ¸ŃŹ ĐżŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝ĐľĐłĐľ Ń„ĐľĐ˝Đ°
          const applyTransparent = () => {
            input.style.setProperty('background-color', 'transparent', 'important')
            input.style.setProperty('background', 'transparent', 'important')
            input.style.setProperty('-webkit-box-shadow', '0 0 0 1000px transparent inset', 'important')
            input.style.setProperty('box-shadow', '0 0 0 1000px transparent inset', 'important')
          }
          
          // ĐźŃ€Đ¸ĐĽĐµĐ˝ŃŹĐµĐĽ ŃŃ€Đ°Đ·Ń
          applyTransparent()
          
          // ĐžĐ±Ń€Đ°Đ±ĐľŃ‚Ń‡Đ¸ĐşĐ¸ ŃĐľĐ±Ń‹Ń‚Đ¸Đą
          input.addEventListener('input', applyTransparent)
          input.addEventListener('change', applyTransparent)
          input.addEventListener('focus', applyTransparent)
          input.addEventListener('blur', applyTransparent)
          
          // ĐžĐ±Ń€Đ°Đ±ĐľŃ‚Ń‡Đ¸Đş Đ´Đ»ŃŹ Đ°Đ˛Ń‚ĐľĐ·Đ°ĐżĐľĐ»Đ˝ĐµĐ˝Đ¸ŃŹ (ĐşĐľĐłĐ´Đ° Đ±Ń€Đ°ŃĐ·ĐµŃ€ ĐżŃ€Đ¸ĐĽĐµĐ˝ŃŹĐµŃ‚ ŃŃ‚Đ¸Đ»Đ¸)
          const observer = new MutationObserver(() => {
            // ĐźŃ€ĐľĐ˛ĐµŃ€ŃŹĐµĐĽ, ĐµŃŃ‚ŃŚ Đ»Đ¸ ĐşĐ»Đ°ŃŃ Đ°Đ˛Ń‚ĐľĐ·Đ°ĐżĐľĐ»Đ˝ĐµĐ˝Đ¸ŃŹ
            if (input.matches(':-webkit-autofill')) {
              applyTransparent()
            }
          })
          
          observer.observe(input, {
            attributes: true,
            attributeFilter: ['style', 'class'],
            childList: false,
            subtree: false,
          })
          
          // ĐźŃ€ĐľĐ˛ĐµŃ€ŃŹĐµĐĽ ĐşĐ°Đ¶Đ´Ń‹Đµ 100ĐĽŃ Đ˛ Ń‚ĐµŃ‡ĐµĐ˝Đ¸Đµ ĐżĐµŃ€Đ˛Ń‹Ń… 2 ŃĐµĐşŃĐ˝Đ´ (Đ˛Ń€ĐµĐĽŃŹ, ĐşĐľĐłĐ´Đ° Đ±Ń€Đ°ŃĐ·ĐµŃ€ ĐżŃ€Đ¸ĐĽĐµĐ˝ŃŹĐµŃ‚ Đ°Đ˛Ń‚ĐľĐ·Đ°ĐżĐľĐ»Đ˝ĐµĐ˝Đ¸Đµ)
          let checkCount = 0
          const checkInterval = setInterval(() => {
            applyTransparent()
            checkCount++
            if (checkCount >= 20) {
              clearInterval(checkInterval)
            }
          }, 100)
        })
      }
    }

    // ĐźŃ€Đ¸ĐĽĐµĐ˝ŃŹĐµĐĽ Ń Đ·Đ°Đ´ĐµŃ€Đ¶ĐşĐľĐą, Ń‡Ń‚ĐľĐ±Ń‹ Ń„ĐľŃ€ĐĽĐ° ŃŃĐżĐµĐ»Đ° ĐľŃ‚Ń€ĐµĐ˝Đ´ĐµŃ€Đ¸Ń‚ŃŚŃŃŹ
    const timer = setTimeout(fixAutofillStyles, 100)
    const timer2 = setTimeout(fixAutofillStyles, 500)
    const timer3 = setTimeout(fixAutofillStyles, 1000)

    return () => {
      clearTimeout(timer)
      clearTimeout(timer2)
      clearTimeout(timer3)
    }
  }, [])

  const onSubmit = async (data: FormValues) => {
    setIsSubmitting(true)
    
    try {
      // ĐžŃ‚ĐżŃ€Đ°Đ˛Đ»ŃŹĐµĐĽ Đ´Đ°Đ˝Đ˝Ń‹Đµ Đ˝Đ° API
      const response = await fetch('/api/send-email', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      })

      if (!response.ok) {
        const errorData = await response.json().catch(() => ({}))
        throw new Error(errorData.error || 'BĹ‚Ä…d podczas wysyĹ‚ania')
      }

      // ĐžŃ‡Đ¸Ń‰Đ°ĐµĐĽ Ń„ĐľŃ€ĐĽŃ
      reset()
      
      // ĐźĐľĐşĐ°Đ·Ń‹Đ˛Đ°ĐµĐĽ ĐĽĐľĐ´Đ°Đ»ŃŚĐ˝ĐľĐµ ĐľĐşĐ˝Đľ
      setShowSuccessModal(true)
    } catch (error) {
      console.error('Error sending email:', error)
      toast.error('WystÄ…piĹ‚ bĹ‚Ä…d podczas wysyĹ‚ania zgĹ‚oszenia. SprĂłbuj ponownie.')
    } finally {
      setIsSubmitting(false)
    }
  }

  return (
    <section id="kontakt-test" className="relative pb-6 md:pb-10 pt-0">
      <Toaster position="bottom-center" />
      
      {/* TĹ‚o sekcji */}
      <div
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.services_background}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/50" />
      </div>

      <div className="relative z-10 container mx-auto px-4 flex flex-col items-center">
        
        {/* Tekst nad formularzem */}
        <p className="text-[22px] text-[#fff8e7] font-cormorant italic font-semibold text-center mb-8 drop-shadow-2xl pt-4 md:pt-6">
          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„"
        </p>

        {/* Karta formularza */}
        <div className="w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-4 md:p-6 border border-black/20 scale-[0.8] origin-top">
          
          {/* NagĹ‚Ăłwek formularza */}
          <h2 className="text-black text-3xl md:text-4xl font-cormorant italic font-bold text-center mb-4 md:mb-5 border-b border-black/10 pb-3 md:pb-3">
            Formularz zgĹ‚oszeniowy (TEST - Nowa wersja)
          </h2>

          <form ref={formRef} onSubmit={handleSubmit(onSubmit)} className="space-y-3 md:space-y-4">
            
            {/* ImiÄ™ i nazwisko */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                ImiÄ™ i nazwisko
              </label>
              <input
                {...register('name')}
                type="text"
                placeholder="Jan Kowalski"
                autoComplete="off"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/60 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all resize-y"
              />
              {errors.name && (
                <p className="text-red-600 text-sm">{errors.name.message}</p>
              )}
            </div>

            {/* Telefon */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Numer telefonu
              </label>
              <div className="phone-input-container">
                <Controller
                  name="phone"
                  control={control}
                  render={({ field }) => (
                    <CustomPhoneInput
                      value={field.value || ''}
                      onChange={(phone) => field.onChange(phone)}
                      defaultCountry="pl"
                    />
                  )}
                />
              </div>
              {errors.phone && (
                <p className="text-red-600 text-sm">{errors.phone.message}</p>
              )}
            </div>

              {/* E-mail */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Adres e-mail
              </label>
              <input
                {...register('email')}
                type="email"
                placeholder="jan.kowalski@example.com"
                autoComplete="off"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/60 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.email && (
                <p className="text-red-600 text-sm">{errors.email.message}</p>
              )}
            </div>

            {/* Adres */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Adres
              </label>
              <input
                {...register('address')}
                type="text"
                placeholder="ul. PrzykĹ‚adowa 1, 50-001 WrocĹ‚aw"
                autoComplete="off"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/60 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.address && (
                <p className="text-red-600 text-sm">{errors.address.message}</p>
              )}
            </div>

            {/* Typ urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl mb-2">
                Typ urzÄ…dzenia
              </label>
              <div className="flex flex-wrap gap-6">
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <CustomRadio
                      {...field}
                      value="printer"
                      checked={field.value === 'printer'}
                      label="Drukarka"
                    />
                  )}
                />
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <CustomRadio
                      {...field}
                      value="computer"
                      checked={field.value === 'computer'}
                      label="Komputer / Laptop"
                    />
                  )}
                />
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <CustomRadio
                      {...field}
                      value="other"
                      checked={field.value === 'other'}
                      label="Inne urzÄ…dzenie"
                    />
                  )}
                />
              </div>
              {errors.deviceType && (
                <p className="text-red-600 text-sm">{errors.deviceType.message}</p>
              )}
            </div>

            {/* Model urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Model urzÄ…dzenia
              </label>
              <input
                {...register('deviceModel')}
                type="text"
                placeholder="np. HP LaserJet Pro M404dn"
                autoComplete="off"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/60 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
            </div>

            {/* Opis problemu */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Opis problemu
              </label>
              <textarea
                {...register('problemDescription')}
                rows={4}
                placeholder="ProszÄ™ opisaÄ‡ problem z urzÄ…dzeniem..."
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/60 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all resize-y"
              />
              {errors.problemDescription && (
                <p className="text-red-600 text-sm">{errors.problemDescription.message}</p>
              )}
            </div>

            {/* Checkboxy */}
            <div className="space-y-3 pt-1">
              <Controller
                name="replacementPrinter"
                control={control}
                render={({ field }) => (
                  <CustomCheckbox
                    checked={field.value || false}
                    onChange={(e) => field.onChange(e.target.checked)}
                    onBlur={field.onBlur}
                    name={field.name}
                    label="PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy."
                  />
                )}
              />

              <div className="space-y-1">
                <Controller
                  name="agreements"
                  control={control}
                  render={({ field }) => (
                    <CustomCheckbox
                      checked={field.value || false}
                      onChange={(e) => field.onChange(e.target.checked)}
                      onBlur={field.onBlur}
                      name={field.name}
                      label={
                        <span className="text-lg">
                          OĹ›wiadczam, ĹĽe zapoznaĹ‚em/am siÄ™ z{' '}
                          <Link href="/polityka-prywatnosci" className="underline hover:text-black hover:font-bold transition-all">
                            PolitykÄ… PrywatnoĹ›ci
                          </Link>{' '}
                          oraz{' '}
                          <Link href="/regulamin" className="underline hover:text-black hover:font-bold transition-all">
                            Regulaminem
                          </Link>{' '}
                          i akceptujÄ™ ich postanowienia.
                        </span>
                      }
                    />
                  )}
                />
                {errors.agreements && (
                  <p className="text-red-600 text-sm ml-8">{errors.agreements.message}</p>
                )}
              </div>
            </div>

            {/* Przycisk Submit */}
            <div className="pt-4 flex justify-center">
              <button
                type="submit"
                disabled={isSubmitting}
                className="relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-black/30 shadow-[inset_0_0_20px_rgba(0,0,0,0.1)] hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.05)] rounded-full transition-all duration-300"
              >
                <span className="font-cormorant font-bold text-2xl text-black tracking-wide group-hover:text-black flex items-center gap-2">
                  {isSubmitting && <Loader2 className="animate-spin h-5 w-5" />}
                  WyĹ›lij zgĹ‚oszenie
                </span>
              </button>
            </div>

          </form>
        </div>
      </div>

      {/* ĐśĐľĐ´Đ°Đ»ŃŚĐ˝ĐľĐµ ĐľĐşĐ˝Đľ ŃŃĐżĐµŃĐ˝ĐľĐą ĐľŃ‚ĐżŃ€Đ°Đ˛ĐşĐ¸ */}
      <SuccessModal 
        isOpen={showSuccessModal} 
        onClose={() => setShowSuccessModal(false)} 
      />
    </section>
  )
}


--- DIFFS ---


💡 DIFF: 1cf2cc14-7fe1-4c7f-bbd5-6496e89e422e
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\page.tsx","fileUuid":"1cf2cc14-7fe1-4c7f-bbd5-6496e89e422e","fileSizeBytes":486,"numLines":19,"diffChanges":[{"originalStartLineNumberOneIndexed":5,"originalEndLineNumberExclusiveOneIndexed":6,"modifiedStartLineNumberOneIndexed":5,"modifiedEndLineNumberExclusiveOneIndexed":6,"addedLines":["import { ContactTest } from '@/components/sections/contact-test'"],"tokenizedAddedLines":[1000019]},{"originalStartLineNumberOneIndexed":15,"originalEndLineNumberExclusiveOneIndexed":16,"modifiedStartLineNumberOneIndexed":15,"modifiedEndLineNumberExclusiveOneIndexed":16,"addedLines":["      <ContactTest />"],"tokenizedAddedLines":[1000020]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

💡 DIFF: 91fe4cfd-b824-459f-9427-825601816ab3
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact-test.tsx","fileUuid":"91fe4cfd-b824-459f-9427-825601816ab3","fileSizeBytes":16962,"numLines":418,"diffChanges":[{"originalStartLineNumberOneIndexed":162,"originalEndLineNumberExclusiveOneIndexed":163,"modifiedStartLineNumberOneIndexed":162,"modifiedEndLineNumberExclusiveOneIndexed":163,"addedLines":["    <section id=\"kontakt\" className=\"relative pb-6 md:pb-10 pt-0\">"],"tokenizedAddedLines":[1000299]},{"originalStartLineNumberOneIndexed":187,"originalEndLineNumberExclusiveOneIndexed":188,"modifiedStartLineNumberOneIndexed":187,"modifiedEndLineNumberExclusiveOneIndexed":188,"addedLines":["            Formularz zgĹ‚oszeniowy"],"tokenizedAddedLines":[1000300]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 48ca9d56-663a-43ed-b04b-416df9621d14 | Время: 11/25/2025 12:09:19 =====


--- METADATA ---

{"agentRequestId":"48ca9d56-663a-43ed-b04b-416df9621d14","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact-test.tsx","fileUuid":"4de840c0-19ce-477e-a4a7-63665b84c127","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"e4e91ec7-7bfc-42c3-8fed-55c7b87d1f76","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764068958974,"fileSizeBytes":19498,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 4de840c0-19ce-477e-a4a7-63665b84c127
----------------------------------------

'use client'

import { useState } from 'react'
import { useForm, Controller } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import { Loader2 } from 'lucide-react'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'
import { CustomPhoneInput } from '@/components/ui/custom-phone-input'
import { CustomRadio } from '@/components/ui/custom-radio'
import { CustomCheckbox } from '@/components/ui/custom-checkbox'
import { SuccessModal } from '@/components/ui/success-modal'

// Schemat walidacji Zod
const formSchema = z.object({
  name: z.string().min(2, { message: 'ImiÄ™ i nazwisko musi mieÄ‡ min. 2 znaki' }),
  phone: z.string().min(9, { message: 'Numer telefonu jest za krĂłtki' }),
  email: z.string().email({ message: 'Niepoprawny adres e-mail' }),
  address: z.string().min(5, { message: 'Adres musi mieÄ‡ min. 5 znakĂłw' }),
  deviceType: z.enum(['printer', 'computer', 'other'], { required_error: 'Wybierz typ urzÄ…dzenia' }),
  deviceModel: z.string().optional(),
  problemDescription: z.string().min(10, { message: 'Opis problemu musi mieÄ‡ min. 10 znakĂłw' }),
  replacementPrinter: z.boolean().default(false),
  agreements: z.literal(true, { errorMap: () => ({ message: 'Musisz zaakceptowaÄ‡ regulamin' }) }),
})

type FormValues = z.infer<typeof formSchema>

export function ContactTest() {
  const [isSubmitting, setIsSubmitting] = useState(false)
  const [showSuccessModal, setShowSuccessModal] = useState(false)

  const {
    register,
    control,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      name: '',
      phone: '',
      email: '',
      address: '',
      deviceType: undefined,
      deviceModel: '',
      problemDescription: '',
      replacementPrinter: false,
      agreements: undefined,
    },
  })

  const onSubmit = async (data: FormValues) => {
    setIsSubmitting(true)
    try {
      const response = await fetch('/api/send-email', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      })

      if (!response.ok) {
        throw new Error('BĹ‚Ä…d podczas wysyĹ‚ania formularza')
      }

      setShowSuccessModal(true)
      reset()
    } catch (error) {
      console.error('Error submitting form:', error)
      alert('WystÄ…piĹ‚ bĹ‚Ä…d podczas wysyĹ‚ania formularza. SprĂłbuj ponownie.')
    } finally {
      setIsSubmitting(false)
    }
  }

  const onCloseSuccessModal = () => {
    setShowSuccessModal(false)
  }

  return (
    <section id="kontakt-test" className="relative pb-6 md:pb-10 pt-0">
      {/* TĹ‚o sekcji */}
      <div
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.services_background}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/50" />
      </div>

      <div className="relative z-10 container mx-auto px-4 flex flex-col items-center">
        
        {/* Tekst nad formularzem */}
        <p className="text-white/90 text-lg md:text-xl text-center mb-8 drop-shadow-md font-serif italic pt-4 md:pt-6">
          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„â€ť
        </p>

        {/* Karta formularza - ĐĽĐ°ŃŃŃ‚Đ°Đ±Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ° Đ˝Đ° 20% */}
        <div className="w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-4 md:p-6 border border-[#3a2e24]/20 scale-[0.8] origin-top">
          
          {/* NagĹ‚Ăłwek formularza */}
          <h2 className="text-[#3a2e24] text-3xl md:text-4xl font-cormorant font-bold text-center mb-4 md:mb-5 border-b border-[#3a2e24]/10 pb-3">
            Formularz zgĹ‚oszeniowy
          </h2>

          <form onSubmit={handleSubmit(onSubmit)} className="space-y-3 md:space-y-4">
            
            {/* ImiÄ™ i Telefon - Grid */}
            <div className="grid grid-cols-1 lg:grid-cols-2 gap-3 md:gap-4">
              {/* ImiÄ™ i nazwisko */}
              <div className="space-y-2">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  ImiÄ™ i nazwisko
                </label>
                <input
                  {...register('name')}
                  placeholder="Jan Kowalski"
                  className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
                />
                {errors.name && (
                  <p className="text-red-600 text-sm">{errors.name.message}</p>
                )}
              </div>

              {/* Telefon */}
              <div className="space-y-2">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  Numer telefonu
                </label>
                <Controller
                  name="phone"
                  control={control}
                  render={({ field }) => (
                    <CustomPhoneInput
                      value={field.value || ''}
                      onChange={field.onChange}
                    />
                  )}
                />
                {errors.phone && (
                  <p className="text-red-600 text-sm">{errors.phone.message}</p>
                )}
              </div>
            </div>

            {/* E-mail */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres e-mail
              </label>
              <input
                {...register('email')}
                type="email"
                placeholder="jan.kowalski@example.com"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.email && (
                <p className="text-red-600 text-sm">{errors.email.message}</p>
              )}
            </div>

            {/* Adres */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres
              </label>
              <input
                {...register('address')}
                placeholder="ul. PrzykĹ‚adowa 1, 50-001 WrocĹ‚aw"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.address && (
                <p className="text-red-600 text-sm">{errors.address.message}</p>
              )}
            </div>

            {/* Typ urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg mb-2">
                Typ urzÄ…dzenia
              </label>
              <div className="flex flex-wrap gap-3">
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <>
                      <CustomRadio
                        id="device-printer"
                        name="deviceType"
                        value="printer"
                        checked={field.value === 'printer'}
                        onChange={field.onChange}
                        label="Drukarka"
                      />
                      <CustomRadio
                        id="device-computer"
                        name="deviceType"
                        value="computer"
                        checked={field.value === 'computer'}
                        onChange={field.onChange}
                        label="Komputer / Laptop"
                      />
                      <CustomRadio
                        id="device-other"
                        name="deviceType"
                        value="other"
                        checked={field.value === 'other'}
                        onChange={field.onChange}
                        label="Inne urzÄ…dzenie"
                      />
                    </>
                  )}
                />
              </div>
              {errors.deviceType && (
                <p className="text-red-600 text-sm">{errors.deviceType.message}</p>
              )}
            </div>

            {/* Model urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Model urzÄ…dzenia
              </label>
              <input
                {...register('deviceModel')}
                placeholder="np. HP LaserJet Pro M404dn"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
            </div>

            {/* Opis problemu */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Opis problemu
              </label>
              <textarea
                {...register('problemDescription')}
                rows={4}
                placeholder="ProszÄ™ opisaÄ‡ problem z urzÄ…dzeniem..."
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all resize-y"
              />
              {errors.problemDescription && (
                <p className="text-red-600 text-sm">{errors.problemDescription.message}</p>
              )}
            </div>

            {/* Checkboxy */}
            <div className="space-y-3 pt-1">
              <Controller
                name="replacementPrinter"
                control={control}
                render={({ field }) => (
                  <CustomCheckbox
                    id="replacement-printer"
                    name="replacementPrinter"
                    checked={field.value}
                    onChange={field.onChange}
                    label="PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy."
                  />
                )}
              />

              <div className="space-y-1">
                <Controller
                  name="agreements"
                  control={control}
                  render={({ field }) => (
                    <CustomCheckbox
                      id="agreements"
                      name="agreements"
                      checked={field.value || false}
                      onChange={(e) => field.onChange(e.target.checked)}
                      label={
                        <>
                          OĹ›wiadczam, ĹĽe zapoznaĹ‚em/am siÄ™ z{' '}
                          <Link href="/polityka-prywatnosci" className="underline hover:text-black/70">
                            PolitykÄ… PrywatnoĹ›ci
                          </Link>{' '}
                          oraz{' '}
                          <Link href="/regulamin" className="underline hover:text-black/70">
                            Regulaminem
                          </Link>{' '}
                          i akceptujÄ™ ich postanowienia.
                        </>
                      }
                    />
                  )}
                />
                {errors.agreements && (
                  <p className="text-red-600 text-sm ml-8">{errors.agreements.message}</p>
                )}
              </div>
            </div>

            {/* Przycisk Submit */}
            <div className="pt-4 flex justify-center">
              <button
                type="submit"
                disabled={isSubmitting}
                className="relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-black/30 shadow-[inset_0_0_20px_rgba(0,0,0,0.1)] hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.05)] rounded-full transition-all duration-300"
              >
                <span className="font-cormorant font-bold text-2xl text-black tracking-wide group-hover:text-black/80 flex items-center gap-2">
                  {isSubmitting && <Loader2 className="animate-spin h-5 w-5" />}
                  WyĹ›lij zgĹ‚oszenie
                </span>
              </button>
            </div>

          </form>
        </div>
      </div>

      {/* Success Modal */}
      <SuccessModal isOpen={showSuccessModal} onClose={onCloseSuccessModal} />
    </section>
  )
}



🗂 FILE: e4e91ec7-7bfc-42c3-8fed-55c7b87d1f76
----------------------------------------

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 65px; /* wysokoĹ›Ä‡ headera */
  }

  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .bg-paper-texture {
    background-image: url('/images/zmiety arkusz papieru 2.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }

  /* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş ŃŃ‚Ń€Đ°Đ˝ - ĐżĐľĐ´Đ»ĐľĐ¶ĐşĐ° Đ¸Đ· ŃĐĽŃŹŃ‚ĐľĐłĐľ Đ»Đ¸ŃŃ‚Đ° */
  .custom-dropdown {
    background-image: 
      linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)),
      url('/images/zmiety arkusz papieru 2.png') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
  }

  /* ĐˇĐşŃ€ĐľĐ»Đ»Đ±Đ°Ń€ Đ´Đ»ŃŹ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° ŃŃ‚Ń€Đ°Đ˝ */
  .custom-dropdown::-webkit-scrollbar {
    width: 8px;
  }

  .custom-dropdown::-webkit-scrollbar-track {
    background-image: 
      linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)),
      url('/images/zmiety arkusz papieru 2.png') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    border-radius: 4px;
  }

  .custom-dropdown::-webkit-scrollbar-thumb {
    background: rgba(58, 46, 36, 0.3) !important;
    border-radius: 4px;
  }

  .custom-dropdown::-webkit-scrollbar-thumb:hover {
    background: rgba(58, 46, 36, 0.5) !important;
  }

  /* Đ”Đ»ŃŹ Firefox */
  .custom-dropdown {
    scrollbar-width: thin;
    scrollbar-color: rgba(58, 46, 36, 0.3) transparent;
  }

  /* ĐĐ˝Đ¸ĐĽĐ°Ń†Đ¸ŃŹ ĐżĐľŃŹĐ˛Đ»ĐµĐ˝Đ¸ŃŹ ĐĽĐľĐ´Đ°Đ»ŃŚĐ˝ĐľĐłĐľ ĐľĐşĐ˝Đ° */
  @keyframes modalAppear {
    from {
      opacity: 0;
      transform: scale(0.9) translateY(-10px);
    }
    to {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }

  .animate-modal-appear {
    animation: modalAppear 0.3s ease-out;
  }

  /* ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ Đ˛ŃĐµŃ… ĐżĐľĐ»ĐµĐą Đ˛Đ˛ĐľĐ´Đ° */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input:not([type="radio"]):not([type="checkbox"]):not([type="submit"]):not([type="button"]):not([type="hidden"]) {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }

  textarea {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }

  input[type="text"]:-webkit-autofill,
  input[type="text"]:-webkit-autofill:hover,
  input[type="text"]:-webkit-autofill:focus,
  input[type="text"]:-webkit-autofill:active,
  input[type="email"]:-webkit-autofill,
  input[type="email"]:-webkit-autofill:hover,
  input[type="email"]:-webkit-autofill:focus,
  input[type="email"]:-webkit-autofill:active,
  input[type="tel"]:-webkit-autofill,
  input[type="tel"]:-webkit-autofill:hover,
  input[type="tel"]:-webkit-autofill:focus,
  input[type="tel"]:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #000000 !important;
    color: #000000 !important;
  }

  /* ĐˇĐżĐµŃ†Đ¸Ń„Đ¸Ń‡Đ˝Ń‹Đµ ŃŃ‚Đ¸Đ»Đ¸ Đ´Đ»ŃŹ ĐżŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝ĐľĐłĐľ Ń„ĐľĐ˝Đ° Đ˛ #kontakt-test */
  #kontakt-test input[type="text"],
  #kontakt-test input[type="email"],
  #kontakt-test input[type="tel"],
  #kontakt-test input:not([type="radio"]):not([type="checkbox"]):not([type="submit"]):not([type="button"]):not([type="hidden"]) {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }

  #kontakt-test textarea {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }

  #kontakt-test input[type="text"]:-webkit-autofill,
  #kontakt-test input[type="text"]:-webkit-autofill:hover,
  #kontakt-test input[type="text"]:-webkit-autofill:focus,
  #kontakt-test input[type="text"]:-webkit-autofill:active,
  #kontakt-test input[type="email"]:-webkit-autofill,
  #kontakt-test input[type="email"]:-webkit-autofill:hover,
  #kontakt-test input[type="email"]:-webkit-autofill:focus,
  #kontakt-test input[type="email"]:-webkit-autofill:active,
  #kontakt-test input[type="tel"]:-webkit-autofill,
  #kontakt-test input[type="tel"]:-webkit-autofill:hover,
  #kontakt-test input[type="tel"]:-webkit-autofill:focus,
  #kontakt-test input[type="tel"]:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #000000 !important;
    color: #000000 !important;
  }
}

--- DIFFS ---


💡 DIFF: 4de840c0-19ce-477e-a4a7-63665b84c127
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact-test.tsx","fileUuid":"4de840c0-19ce-477e-a4a7-63665b84c127","fileSizeBytes":13373,"numLines":326,"diffChanges":[{"originalStartLineNumberOneIndexed":114,"originalEndLineNumberExclusiveOneIndexed":115,"modifiedStartLineNumberOneIndexed":114,"modifiedEndLineNumberExclusiveOneIndexed":115,"addedLines":["            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4\">"],"tokenizedAddedLines":[1000240]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

💡 DIFF: e4e91ec7-7bfc-42c3-8fed-55c7b87d1f76
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"e4e91ec7-7bfc-42c3-8fed-55c7b87d1f76","fileSizeBytes":5250,"numLines":156,"diffChanges":[{"originalStartLineNumberOneIndexed":154,"originalEndLineNumberExclusiveOneIndexed":154,"modifiedStartLineNumberOneIndexed":154,"modifiedEndLineNumberExclusiveOneIndexed":155,"addedLines":["    transition: background-color 5000s ease-in-out 0s !important;"],"tokenizedAddedLines":[1000091]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 4dab8a59-7252-43f0-9a85-5972f5d50173 | Время: 11/25/2025 11:32:40 =====


--- METADATA ---

{"agentRequestId":"4dab8a59-7252-43f0-9a85-5972f5d50173","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"f70cc2e2-67c7-4bd2-a60c-c0fb9171f006","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764066760215,"fileSizeBytes":14230,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: f70cc2e2-67c7-4bd2-a60c-c0fb9171f006
----------------------------------------

'use client'

import { useState } from 'react'
import { useForm, Controller } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import { Loader2 } from 'lucide-react'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'
import { CustomPhoneInput } from '@/components/ui/custom-phone-input'
import { CustomRadio } from '@/components/ui/custom-radio'
import { CustomCheckbox } from '@/components/ui/custom-checkbox'
import { SuccessModal } from '@/components/ui/success-modal'

// Schemat walidacji Zod
const formSchema = z.object({
  name: z.string().min(2, { message: 'ImiÄ™ i nazwisko musi mieÄ‡ min. 2 znaki' }),
  phone: z.string().min(9, { message: 'Numer telefonu jest za krĂłtki' }),
  email: z.string().email({ message: 'Niepoprawny adres e-mail' }),
  address: z.string().min(5, { message: 'Adres musi mieÄ‡ min. 5 znakĂłw' }),
  deviceType: z.enum(['printer', 'computer', 'other'], { required_error: 'Wybierz typ urzÄ…dzenia' }),
  deviceModel: z.string().optional(),
  problemDescription: z.string().min(10, { message: 'Opis problemu musi mieÄ‡ min. 10 znakĂłw' }),
  replacementPrinter: z.boolean().default(false),
  agreements: z.literal(true, { errorMap: () => ({ message: 'Musisz zaakceptowaÄ‡ regulamin' }) }),
})

type FormValues = z.infer<typeof formSchema>

export function Contact() {
  const [isSubmitting, setIsSubmitting] = useState(false)
  const [showSuccessModal, setShowSuccessModal] = useState(false)

  const {
    register,
    control,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      name: '',
      phone: '',
      email: '',
      address: '',
      deviceType: undefined,
      deviceModel: '',
      problemDescription: '',
      replacementPrinter: false,
      agreements: undefined,
    },
  })

  const onSubmit = async (data: FormValues) => {
    setIsSubmitting(true)
    try {
      const response = await fetch('/api/send-email', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      })

      if (!response.ok) {
        throw new Error('BĹ‚Ä…d podczas wysyĹ‚ania formularza')
      }

      setShowSuccessModal(true)
      reset()
    } catch (error) {
      console.error('Error submitting form:', error)
      alert('WystÄ…piĹ‚ bĹ‚Ä…d podczas wysyĹ‚ania formularza. SprĂłbuj ponownie.')
    } finally {
      setIsSubmitting(false)
    }
  }

  const onCloseSuccessModal = () => {
    setShowSuccessModal(false)
  }

  return (
    <section id="kontakt" className="relative pb-6 md:pb-10 pt-0">
      {/* TĹ‚o sekcji */}
      <div
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.services_background}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/50" />
      </div>

      <div className="relative z-10 container mx-auto px-4 flex flex-col items-center">
        
        {/* Tekst nad formularzem */}
        <p className="text-white/90 text-lg md:text-xl text-center mb-8 drop-shadow-md font-serif italic pt-4 md:pt-6">
          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„â€ť
        </p>

        {/* Karta formularza - ĐĽĐ°ŃŃŃ‚Đ°Đ±Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ° Đ˝Đ° 20% */}
        <div className="w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-4 md:p-6 border border-[#3a2e24]/20 scale-[0.8] origin-top">
          
          {/* NagĹ‚Ăłwek formularza */}
          <h2 className="text-[#3a2e24] text-3xl md:text-4xl font-cormorant font-bold text-center mb-4 md:mb-5 border-b border-[#3a2e24]/10 pb-3">
            Formularz zgĹ‚oszeniowy
          </h2>

          <form onSubmit={handleSubmit(onSubmit)} className="space-y-3 md:space-y-4">
            
            {/* ImiÄ™ i Telefon - Grid */}
            <div className="grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4">
              {/* ImiÄ™ i nazwisko */}
              <div className="space-y-2">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  ImiÄ™ i nazwisko
                </label>
                <input
                  {...register('name')}
                  placeholder="Jan Kowalski"
                  className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
                />
                {errors.name && (
                  <p className="text-red-600 text-sm">{errors.name.message}</p>
                )}
              </div>

              {/* Telefon */}
              <div className="space-y-2">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  Numer telefonu
                </label>
                <Controller
                  name="phone"
                  control={control}
                  render={({ field }) => (
                    <CustomPhoneInput
                      value={field.value || ''}
                      onChange={field.onChange}
                    />
                  )}
                />
                {errors.phone && (
                  <p className="text-red-600 text-sm">{errors.phone.message}</p>
                )}
              </div>
            </div>

            {/* E-mail */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres e-mail
              </label>
              <input
                {...register('email')}
                type="email"
                placeholder="jan.kowalski@example.com"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.email && (
                <p className="text-red-600 text-sm">{errors.email.message}</p>
              )}
            </div>

            {/* Adres */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres
              </label>
              <input
                {...register('address')}
                placeholder="ul. PrzykĹ‚adowa 1, 50-001 WrocĹ‚aw"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.address && (
                <p className="text-red-600 text-sm">{errors.address.message}</p>
              )}
            </div>

            {/* Typ urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg mb-2">
                Typ urzÄ…dzenia
              </label>
              <div className="flex flex-wrap gap-3">
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <>
                      <CustomRadio
                        id="device-printer"
                        name="deviceType"
                        value="printer"
                        checked={field.value === 'printer'}
                        onChange={field.onChange}
                        label="Drukarka"
                      />
                      <CustomRadio
                        id="device-computer"
                        name="deviceType"
                        value="computer"
                        checked={field.value === 'computer'}
                        onChange={field.onChange}
                        label="Komputer / Laptop"
                      />
                      <CustomRadio
                        id="device-other"
                        name="deviceType"
                        value="other"
                        checked={field.value === 'other'}
                        onChange={field.onChange}
                        label="Inne urzÄ…dzenie"
                      />
                    </>
                  )}
                />
              </div>
              {errors.deviceType && (
                <p className="text-red-600 text-sm">{errors.deviceType.message}</p>
              )}
            </div>

            {/* Model urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Model urzÄ…dzenia
              </label>
              <input
                {...register('deviceModel')}
                placeholder="np. HP LaserJet Pro M404dn"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
            </div>

            {/* Opis problemu */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Opis problemu
              </label>
              <textarea
                {...register('problemDescription')}
                rows={4}
                placeholder="ProszÄ™ opisaÄ‡ problem z urzÄ…dzeniem..."
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all resize-y"
              />
              {errors.problemDescription && (
                <p className="text-red-600 text-sm">{errors.problemDescription.message}</p>
              )}
            </div>

            {/* Checkboxy */}
            <div className="space-y-3 pt-1">
              <Controller
                name="replacementPrinter"
                control={control}
                render={({ field }) => (
                  <CustomCheckbox
                    id="replacement-printer"
                    name="replacementPrinter"
                    checked={field.value}
                    onChange={field.onChange}
                    label="PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy."
                  />
                )}
              />

              <div className="space-y-1">
                <Controller
                  name="agreements"
                  control={control}
                  render={({ field }) => (
                    <CustomCheckbox
                      id="agreements"
                      name="agreements"
                      checked={field.value || false}
                      onChange={(e) => field.onChange(e.target.checked)}
                      label={
                        <>
                          OĹ›wiadczam, ĹĽe zapoznaĹ‚em/am siÄ™ z{' '}
                          <Link href="/polityka-prywatnosci" className="underline hover:text-black/70">
                            PolitykÄ… PrywatnoĹ›ci
                          </Link>{' '}
                          oraz{' '}
                          <Link href="/regulamin" className="underline hover:text-black/70">
                            Regulaminem
                          </Link>{' '}
                          i akceptujÄ™ ich postanowienia.
                        </>
                      }
                    />
                  )}
                />
                {errors.agreements && (
                  <p className="text-red-600 text-sm ml-8">{errors.agreements.message}</p>
                )}
              </div>
            </div>

            {/* Przycisk Submit */}
            <div className="pt-4 flex justify-center">
              <button
                type="submit"
                disabled={isSubmitting}
                className="relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-black/30 shadow-[inset_0_0_20px_rgba(0,0,0,0.1)] hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.05)] rounded-full transition-all duration-300"
              >
                <span className="font-cormorant font-bold text-2xl text-black tracking-wide group-hover:text-black/80 flex items-center gap-2">
                  {isSubmitting && <Loader2 className="animate-spin h-5 w-5" />}
                  WyĹ›lij zgĹ‚oszenie
                </span>
              </button>
            </div>

          </form>
        </div>
      </div>

      {/* Success Modal */}
      <SuccessModal isOpen={showSuccessModal} onClose={onCloseSuccessModal} />
    </section>
  )
}


--- DIFFS ---


💡 DIFF: f70cc2e2-67c7-4bd2-a60c-c0fb9171f006
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"f70cc2e2-67c7-4bd2-a60c-c0fb9171f006","fileSizeBytes":13370,"numLines":325,"diffChanges":[{"originalStartLineNumberOneIndexed":114,"originalEndLineNumberExclusiveOneIndexed":115,"modifiedStartLineNumberOneIndexed":114,"modifiedEndLineNumberExclusiveOneIndexed":115,"addedLines":["            <div className=\"flex flex-col md:flex-row gap-3 md:gap-4\">"],"tokenizedAddedLines":[1000240]},{"originalStartLineNumberOneIndexed":116,"originalEndLineNumberExclusiveOneIndexed":117,"modifiedStartLineNumberOneIndexed":116,"modifiedEndLineNumberExclusiveOneIndexed":117,"addedLines":["              <div className=\"space-y-2 flex-1\">"],"tokenizedAddedLines":[1000241]},{"originalStartLineNumberOneIndexed":131,"originalEndLineNumberExclusiveOneIndexed":132,"modifiedStartLineNumberOneIndexed":131,"modifiedEndLineNumberExclusiveOneIndexed":132,"addedLines":["              <div className=\"space-y-2 flex-1\">"],"tokenizedAddedLines":[1000241]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 4e86f6f7-d190-44a5-9c84-774e5f0e5e6b | Время: 11/25/2025 15:01:02 =====


--- METADATA ---

{"agentRequestId":"4e86f6f7-d190-44a5-9c84-774e5f0e5e6b","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"8106cbaf-d741-46be-86f1-ecec5091e9af","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764079262239,"fileSizeBytes":14643,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 8106cbaf-d741-46be-86f1-ecec5091e9af
----------------------------------------

'use client'

import { useState } from 'react'
import { useForm, Controller } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import { Loader2 } from 'lucide-react'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'
import { CustomPhoneInput } from '@/components/ui/custom-phone-input'
import { CustomRadio } from '@/components/ui/custom-radio'
import { CustomCheckbox } from '@/components/ui/custom-checkbox'
import { SuccessModal } from '@/components/ui/success-modal'

// Schemat walidacji Zod
const formSchema = z.object({
  name: z.string().min(2, { message: 'ImiÄ™ i nazwisko musi mieÄ‡ min. 2 znaki' }),
  phone: z.string().min(9, { message: 'Numer telefonu jest za krĂłtki' }),
  email: z.string().email({ message: 'Niepoprawny adres e-mail' }),
  address: z.string().min(5, { message: 'Adres musi mieÄ‡ min. 5 znakĂłw' }),
  deviceType: z.enum(['printer', 'computer', 'other'], { required_error: 'Wybierz typ urzÄ…dzenia' }),
  deviceModel: z.string().optional(),
  problemDescription: z.string().min(10, { message: 'Opis problemu musi mieÄ‡ min. 10 znakĂłw' }),
  replacementPrinter: z.boolean().default(false),
  agreements: z.literal(true, { errorMap: () => ({ message: 'Musisz zaakceptowaÄ‡ regulamin' }) }),
})

type FormValues = z.infer<typeof formSchema>

export function Contact() {
  const [isSubmitting, setIsSubmitting] = useState(false)
  const [showSuccessModal, setShowSuccessModal] = useState(false)

  const {
    register,
    control,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      name: '',
      phone: '',
      email: '',
      address: '',
      deviceType: undefined,
      deviceModel: '',
      problemDescription: '',
      replacementPrinter: false,
      agreements: undefined,
    },
  })

  const onSubmit = async (data: FormValues) => {
    setIsSubmitting(true)
    try {
      const response = await fetch('/api/send-email', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      })

      if (!response.ok) {
        throw new Error('BĹ‚Ä…d podczas wysyĹ‚ania formularza')
      }

      setShowSuccessModal(true)
      reset()
    } catch (error) {
      console.error('Error submitting form:', error)
      alert('WystÄ…piĹ‚ bĹ‚Ä…d podczas wysyĹ‚ania formularza. SprĂłbuj ponownie.')
    } finally {
      setIsSubmitting(false)
    }
  }

  const onCloseSuccessModal = () => {
    setShowSuccessModal(false)
  }

  return (
    <section id="kontakt" className="relative pb-6 md:pb-10 pt-0">
      {/* TĹ‚o sekcji */}
      <div
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.services_background}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/50" />
      </div>

      <div className="relative z-10 container mx-auto px-4 flex flex-col items-center">
        
        {/* Tekst nad formularzem */}
        <p className="text-white/90 text-lg md:text-xl text-center mb-8 drop-shadow-md font-serif italic pt-4 md:pt-6">
          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„â€ť
        </p>

        {/* Karta formularza - ĐĽĐ°ŃŃŃ‚Đ°Đ±Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ° Đ˝Đ° 20% */}
        <div className="w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-4 md:p-6 border border-[#3a2e24]/20 scale-[0.8] origin-top">
          
          {/* NagĹ‚Ăłwek formularza */}
          <h2 className="text-[#3a2e24] text-3xl md:text-4xl font-cormorant font-bold text-center mb-4 md:mb-5 border-b border-[#3a2e24]/10 pb-3">
            Formularz zgĹ‚oszeniowy
          </h2>

          <form onSubmit={handleSubmit(onSubmit)} className="space-y-3 md:space-y-4">
            
            {/* ImiÄ™ i Telefon - Grid */}
            <div className="grid grid-cols-1 gap-3 md:gap-4">
              {/* ImiÄ™ i nazwisko */}
              <div className="space-y-2">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  ImiÄ™ i nazwisko
                </label>
                <input
                  {...register('name')}
                  placeholder="Jan Kowalski"
                  className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250"
                />
                {errors.name && (
                  <p className="text-red-600 text-sm">{errors.name.message}</p>
                )}
              </div>

              {/* Telefon */}
              <div className="space-y-2">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  Numer telefonu
                </label>
                <Controller
                  name="phone"
                  control={control}
                  render={({ field }) => (
                    <CustomPhoneInput
                      value={field.value || ''}
                      onChange={field.onChange}
                    />
                  )}
                />
                {errors.phone && (
                  <p className="text-red-600 text-sm">{errors.phone.message}</p>
                )}
              </div>
            </div>

            {/* E-mail */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres e-mail
              </label>
              <input
                {...register('email')}
                type="email"
                placeholder="jan.kowalski@example.com"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250"
              />
              {errors.email && (
                <p className="text-red-600 text-sm">{errors.email.message}</p>
              )}
            </div>

            {/* Adres */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres
              </label>
              <input
                {...register('address')}
                placeholder="ul. PrzykĹ‚adowa 1, 50-001 WrocĹ‚aw"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250"
              />
              {errors.address && (
                <p className="text-red-600 text-sm">{errors.address.message}</p>
              )}
            </div>

            {/* Typ urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg mb-2">
                Typ urzÄ…dzenia
              </label>
              <div className="flex flex-wrap gap-3">
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <>
                      <CustomRadio
                        id="device-printer"
                        name="deviceType"
                        value="printer"
                        checked={field.value === 'printer'}
                        onChange={field.onChange}
                        label="Drukarka"
                      />
                      <CustomRadio
                        id="device-computer"
                        name="deviceType"
                        value="computer"
                        checked={field.value === 'computer'}
                        onChange={field.onChange}
                        label="Komputer / Laptop"
                      />
                      <CustomRadio
                        id="device-other"
                        name="deviceType"
                        value="other"
                        checked={field.value === 'other'}
                        onChange={field.onChange}
                        label="Inne urzÄ…dzenie"
                      />
                    </>
                  )}
                />
              </div>
              {errors.deviceType && (
                <p className="text-red-600 text-sm">{errors.deviceType.message}</p>
              )}
            </div>

            {/* Model urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Model urzÄ…dzenia
              </label>
              <input
                {...register('deviceModel')}
                placeholder="np. HP LaserJet Pro M404dn"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250"
              />
            </div>

            {/* Opis problemu */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Opis problemu
              </label>
              <textarea
                {...register('problemDescription')}
                rows={4}
                placeholder="ProszÄ™ opisaÄ‡ problem z urzÄ…dzeniem..."
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250 resize-y"
              />
              {errors.problemDescription && (
                <p className="text-red-600 text-sm">{errors.problemDescription.message}</p>
              )}
            </div>

            {/* Checkboxy */}
            <div className="space-y-3 pt-1">
              <Controller
                name="replacementPrinter"
                control={control}
                render={({ field }) => (
                  <CustomCheckbox
                    id="replacement-printer"
                    name="replacementPrinter"
                    checked={field.value}
                    onChange={field.onChange}
                    label="PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy."
                  />
                )}
              />

              <div className="space-y-1">
                <Controller
                  name="agreements"
                  control={control}
                  render={({ field }) => (
                    <CustomCheckbox
                      id="agreements"
                      name="agreements"
                      checked={field.value || false}
                      onChange={(e) => field.onChange(e.target.checked)}
                      label={
                        <>
                          OĹ›wiadczam, ĹĽe zapoznaĹ‚em/am siÄ™ z{' '}
                          <Link href="/polityka-prywatnosci" className="underline hover:text-black/70">
                            PolitykÄ… PrywatnoĹ›ci
                          </Link>{' '}
                          oraz{' '}
                          <Link href="/regulamin" className="underline hover:text-black/70">
                            Regulaminem
                          </Link>{' '}
                          i akceptujÄ™ ich postanowienia.
                        </>
                      }
                    />
                  )}
                />
                {errors.agreements && (
                  <p className="text-red-600 text-sm ml-8">{errors.agreements.message}</p>
                )}
              </div>
            </div>

            {/* Przycisk Submit */}
            <div className="pt-4 flex justify-center">
              <button
                type="submit"
                disabled={isSubmitting}
                className="relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-black/30 hover:border-2 hover:border-black/80 hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.1),0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:shadow-[inset_0_0_20px_rgba(0,0,0,0.1),0_0_4px_rgba(0,0,0,0.3)] rounded-full transition-all duration-250"
              >
                <span className="font-cormorant font-bold text-2xl text-black tracking-wide group-hover:text-black/80 flex items-center gap-2">
                  {isSubmitting && <Loader2 className="animate-spin h-5 w-5" />}
                  WyĹ›lij zgĹ‚oszenie
                </span>
              </button>
            </div>

          </form>
        </div>
      </div>

      {/* Success Modal */}
      <SuccessModal isOpen={showSuccessModal} onClose={onCloseSuccessModal} />
    </section>
  )
}


--- DIFFS ---


💡 DIFF: 8106cbaf-d741-46be-86f1-ecec5091e9af
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"8106cbaf-d741-46be-86f1-ecec5091e9af","fileSizeBytes":14009,"numLines":325,"diffChanges":[{"originalStartLineNumberOneIndexed":85,"originalEndLineNumberExclusiveOneIndexed":86,"modifiedStartLineNumberOneIndexed":85,"modifiedEndLineNumberExclusiveOneIndexed":86,"addedLines":["    <section id=\"kontakt\" className=\"relative pb-2 md:pb-3 pt-0\">"],"tokenizedAddedLines":[1000240]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 5a693829-397f-41fe-b252-1b0e68675d9f | Время: 11/25/2025 10:11:35 =====


--- METADATA ---

{"agentRequestId":"5a693829-397f-41fe-b252-1b0e68675d9f","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\api\\send-email\\route.ts","fileUuid":"59b753c5-baaf-44e8-92e2-03f6f76a9137","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\success-modal.tsx","fileUuid":"05c23a41-ad74-4fb7-a042-07bd44fcf017","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact-test.tsx","fileUuid":"5e78633c-0742-4426-87ee-21b4e355bb5a","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"875e0deb-7617-4710-bb9b-9dbf0de1bf0c","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}],"startTrackingDateUnixMilliseconds":1764061895249,"fileSizeBytes":38818,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 5e78633c-0742-4426-87ee-21b4e355bb5a
----------------------------------------

'use client'

import { useState, useEffect, useRef } from 'react'
import { useForm, Controller } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import { toast, Toaster } from 'sonner'
import { Loader2 } from 'lucide-react'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'
import { CustomRadio } from '@/components/ui/custom-radio'
import { CustomCheckbox } from '@/components/ui/custom-checkbox'
import { CustomPhoneInput } from '@/components/ui/custom-phone-input'

// Schemat walidacji Zod
const formSchema = z.object({
  name: z.string().min(2, { message: 'ImiÄ™ i nazwisko musi mieÄ‡ min. 2 znaki' }),
  phone: z.string().refine((val) => {
    // Đ•ŃĐ»Đ¸ Đ˝ĐľĐĽĐµŃ€ ŃĐľĐ´ĐµŃ€Đ¶Đ¸Ń‚ "other" Đ¸Đ»Đ¸ ĐżŃŃŃ‚ĐľĐą ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹, ĐżŃ€ĐľĐżŃŃĐşĐ°ĐµĐĽ Đ˛Đ°Đ»Đ¸Đ´Đ°Ń†Đ¸ŃŽ
    if (!val || val.trim() === '') return false
    // ĐźŃ€ĐľĐ˛ĐµŃ€ŃŹĐµĐĽ, ĐµŃŃ‚ŃŚ Đ»Đ¸ ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹ (Đ˝Đ°Ń‡Đ¸Đ˝Đ°ĐµŃ‚ŃŃŹ Ń +)
    if (!val.startsWith('+')) return false
    // ĐśĐ¸Đ˝Đ¸ĐĽĐ°Đ»ŃŚĐ˝Đ°ŃŹ Đ´Đ»Đ¸Đ˝Đ° Ń ĐşĐľĐ´ĐľĐĽ ŃŃ‚Ń€Đ°Đ˝Ń‹
    return val.replace(/\D/g, '').length >= 10
  }, { message: 'Numer telefonu jest niepoprawny' }),
  email: z.string().email({ message: 'Niepoprawny adres e-mail' }),
  address: z.string().min(5, { message: 'Adres musi mieÄ‡ min. 5 znakĂłw' }),
  deviceType: z.enum(['printer', 'computer', 'other'], { message: 'Wybierz typ urzÄ…dzenia' }),
  deviceModel: z.string().optional(),
  problemDescription: z.string().min(10, { message: 'Opis problemu musi mieÄ‡ min. 10 znakĂłw' }),
  replacementPrinter: z.boolean(),
  agreements: z.literal(true, { message: 'Musisz zaakceptowaÄ‡ regulamin' }),
})

type FormValues = z.infer<typeof formSchema>

export function ContactTest() {
  const [isSubmitting, setIsSubmitting] = useState(false)
  const formRef = useRef<HTMLFormElement>(null)

  const {
    register,
    control,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      name: '',
      phone: '',
      email: '',
      address: '',
      deviceType: undefined,
      deviceModel: '',
      problemDescription: '',
      replacementPrinter: false,
      agreements: undefined,
    },
  })

  // ĐźŃ€Đ¸Đ˝ŃĐ´Đ¸Ń‚ĐµĐ»ŃŚĐ˝ĐľĐµ ĐżŃ€Đ¸ĐĽĐµĐ˝ĐµĐ˝Đ¸Đµ ĐżŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝ĐľĐłĐľ Ń„ĐľĐ˝Đ° ĐżĐľŃĐ»Đµ Đ°Đ˛Ń‚ĐľĐ·Đ°ĐżĐľĐ»Đ˝ĐµĐ˝Đ¸ŃŹ
  useEffect(() => {
    const fixAutofillStyles = () => {
      if (formRef.current) {
        const inputs = formRef.current.querySelectorAll<HTMLInputElement>(
          'input[type="text"], input[type="email"], input[type="tel"]'
        )
        
        inputs.forEach((input) => {
          // Đ¤ŃĐ˝ĐşŃ†Đ¸ŃŹ Đ´Đ»ŃŹ ĐżŃ€Đ¸ĐĽĐµĐ˝ĐµĐ˝Đ¸ŃŹ ĐżŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝ĐľĐłĐľ Ń„ĐľĐ˝Đ°
          const applyTransparent = () => {
            input.style.setProperty('background-color', 'transparent', 'important')
            input.style.setProperty('background', 'transparent', 'important')
            input.style.setProperty('-webkit-box-shadow', '0 0 0 1000px transparent inset', 'important')
            input.style.setProperty('box-shadow', '0 0 0 1000px transparent inset', 'important')
          }
          
          // ĐźŃ€Đ¸ĐĽĐµĐ˝ŃŹĐµĐĽ ŃŃ€Đ°Đ·Ń
          applyTransparent()
          
          // ĐžĐ±Ń€Đ°Đ±ĐľŃ‚Ń‡Đ¸ĐşĐ¸ ŃĐľĐ±Ń‹Ń‚Đ¸Đą
          input.addEventListener('input', applyTransparent)
          input.addEventListener('change', applyTransparent)
          input.addEventListener('focus', applyTransparent)
          input.addEventListener('blur', applyTransparent)
          
          // ĐžĐ±Ń€Đ°Đ±ĐľŃ‚Ń‡Đ¸Đş Đ´Đ»ŃŹ Đ°Đ˛Ń‚ĐľĐ·Đ°ĐżĐľĐ»Đ˝ĐµĐ˝Đ¸ŃŹ (ĐşĐľĐłĐ´Đ° Đ±Ń€Đ°ŃĐ·ĐµŃ€ ĐżŃ€Đ¸ĐĽĐµĐ˝ŃŹĐµŃ‚ ŃŃ‚Đ¸Đ»Đ¸)
          const observer = new MutationObserver(() => {
            // ĐźŃ€ĐľĐ˛ĐµŃ€ŃŹĐµĐĽ, ĐµŃŃ‚ŃŚ Đ»Đ¸ ĐşĐ»Đ°ŃŃ Đ°Đ˛Ń‚ĐľĐ·Đ°ĐżĐľĐ»Đ˝ĐµĐ˝Đ¸ŃŹ
            if (input.matches(':-webkit-autofill')) {
              applyTransparent()
            }
          })
          
          observer.observe(input, {
            attributes: true,
            attributeFilter: ['style', 'class'],
            childList: false,
            subtree: false,
          })
          
          // ĐźŃ€ĐľĐ˛ĐµŃ€ŃŹĐµĐĽ ĐşĐ°Đ¶Đ´Ń‹Đµ 100ĐĽŃ Đ˛ Ń‚ĐµŃ‡ĐµĐ˝Đ¸Đµ ĐżĐµŃ€Đ˛Ń‹Ń… 2 ŃĐµĐşŃĐ˝Đ´ (Đ˛Ń€ĐµĐĽŃŹ, ĐşĐľĐłĐ´Đ° Đ±Ń€Đ°ŃĐ·ĐµŃ€ ĐżŃ€Đ¸ĐĽĐµĐ˝ŃŹĐµŃ‚ Đ°Đ˛Ń‚ĐľĐ·Đ°ĐżĐľĐ»Đ˝ĐµĐ˝Đ¸Đµ)
          let checkCount = 0
          const checkInterval = setInterval(() => {
            applyTransparent()
            checkCount++
            if (checkCount >= 20) {
              clearInterval(checkInterval)
            }
          }, 100)
        })
      }
    }

    // ĐźŃ€Đ¸ĐĽĐµĐ˝ŃŹĐµĐĽ Ń Đ·Đ°Đ´ĐµŃ€Đ¶ĐşĐľĐą, Ń‡Ń‚ĐľĐ±Ń‹ Ń„ĐľŃ€ĐĽĐ° ŃŃĐżĐµĐ»Đ° ĐľŃ‚Ń€ĐµĐ˝Đ´ĐµŃ€Đ¸Ń‚ŃŚŃŃŹ
    const timer = setTimeout(fixAutofillStyles, 100)
    const timer2 = setTimeout(fixAutofillStyles, 500)
    const timer3 = setTimeout(fixAutofillStyles, 1000)

    return () => {
      clearTimeout(timer)
      clearTimeout(timer2)
      clearTimeout(timer3)
    }
  }, [])

  const onSubmit = async (data: FormValues) => {
    setIsSubmitting(true)
    await new Promise((resolve) => setTimeout(resolve, 1500))
    console.log('Form data:', data)
    setIsSubmitting(false)
    toast.success('ZgĹ‚oszenie wysĹ‚ane pomyĹ›lnie!')
    reset()
  }

  return (
    <section id="kontakt-test" className="relative pb-6 md:pb-10 pt-0">
      <Toaster position="bottom-center" />
      
      {/* TĹ‚o sekcji */}
      <div
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.services_background}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/50" />
      </div>

      <div className="relative z-10 container mx-auto px-4 flex flex-col items-center">
        
        {/* Tekst nad formularzem */}
        <p className="text-[22px] text-[#fff8e7] font-cormorant italic font-semibold text-center mb-8 drop-shadow-2xl pt-4 md:pt-6">
          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„"
        </p>

        {/* Karta formularza */}
        <div className="w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-4 md:p-6 border border-black/20 scale-[0.8] origin-top">
          
          {/* NagĹ‚Ăłwek formularza */}
          <h2 className="text-black text-3xl md:text-4xl font-cormorant italic font-bold text-center mb-4 md:mb-5 border-b border-black/10 pb-3 md:pb-3">
            Formularz zgĹ‚oszeniowy (TEST - Nowa wersja)
          </h2>

          <form ref={formRef} onSubmit={handleSubmit(onSubmit)} className="space-y-3 md:space-y-4">
            
            {/* ImiÄ™ i nazwisko */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                ImiÄ™ i nazwisko
              </label>
              <input
                {...register('name')}
                type="text"
                placeholder="Jan Kowalski"
                autoComplete="off"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/60 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all resize-y"
              />
              {errors.name && (
                <p className="text-red-600 text-sm">{errors.name.message}</p>
              )}
            </div>

            {/* Telefon */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Numer telefonu
              </label>
              <div className="phone-input-container">
                <Controller
                  name="phone"
                  control={control}
                  render={({ field }) => (
                    <CustomPhoneInput
                      value={field.value || ''}
                      onChange={(phone) => field.onChange(phone)}
                      defaultCountry="pl"
                    />
                  )}
                />
              </div>
              {errors.phone && (
                <p className="text-red-600 text-sm">{errors.phone.message}</p>
              )}
            </div>

              {/* E-mail */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Adres e-mail
              </label>
              <input
                {...register('email')}
                type="email"
                placeholder="jan.kowalski@example.com"
                autoComplete="off"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/60 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.email && (
                <p className="text-red-600 text-sm">{errors.email.message}</p>
              )}
            </div>

            {/* Adres */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Adres
              </label>
              <input
                {...register('address')}
                type="text"
                placeholder="ul. PrzykĹ‚adowa 1, 50-001 WrocĹ‚aw"
                autoComplete="off"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/60 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.address && (
                <p className="text-red-600 text-sm">{errors.address.message}</p>
              )}
            </div>

            {/* Typ urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl mb-2">
                Typ urzÄ…dzenia
              </label>
              <div className="flex flex-wrap gap-6">
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <CustomRadio
                      {...field}
                      value="printer"
                      checked={field.value === 'printer'}
                      label="Drukarka"
                    />
                  )}
                />
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <CustomRadio
                      {...field}
                      value="computer"
                      checked={field.value === 'computer'}
                      label="Komputer / Laptop"
                    />
                  )}
                />
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <CustomRadio
                      {...field}
                      value="other"
                      checked={field.value === 'other'}
                      label="Inne urzÄ…dzenie"
                    />
                  )}
                />
              </div>
              {errors.deviceType && (
                <p className="text-red-600 text-sm">{errors.deviceType.message}</p>
              )}
            </div>

            {/* Model urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Model urzÄ…dzenia
              </label>
              <input
                {...register('deviceModel')}
                type="text"
                placeholder="np. HP LaserJet Pro M404dn"
                autoComplete="off"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/60 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
            </div>

            {/* Opis problemu */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Opis problemu
              </label>
              <textarea
                {...register('problemDescription')}
                rows={4}
                placeholder="ProszÄ™ opisaÄ‡ problem z urzÄ…dzeniem..."
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/60 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all resize-y"
              />
              {errors.problemDescription && (
                <p className="text-red-600 text-sm">{errors.problemDescription.message}</p>
              )}
            </div>

            {/* Checkboxy */}
            <div className="space-y-3 pt-1">
              <Controller
                name="replacementPrinter"
                control={control}
                render={({ field }) => (
                  <CustomCheckbox
                    checked={field.value || false}
                    onChange={(e) => field.onChange(e.target.checked)}
                    onBlur={field.onBlur}
                    name={field.name}
                    label="PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy."
                  />
                )}
              />

              <div className="space-y-1">
                <Controller
                  name="agreements"
                  control={control}
                  render={({ field }) => (
                    <CustomCheckbox
                      checked={field.value || false}
                      onChange={(e) => field.onChange(e.target.checked)}
                      onBlur={field.onBlur}
                      name={field.name}
                      label={
                        <span className="text-lg">
                          OĹ›wiadczam, ĹĽe zapoznaĹ‚em/am siÄ™ z{' '}
                          <Link href="/polityka-prywatnosci" className="underline hover:text-black hover:font-bold transition-all">
                            PolitykÄ… PrywatnoĹ›ci
                          </Link>{' '}
                          oraz{' '}
                          <Link href="/regulamin" className="underline hover:text-black hover:font-bold transition-all">
                            Regulaminem
                          </Link>{' '}
                          i akceptujÄ™ ich postanowienia.
                        </span>
                      }
                    />
                  )}
                />
                {errors.agreements && (
                  <p className="text-red-600 text-sm ml-8">{errors.agreements.message}</p>
                )}
              </div>
            </div>

            {/* Przycisk Submit */}
            <div className="pt-4 flex justify-center">
              <button
                type="submit"
                disabled={isSubmitting}
                className="relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-black/30 shadow-[inset_0_0_20px_rgba(0,0,0,0.1)] hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.05)] rounded-full transition-all duration-300"
              >
                <span className="font-cormorant font-bold text-2xl text-black tracking-wide group-hover:text-black flex items-center gap-2">
                  {isSubmitting && <Loader2 className="animate-spin h-5 w-5" />}
                  WyĹ›lij zgĹ‚oszenie
                </span>
              </button>
            </div>

          </form>
        </div>
      </div>
    </section>
  )
}


🗂 FILE: 875e0deb-7617-4710-bb9b-9dbf0de1bf0c
----------------------------------------

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 5rem; /* wysokoĹ›Ä‡ headera */
  }

  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .bg-paper-texture {
    background-image: url('/images/zmiety arkusz papieru 2.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }
  
  .service-description-text {
    word-break: break-word;
    overflow-wrap: anywhere;
  }
  
  /* ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡ĐµĐ˝Đ¸Đµ ŃĐ¸Ń€Đ¸Đ˝Ń‹ ĐżĐµŃ€Đ˛ĐľĐą ĐşĐľĐ»ĐľĐ˝ĐşĐ¸ Ń‚Đ°Đ±Đ»Đ¸Ń†Ń‹ Ń‡ĐµŃ€ĐµĐ· max-width */
  table[data-slot="table"] tbody tr td:first-child {
    max-width: 850px;
  }
  
  /* Đ¤Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝ĐľĐµ Đ˛Ń‹Ń€Đ°Đ˛Đ˝Đ¸Đ˛Đ°Đ˝Đ¸Đµ ĐşĐľĐ»ĐľĐ˝ĐşĐ¸ Ń Ń†ĐµĐ˝Đ°ĐĽĐ¸ */
  table[data-slot="table"] tbody tr td:nth-child(2) {
    text-align: center !important;
    vertical-align: middle !important;
  }
  
  /* ĐťĐ° Đ´ĐµŃĐşŃ‚ĐľĐżĐµ Ń„Đ¸ĐşŃĐ¸Ń€ŃĐµĐĽ ŃĐ¸Ń€Đ¸Đ˝Ń ĐşĐľĐ»ĐľĐ˝ĐşĐ¸ Ń Ń†ĐµĐ˝Đ°ĐĽĐ¸ */
  @media (min-width: 768px) {
    table[data-slot="table"] {
      table-layout: fixed;
    }
    
    table[data-slot="table"] tbody tr td:nth-child(2) {
      width: 16.5% !important;
      min-width: 120px;
    }
  }
  
  /* ĐŁĐ±Đ¸Ń€Đ°ĐµĐĽ ŃĐ¸Đ˝ŃŽŃŽ Ń€Đ°ĐĽĐşŃ Đ´Đ»ŃŹ ĐżĐľĐ´ĐşĐ°Ń‚ĐµĐłĐľŃ€Đ¸Đą Đ˛ ŃĐµĐşŃ†Đ¸Đ¸ naprawy */
  [data-slot="accordion"] [data-slot="accordion-item"] [data-slot="accordion-trigger"]:focus-visible {
    outline: none !important;
    box-shadow: none !important;
  }
  
  /* ĐžĐ±ĐµŃĐżĐµŃ‡Đ¸Đ˛Đ°ĐµĐĽ Đ˛Đ¸Đ´Đ¸ĐĽĐľŃŃ‚ŃŚ Đ˝Đ°Đ´ĐżĐ¸ŃĐ¸ "Zobacz cennik" Đ˛ ĐżĐľĐ´ĐşĐ°Ń‚ĐµĐłĐľŃ€Đ¸ŃŹŃ… */
  [data-subcategory-link] {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  /* ĐˇĐşŃ€Ń‹Đ˛Đ°ĐµĐĽ Đ˝Đ°Đ´ĐżĐ¸ŃŃŚ ĐşĐľĐłĐ´Đ° ĐżĐľĐ´ĐşĐ°Ń‚ĐµĐłĐľŃ€Đ¸ŃŹ ĐľŃ‚ĐşŃ€Ń‹Ń‚Đ° */
  [data-slot="accordion-trigger"][data-state="open"] [data-subcategory-link] {
    display: none !important;
  }
  
  /* ĐĐ˝Đ¸ĐĽĐ°Ń†Đ¸ŃŹ ĐżŃ€Đ¸ ĐľŃ‚ĐşŃ€Ń‹Ń‚Đ¸Đ¸ FAQ ĐľŃ‚Đ˛ĐµŃ‚Đ° */
  [data-slot="accordion-content"] {
    animation: fadeIn 0.3s ease-in-out;
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-5px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  
  /* ĐˇĐşŃ€ĐľĐ»Đ»Đ±Đ°Ń€ - ŃĐ±Ń€Đ°Đ»Đ¸ Đ˛ŃĐµ ŃŃ‚Đ¸Đ»Đ¸, ĐľŃŃ‚Đ°Đ˛Đ»ŃŹĐµĐĽ ĐżĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ */
  
  /* ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ Đ˛ŃĐµŃ… ĐżĐľĐ»ĐµĐą Đ˛Đ˛ĐľĐ´Đ° - ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝Đ°ŃŹ ŃĐżĐµŃ†Đ¸Ń„Đ¸Ń‡Đ˝ĐľŃŃ‚ŃŚ Đ¸ ĐżŃ€Đ¸ĐľŃ€Đ¸Ń‚ĐµŃ‚ */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input:not([type="radio"]):not([type="checkbox"]):not([type="submit"]):not([type="button"]) {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  input[type="text"]:-webkit-autofill,
  input[type="text"]:-webkit-autofill:hover,
  input[type="text"]:-webkit-autofill:focus,
  input[type="text"]:-webkit-autofill:active,
  input[type="email"]:-webkit-autofill,
  input[type="email"]:-webkit-autofill:hover,
  input[type="email"]:-webkit-autofill:focus,
  input[type="email"]:-webkit-autofill:active,
  input[type="tel"]:-webkit-autofill,
  input[type="tel"]:-webkit-autofill:hover,
  input[type="tel"]:-webkit-autofill:focus,
  input[type="tel"]:-webkit-autofill:active,
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  input:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #3a2e24 !important;
    color: #3a2e24 !important;
  }
  
  input[type="text"]:focus,
  input[type="text"]:active,
  input[type="text"]:hover,
  input[type="email"]:focus,
  input[type="email"]:active,
  input[type="email"]:hover,
  input[type="tel"]:focus,
  input[type="tel"]:active,
  input[type="tel"]:hover,
  input:focus,
  input:active,
  input:hover {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  #kontakt input[type="text"]:-webkit-autofill,
  #kontakt input[type="text"]:-webkit-autofill:hover,
  #kontakt input[type="text"]:-webkit-autofill:focus,
  #kontakt input[type="text"]:-webkit-autofill:active,
  #kontakt input[type="email"]:-webkit-autofill,
  #kontakt input[type="email"]:-webkit-autofill:hover,
  #kontakt input[type="email"]:-webkit-autofill:focus,
  #kontakt input[type="email"]:-webkit-autofill:active,
  #kontakt input[type="tel"]:-webkit-autofill,
  #kontakt input[type="tel"]:-webkit-autofill:hover,
  #kontakt input[type="tel"]:-webkit-autofill:focus,
  #kontakt input[type="tel"]:-webkit-autofill:active,
  #kontakt textarea:-webkit-autofill,
  #kontakt textarea:-webkit-autofill:hover,
  #kontakt textarea:-webkit-autofill:focus,
  #kontakt textarea:-webkit-autofill:active,
  section#kontakt input[type="text"]:-webkit-autofill,
  section#kontakt input[type="text"]:-webkit-autofill:hover,
  section#kontakt input[type="text"]:-webkit-autofill:focus,
  section#kontakt input[type="text"]:-webkit-autofill:active,
  section#kontakt input[type="email"]:-webkit-autofill,
  section#kontakt input[type="email"]:-webkit-autofill:hover,
  section#kontakt input[type="email"]:-webkit-autofill:focus,
  section#kontakt input[type="email"]:-webkit-autofill:active,
  section#kontakt input[type="tel"]:-webkit-autofill,
  section#kontakt input[type="tel"]:-webkit-autofill:hover,
  section#kontakt input[type="tel"]:-webkit-autofill:focus,
  section#kontakt input[type="tel"]:-webkit-autofill:active,
  section#kontakt textarea:-webkit-autofill,
  section#kontakt textarea:-webkit-autofill:hover,
  section#kontakt textarea:-webkit-autofill:focus,
  section#kontakt textarea:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #3a2e24 !important;
    color: #3a2e24 !important;
  }
  
  #kontakt input[type="text"]:focus,
  #kontakt input[type="text"]:active,
  #kontakt input[type="text"]:hover,
  #kontakt input[type="email"]:focus,
  #kontakt input[type="email"]:active,
  #kontakt input[type="email"]:hover,
  #kontakt input[type="tel"]:focus,
  #kontakt input[type="tel"]:active,
  #kontakt input[type="tel"]:hover,
  #kontakt textarea:focus,
  #kontakt textarea:active,
  #kontakt textarea:hover,
  section#kontakt input[type="text"]:focus,
  section#kontakt input[type="text"]:active,
  section#kontakt input[type="text"]:hover,
  section#kontakt input[type="email"]:focus,
  section#kontakt input[type="email"]:active,
  section#kontakt input[type="email"]:hover,
  section#kontakt input[type="tel"]:focus,
  section#kontakt input[type="tel"]:active,
  section#kontakt input[type="tel"]:hover,
  section#kontakt textarea:focus,
  section#kontakt textarea:active,
  section#kontakt textarea:hover {
    background-color: transparent !important;
    background: transparent !important;
  }
  

  /* ĐĐ´Đ°ĐżŃ‚Đ¸Đ˛Đ˝Ń‹Đµ ŃŃ‚Đ¸Đ»Đ¸ Đ´Đ»ŃŹ ĐĽĐľĐ±Đ¸Đ»ŃŚĐ˝Ń‹Ń… ŃŃŃ‚Ń€ĐľĐąŃŃ‚Đ˛ */
  @media (max-width: 768px) {
    table[data-slot="table"] {
      table-layout: fixed;
      width: 100%;
      max-width: 100%;
    }
    
    table[data-slot="table"] colgroup {
      display: none;
    }
    
    table[data-slot="table"] tbody tr td:first-child {
      max-width: none;
      width: 80%;
      padding-right: 0.5rem;
    }
    
    table[data-slot="table"] tbody tr td:nth-child(2) {
      min-width: 70px;
      width: 20% !important;
      padding-left: 0.5rem;
      padding-right: 0.5rem;
      white-space: nowrap;
      text-align: center !important;
      vertical-align: middle !important;
    }
    
    /* ĐšĐľĐ˝Ń‚ĐµĐąĐ˝ĐµŃ€ Ń‚Đ°Đ±Đ»Đ¸Ń†Ń‹ Đ˝Đ° ĐĽĐľĐ±Đ¸Đ»ŃŚĐ˝Ń‹Ń… - ŃĐ±Đ¸Ń€Đ°ĐµĐĽ ĐłĐľŃ€Đ¸Đ·ĐľĐ˝Ń‚Đ°Đ»ŃŚĐ˝ŃŃŽ ĐżŃ€ĐľĐşŃ€ŃŃ‚ĐşŃ */
    div[data-slot="table-container"] {
      overflow-x: visible !important;
      width: 100%;
    }
    
    /* ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡Đ¸Đ˛Đ°ĐµĐĽ ŃĐ¸Ń€Đ¸Đ˝Ń Ń‚Đ°Đ±Đ»Đ¸Ń†Ń‹ Đ˝Đ° ĐĽĐľĐ±Đ¸Đ»ŃŚĐ˝Ń‹Ń… */
    div[data-slot="table-container"] table {
      width: 100% !important;
      max-width: 100% !important;
    }
  }
  
  /* ĐšĐ ĐĐ˘ĐĐ§Đ•ĐˇĐšĐ Đ’ĐĐ–ĐťĐž: ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ input - Đ˛ ĐşĐľĐ˝Ń†Đµ Ń„Đ°ĐąĐ»Đ° Ń ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝Ń‹ĐĽ ĐżŃ€Đ¸ĐľŃ€Đ¸Ń‚ĐµŃ‚ĐľĐĽ */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input:not([type="radio"]):not([type="checkbox"]):not([type="submit"]):not([type="button"]):not([type="hidden"]) {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  input[type="text"]:-webkit-autofill,
  input[type="text"]:-webkit-autofill:hover,
  input[type="text"]:-webkit-autofill:focus,
  input[type="text"]:-webkit-autofill:active,
  input[type="email"]:-webkit-autofill,
  input[type="email"]:-webkit-autofill:hover,
  input[type="email"]:-webkit-autofill:focus,
  input[type="email"]:-webkit-autofill:active,
  input[type="tel"]:-webkit-autofill,
  input[type="tel"]:-webkit-autofill:hover,
  input[type="tel"]:-webkit-autofill:focus,
  input[type="tel"]:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #3a2e24 !important;
    color: #3a2e24 !important;
  }
  
  input[type="text"]:focus,
  input[type="text"]:active,
  input[type="text"]:hover,
  input[type="email"]:focus,
  input[type="email"]:active,
  input[type="email"]:hover,
  input[type="tel"]:focus,
  input[type="tel"]:active,
  input[type="tel"]:hover {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  /* ĐˇĐżĐµŃ†Đ¸Đ°Đ»ŃŚĐ˝Ń‹Đµ ĐżŃ€Đ°Đ˛Đ¸Đ»Đ° Đ´Đ»ŃŹ Ń‚ĐµŃŃ‚ĐľĐ˛ĐľĐą ŃŃ‚Ń€Đ°Đ˝Đ¸Ń†Ń‹ kontakt-test */
  #kontakt-test input[type="text"],
  #kontakt-test input[type="email"],
  #kontakt-test input[type="tel"] {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  #kontakt-test input[type="text"]:-webkit-autofill,
  #kontakt-test input[type="text"]:-webkit-autofill:hover,
  #kontakt-test input[type="text"]:-webkit-autofill:focus,
  #kontakt-test input[type="text"]:-webkit-autofill:active,
  #kontakt-test input[type="email"]:-webkit-autofill,
  #kontakt-test input[type="email"]:-webkit-autofill:hover,
  #kontakt-test input[type="email"]:-webkit-autofill:focus,
  #kontakt-test input[type="email"]:-webkit-autofill:active,
  #kontakt-test input[type="tel"]:-webkit-autofill,
  #kontakt-test input[type="tel"]:-webkit-autofill:hover,
  #kontakt-test input[type="tel"]:-webkit-autofill:focus,
  #kontakt-test input[type="tel"]:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #000000 !important;
    color: #000000 !important;
    transition: background-color 5000s ease-in-out 0s !important;
  }
  
  #kontakt-test input[type="text"]:focus,
  #kontakt-test input[type="text"]:active,
  #kontakt-test input[type="text"]:hover,
  #kontakt-test input[type="email"]:focus,
  #kontakt-test input[type="email"]:active,
  #kontakt-test input[type="email"]:hover,
  #kontakt-test input[type="tel"]:focus,
  #kontakt-test input[type="tel"]:active,
  #kontakt-test input[type="tel"]:hover {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  
  /* ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ radio Đ¸ checkbox Đ˝Đ° Ń‚ĐµŃŃ‚ĐľĐ˛ĐľĐą ŃŃ‚Ń€Đ°Đ˝Đ¸Ń†Đµ */
  #kontakt-test input[type="radio"],
  #kontakt-test input[type="checkbox"] {
    background-color: transparent !important;
    background: transparent !important;
  }
  
  #kontakt-test input[type="radio"]:checked,
  #kontakt-test input[type="checkbox"]:checked {
    background-color: transparent !important;
    background: transparent !important;
  }
  
  /* ĐšĐľĐ˝Ń‚ĐµĐąĐ˝ĐµŃ€Ń‹ Đ´Đ»ŃŹ radio Đ¸ checkbox */
  #kontakt-test label:has(input[type="radio"]),
  #kontakt-test label:has(input[type="checkbox"]) {
    background-color: transparent !important;
    background: transparent !important;
  }
  
  /* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş ŃŃ‚Ń€Đ°Đ˝ - ĐżĐľĐ´Đ»ĐľĐ¶ĐşĐ° Đ¸Đ· ŃĐĽŃŹŃ‚ĐľĐłĐľ Đ»Đ¸ŃŃ‚Đ° */
  .custom-dropdown {
    background-image: 
      linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)),
      url('/images/zmiety arkusz papieru 2.png') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
  }
  
  
  /* ĐˇĐşŃ€ĐľĐ»Đ»Đ±Đ°Ń€ Đ´Đ»ŃŹ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° ŃŃ‚Ń€Đ°Đ˝ */
  .custom-dropdown::-webkit-scrollbar {
    width: 8px;
  }
  
  .custom-dropdown::-webkit-scrollbar-track {
    background-image: 
      linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)),
      url('/images/zmiety arkusz papieru 2.png') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    border-radius: 4px;
  }
  
  .custom-dropdown::-webkit-scrollbar-thumb {
    background: rgba(58, 46, 36, 0.3) !important;
    border-radius: 4px;
  }
  
  .custom-dropdown::-webkit-scrollbar-thumb:hover {
    background: rgba(58, 46, 36, 0.5) !important;
  }
  
  /* Đ”Đ»ŃŹ Firefox */
  .custom-dropdown {
    scrollbar-width: thin;
    scrollbar-color: rgba(58, 46, 36, 0.3) transparent;
  }
}


--- DIFFS ---


💡 DIFF: 05c23a41-ad74-4fb7-a042-07bd44fcf017
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\success-modal.tsx","fileUuid":"05c23a41-ad74-4fb7-a042-07bd44fcf017","fileSizeBytes":1930,"numLines":64,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":1,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":65,"addedLines":["'use client'","","import { useEffect } from 'react'","import manifest from '@/config/KANONICZNY_MANIFEST.json'","","interface SuccessModalProps {","  isOpen: boolean","  onClose: () => void","}","","export function SuccessModal({ isOpen, onClose }: SuccessModalProps) {","  // ĐĐ˛Ń‚ĐľĐ·Đ°ĐşŃ€Ń‹Ń‚Đ¸Đµ Ń‡ĐµŃ€ĐµĐ· 5 ŃĐµĐşŃĐ˝Đ´","  useEffect(() => {","    if (isOpen) {","      const timer = setTimeout(() => {","        onClose()","      }, 5000)","      return () => clearTimeout(timer)","    }","  }, [isOpen, onClose])","","  if (!isOpen) return null","","  return (","    <div","      className=\"fixed inset-0 z-50 flex items-center justify-center p-4\"","      onClick={onClose}","    >","      {/* Đ—Đ°Ń‚ĐµĐĽĐ˝ĐµĐ˝Đ¸Đµ Ń„ĐľĐ˝Đ° */}","      <div className=\"absolute inset-0 bg-black/50 transition-opacity duration-300\" />","","      {/* ĐśĐľĐ´Đ°Đ»ŃŚĐ˝ĐľĐµ ĐľĐşĐ˝Đľ */}","      <div","        className=\"relative z-10 w-full max-w-md rounded-lg shadow-2xl transform transition-all duration-300\"","        style={{","          backgroundImage: `url('${manifest.Background_1}')`,","          backgroundSize: 'cover',","          backgroundPosition: 'center',","          backgroundRepeat: 'no-repeat',","          animation: 'modalAppear 0.3s ease-out',","        }}","        onClick={(e) => e.stopPropagation()}","      >","        {/* Đ’Đ˝ŃŃ‚Ń€ĐµĐ˝Đ˝Đ¸Đą ĐşĐľĐ˝Ń‚ĐµĐ˝Ń‚ */}","        <div className=\"p-8 md:p-12 text-center\">","          {/* Đ—Đ°ĐłĐľĐ»ĐľĐ˛ĐľĐş */}","          <h2 className=\"text-white font-cormorant text-4xl md:text-5xl font-bold mb-6 drop-shadow-lg\">","            ZgĹ‚oszenie wysĹ‚ane!","          </h2>","","          {/* ĐšĐ˝ĐľĐżĐşĐ° OK */}","          <button","            onClick={onClose}","            className=\"mt-6 px-8 py-3 bg-white/10 border border-white/30 text-white font-cormorant text-lg font-semibold rounded-full hover:bg-white/20 hover:border-white/50 transition-all duration-300 hover:shadow-lg hover:-translate-y-1\"","          >","            OK","          </button>","        </div>","      </div>","    </div>","  )","}","",""],"tokenizedAddedLines":[1000000,1000001,1000002,1000003,1000001,1000004,1000005,1000006,1000007,1000001,1000008,1000009,1000010,1000011,1000012,1000013,1000014,1000015,1000016,1000017,1000001,1000018,1000001,1000019,1000020,1000021,1000022,1000023,1000024,1000025,1000001,1000026,1000027,1000028,1000029,1000030,1000031,1000032,1000033,1000034,1000035,1000036,1000037,1000038,1000039,1000040,1000041,1000042,1000043,1000001,1000044,1000045,1000046,1000047,1000048,1000049,1000050,1000051,1000052,1000053,1000054,1000007,1000001,1000001]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_ADDED"}

💡 DIFF: 59b753c5-baaf-44e8-92e2-03f6f76a9137
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\api\\send-email\\route.ts","fileUuid":"59b753c5-baaf-44e8-92e2-03f6f76a9137","fileSizeBytes":1684,"numLines":55,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":1,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":56,"addedLines":["import { Resend } from 'resend'","import { NextRequest, NextResponse } from 'next/server'","","const resend = new Resend(process.env.RESEND_API_KEY)","","export async function POST(request: NextRequest) {","  try {","    const body = await request.json()","    const { name, phone, email, address, deviceType, deviceModel, problemDescription, replacementPrinter } = body","","    // Đ¤ĐľŃ€ĐĽĐ¸Ń€ŃĐµĐĽ ŃĐľĐľĐ±Ń‰ĐµĐ˝Đ¸Đµ","    const deviceTypeText = deviceType === 'printer' ? 'Drukarka' : deviceType === 'computer' ? 'Komputer / Laptop' : 'Inne urzÄ…dzenie'","    const replacementText = replacementPrinter ? 'Tak' : 'Nie'","","    const emailContent = `","Nowe zgĹ‚oszenie z formularza kontaktowego:","","ImiÄ™ i nazwisko: ${name}","Numer telefonu: ${phone}","Email: ${email}","Adres: ${address}","","Typ urzÄ…dzenia: ${deviceTypeText}","${deviceModel ? `Model urzÄ…dzenia: ${deviceModel}` : ''}","","Opis problemu:","${problemDescription}","","PotrzebujÄ™ drukarki zastÄ™pczej: ${replacementText}","","---","WiadomoĹ›Ä‡ wysĹ‚ana z formularza kontaktowego Omobonus Serwis","    `.trim()","","    // ĐžŃ‚ĐżŃ€Đ°Đ˛Đ»ŃŹĐµĐĽ email","    const { data, error } = await resend.emails.send({","      from: 'Omobonus Serwis <noreply@omobonus.pl>', // Đ—Đ°ĐĽĐµĐ˝Đ¸Ń‚Đµ Đ˝Đ° Đ˛Đ°Ń Đ´ĐľĐĽĐµĐ˝","      to: ['omobonus.pl@gmail.com'],","      subject: `Nowe zgĹ‚oszenie od ${name}`,","      text: emailContent,","    })","","    if (error) {","      console.error('Resend error:', error)","      return NextResponse.json({ error: 'BĹ‚Ä…d podczas wysyĹ‚ania email' }, { status: 500 })","    }","","    return NextResponse.json({ success: true, data })","  } catch (error) {","    console.error('Email send error:', error)","    return NextResponse.json({ error: 'BĹ‚Ä…d serwera' }, { status: 500 })","  }","}","",""],"tokenizedAddedLines":[1000000,1000001,1000002,1000003,1000002,1000004,1000005,1000006,1000007,1000002,1000008,1000009,1000010,1000002,1000011,1000012,1000002,1000013,1000014,1000015,1000016,1000002,1000017,1000018,1000002,1000019,1000020,1000002,1000021,1000002,1000022,1000023,1000024,1000002,1000025,1000026,1000027,1000028,1000029,1000030,1000031,1000002,1000032,1000033,1000034,1000035,1000002,1000036,1000037,1000038,1000039,1000040,1000041,1000002,1000002]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_ADDED"}

💡 DIFF: 5e78633c-0742-4426-87ee-21b4e355bb5a
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact-test.tsx","fileUuid":"5e78633c-0742-4426-87ee-21b4e355bb5a","fileSizeBytes":16902,"numLines":417,"diffChanges":[{"originalStartLineNumberOneIndexed":14,"originalEndLineNumberExclusiveOneIndexed":14,"modifiedStartLineNumberOneIndexed":14,"modifiedEndLineNumberExclusiveOneIndexed":15,"addedLines":["import { SuccessModal } from '@/components/ui/success-modal'"],"tokenizedAddedLines":[1000275]},{"originalStartLineNumberOneIndexed":39,"originalEndLineNumberExclusiveOneIndexed":39,"modifiedStartLineNumberOneIndexed":40,"modifiedEndLineNumberExclusiveOneIndexed":41,"addedLines":["  const [showSuccessModal, setShowSuccessModal] = useState(false)"],"tokenizedAddedLines":[1000276]},{"originalStartLineNumberOneIndexed":130,"originalEndLineNumberExclusiveOneIndexed":132,"modifiedStartLineNumberOneIndexed":132,"modifiedEndLineNumberExclusiveOneIndexed":156,"addedLines":["    ","    try {","      // ĐžŃ‚ĐżŃ€Đ°Đ˛Đ»ŃŹĐµĐĽ Đ´Đ°Đ˝Đ˝Ń‹Đµ Đ˝Đ° API","      const response = await fetch('/api/send-email', {","        method: 'POST',","        headers: {","          'Content-Type': 'application/json',","        },","        body: JSON.stringify(data),","      })","","      if (!response.ok) {","        throw new Error('BĹ‚Ä…d podczas wysyĹ‚ania')","      }","","      // ĐžŃ‡Đ¸Ń‰Đ°ĐµĐĽ Ń„ĐľŃ€ĐĽŃ","      reset()","      ","      // ĐźĐľĐşĐ°Đ·Ń‹Đ˛Đ°ĐµĐĽ ĐĽĐľĐ´Đ°Đ»ŃŚĐ˝ĐľĐµ ĐľĐşĐ˝Đľ","      setShowSuccessModal(true)","    } catch (error) {","      console.error('Error sending email:', error)","      toast.error('WystÄ…piĹ‚ bĹ‚Ä…d podczas wysyĹ‚ania zgĹ‚oszenia. SprĂłbuj ponownie.')","    } finally {"],"tokenizedAddedLines":[1000277,1000278,1000279,1000280,1000281,1000282,1000283,1000284,1000285,1000286,2,1000287,1000288,102,2,1000289,1000290,124,1000291,1000292,1000293,1000294,1000295,1000296]},{"originalStartLineNumberOneIndexed":133,"originalEndLineNumberExclusiveOneIndexed":135,"modifiedStartLineNumberOneIndexed":157,"modifiedEndLineNumberExclusiveOneIndexed":158,"addedLines":["    }"],"tokenizedAddedLines":[103]},{"originalStartLineNumberOneIndexed":385,"originalEndLineNumberExclusiveOneIndexed":385,"modifiedStartLineNumberOneIndexed":408,"modifiedEndLineNumberExclusiveOneIndexed":414,"addedLines":["","      {/* ĐśĐľĐ´Đ°Đ»ŃŚĐ˝ĐľĐµ ĐľĐşĐ˝Đľ ŃŃĐżĐµŃĐ˝ĐľĐą ĐľŃ‚ĐżŃ€Đ°Đ˛ĐşĐ¸ */}","      <SuccessModal ","        isOpen={showSuccessModal} ","        onClose={() => setShowSuccessModal(false)} ","      />"],"tokenizedAddedLines":[2,1000297,1000298,1000299,1000300,1000301]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

💡 DIFF: 875e0deb-7617-4710-bb9b-9dbf0de1bf0c
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"875e0deb-7617-4710-bb9b-9dbf0de1bf0c","fileSizeBytes":14052,"numLines":418,"diffChanges":[{"originalStartLineNumberOneIndexed":405,"originalEndLineNumberExclusiveOneIndexed":405,"modifiedStartLineNumberOneIndexed":405,"modifiedEndLineNumberExclusiveOneIndexed":417,"addedLines":["  ","  /* ĐĐ˝Đ¸ĐĽĐ°Ń†Đ¸ŃŹ ĐżĐľŃŹĐ˛Đ»ĐµĐ˝Đ¸ŃŹ ĐĽĐľĐ´Đ°Đ»ŃŚĐ˝ĐľĐłĐľ ĐľĐşĐ˝Đ° */","  @keyframes modalAppear {","    from {","      opacity: 0;","      transform: scale(0.9) translateY(-10px);","    }","    to {","      opacity: 1;","      transform: scale(1) translateY(0);","    }","  }"],"tokenizedAddedLines":[19,1000239,1000240,55,56,1000241,34,58,59,1000242,34,9]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 5c1bccd5-fd54-415b-8df2-d90ed08898e3 | Время: 11/25/2025 11:08:11 =====


--- METADATA ---

{"agentRequestId":"5c1bccd5-fd54-415b-8df2-d90ed08898e3","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"7a922475-3aa3-4602-9f07-c2f6ee82b2fe","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}],"startTrackingDateUnixMilliseconds":1764065291263,"fileSizeBytes":14647,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 7a922475-3aa3-4602-9f07-c2f6ee82b2fe
----------------------------------------

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 5rem; /* wysokoĹ›Ä‡ headera */
  }

  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .bg-paper-texture {
    background-image: url('/images/zmiety arkusz papieru 2.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }
  
  .service-description-text {
    word-break: break-word;
    overflow-wrap: anywhere;
  }
  
  /* ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡ĐµĐ˝Đ¸Đµ ŃĐ¸Ń€Đ¸Đ˝Ń‹ ĐżĐµŃ€Đ˛ĐľĐą ĐşĐľĐ»ĐľĐ˝ĐşĐ¸ Ń‚Đ°Đ±Đ»Đ¸Ń†Ń‹ Ń‡ĐµŃ€ĐµĐ· max-width */
  table[data-slot="table"] tbody tr td:first-child {
    max-width: 850px;
  }
  
  /* Đ¤Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝ĐľĐµ Đ˛Ń‹Ń€Đ°Đ˛Đ˝Đ¸Đ˛Đ°Đ˝Đ¸Đµ ĐşĐľĐ»ĐľĐ˝ĐşĐ¸ Ń Ń†ĐµĐ˝Đ°ĐĽĐ¸ */
  table[data-slot="table"] tbody tr td:nth-child(2) {
    text-align: center !important;
    vertical-align: middle !important;
  }
  
  /* ĐťĐ° Đ´ĐµŃĐşŃ‚ĐľĐżĐµ Ń„Đ¸ĐşŃĐ¸Ń€ŃĐµĐĽ ŃĐ¸Ń€Đ¸Đ˝Ń ĐşĐľĐ»ĐľĐ˝ĐşĐ¸ Ń Ń†ĐµĐ˝Đ°ĐĽĐ¸ */
  @media (min-width: 768px) {
    table[data-slot="table"] {
      table-layout: fixed;
    }
    
    table[data-slot="table"] tbody tr td:nth-child(2) {
      width: 16.5% !important;
      min-width: 120px;
    }
  }
  
  /* ĐŁĐ±Đ¸Ń€Đ°ĐµĐĽ ŃĐ¸Đ˝ŃŽŃŽ Ń€Đ°ĐĽĐşŃ Đ´Đ»ŃŹ ĐżĐľĐ´ĐşĐ°Ń‚ĐµĐłĐľŃ€Đ¸Đą Đ˛ ŃĐµĐşŃ†Đ¸Đ¸ naprawy */
  [data-slot="accordion"] [data-slot="accordion-item"] [data-slot="accordion-trigger"]:focus-visible {
    outline: none !important;
    box-shadow: none !important;
  }
  
  /* ĐžĐ±ĐµŃĐżĐµŃ‡Đ¸Đ˛Đ°ĐµĐĽ Đ˛Đ¸Đ´Đ¸ĐĽĐľŃŃ‚ŃŚ Đ˝Đ°Đ´ĐżĐ¸ŃĐ¸ "Zobacz cennik" Đ˛ ĐżĐľĐ´ĐşĐ°Ń‚ĐµĐłĐľŃ€Đ¸ŃŹŃ… */
  [data-subcategory-link] {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  /* ĐˇĐşŃ€Ń‹Đ˛Đ°ĐµĐĽ Đ˝Đ°Đ´ĐżĐ¸ŃŃŚ ĐşĐľĐłĐ´Đ° ĐżĐľĐ´ĐşĐ°Ń‚ĐµĐłĐľŃ€Đ¸ŃŹ ĐľŃ‚ĐşŃ€Ń‹Ń‚Đ° */
  [data-slot="accordion-trigger"][data-state="open"] [data-subcategory-link] {
    display: none !important;
  }
  
  /* ĐĐ˝Đ¸ĐĽĐ°Ń†Đ¸ŃŹ ĐżŃ€Đ¸ ĐľŃ‚ĐşŃ€Ń‹Ń‚Đ¸Đ¸ FAQ ĐľŃ‚Đ˛ĐµŃ‚Đ° */
  [data-slot="accordion-content"] {
    animation: fadeIn 0.3s ease-in-out;
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-5px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  
  /* ĐˇĐşŃ€ĐľĐ»Đ»Đ±Đ°Ń€ - ŃĐ±Ń€Đ°Đ»Đ¸ Đ˛ŃĐµ ŃŃ‚Đ¸Đ»Đ¸, ĐľŃŃ‚Đ°Đ˛Đ»ŃŹĐµĐĽ ĐżĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ */
  
  /* ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ Đ˛ŃĐµŃ… ĐżĐľĐ»ĐµĐą Đ˛Đ˛ĐľĐ´Đ° - ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝Đ°ŃŹ ŃĐżĐµŃ†Đ¸Ń„Đ¸Ń‡Đ˝ĐľŃŃ‚ŃŚ Đ¸ ĐżŃ€Đ¸ĐľŃ€Đ¸Ń‚ĐµŃ‚ */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input:not([type="radio"]):not([type="checkbox"]):not([type="submit"]):not([type="button"]) {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  input[type="text"]:-webkit-autofill,
  input[type="text"]:-webkit-autofill:hover,
  input[type="text"]:-webkit-autofill:focus,
  input[type="text"]:-webkit-autofill:active,
  input[type="email"]:-webkit-autofill,
  input[type="email"]:-webkit-autofill:hover,
  input[type="email"]:-webkit-autofill:focus,
  input[type="email"]:-webkit-autofill:active,
  input[type="tel"]:-webkit-autofill,
  input[type="tel"]:-webkit-autofill:hover,
  input[type="tel"]:-webkit-autofill:focus,
  input[type="tel"]:-webkit-autofill:active,
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  input:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #3a2e24 !important;
    color: #3a2e24 !important;
  }
  
  input[type="text"]:focus,
  input[type="text"]:active,
  input[type="text"]:hover,
  input[type="email"]:focus,
  input[type="email"]:active,
  input[type="email"]:hover,
  input[type="tel"]:focus,
  input[type="tel"]:active,
  input[type="tel"]:hover,
  input:focus,
  input:active,
  input:hover {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  #kontakt input[type="text"]:-webkit-autofill,
  #kontakt input[type="text"]:-webkit-autofill:hover,
  #kontakt input[type="text"]:-webkit-autofill:focus,
  #kontakt input[type="text"]:-webkit-autofill:active,
  #kontakt input[type="email"]:-webkit-autofill,
  #kontakt input[type="email"]:-webkit-autofill:hover,
  #kontakt input[type="email"]:-webkit-autofill:focus,
  #kontakt input[type="email"]:-webkit-autofill:active,
  #kontakt input[type="tel"]:-webkit-autofill,
  #kontakt input[type="tel"]:-webkit-autofill:hover,
  #kontakt input[type="tel"]:-webkit-autofill:focus,
  #kontakt input[type="tel"]:-webkit-autofill:active,
  #kontakt textarea:-webkit-autofill,
  #kontakt textarea:-webkit-autofill:hover,
  #kontakt textarea:-webkit-autofill:focus,
  #kontakt textarea:-webkit-autofill:active,
  section#kontakt input[type="text"]:-webkit-autofill,
  section#kontakt input[type="text"]:-webkit-autofill:hover,
  section#kontakt input[type="text"]:-webkit-autofill:focus,
  section#kontakt input[type="text"]:-webkit-autofill:active,
  section#kontakt input[type="email"]:-webkit-autofill,
  section#kontakt input[type="email"]:-webkit-autofill:hover,
  section#kontakt input[type="email"]:-webkit-autofill:focus,
  section#kontakt input[type="email"]:-webkit-autofill:active,
  section#kontakt input[type="tel"]:-webkit-autofill,
  section#kontakt input[type="tel"]:-webkit-autofill:hover,
  section#kontakt input[type="tel"]:-webkit-autofill:focus,
  section#kontakt input[type="tel"]:-webkit-autofill:active,
  section#kontakt textarea:-webkit-autofill,
  section#kontakt textarea:-webkit-autofill:hover,
  section#kontakt textarea:-webkit-autofill:focus,
  section#kontakt textarea:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #3a2e24 !important;
    color: #3a2e24 !important;
  }
  
  #kontakt input[type="text"]:focus,
  #kontakt input[type="text"]:active,
  #kontakt input[type="text"]:hover,
  #kontakt input[type="email"]:focus,
  #kontakt input[type="email"]:active,
  #kontakt input[type="email"]:hover,
  #kontakt input[type="tel"]:focus,
  #kontakt input[type="tel"]:active,
  #kontakt input[type="tel"]:hover,
  #kontakt textarea:focus,
  #kontakt textarea:active,
  #kontakt textarea:hover,
  section#kontakt input[type="text"]:focus,
  section#kontakt input[type="text"]:active,
  section#kontakt input[type="text"]:hover,
  section#kontakt input[type="email"]:focus,
  section#kontakt input[type="email"]:active,
  section#kontakt input[type="email"]:hover,
  section#kontakt input[type="tel"]:focus,
  section#kontakt input[type="tel"]:active,
  section#kontakt input[type="tel"]:hover,
  section#kontakt textarea:focus,
  section#kontakt textarea:active,
  section#kontakt textarea:hover {
    background-color: transparent !important;
    background: transparent !important;
  }
  

  /* ĐĐ´Đ°ĐżŃ‚Đ¸Đ˛Đ˝Ń‹Đµ ŃŃ‚Đ¸Đ»Đ¸ Đ´Đ»ŃŹ ĐĽĐľĐ±Đ¸Đ»ŃŚĐ˝Ń‹Ń… ŃŃŃ‚Ń€ĐľĐąŃŃ‚Đ˛ */
  @media (max-width: 768px) {
    table[data-slot="table"] {
      table-layout: fixed;
      width: 100%;
      max-width: 100%;
    }
    
    table[data-slot="table"] colgroup {
      display: none;
    }
    
    table[data-slot="table"] tbody tr td:first-child {
      max-width: none;
      width: 80%;
      padding-right: 0.5rem;
    }
    
    table[data-slot="table"] tbody tr td:nth-child(2) {
      min-width: 70px;
      width: 20% !important;
      padding-left: 0.5rem;
      padding-right: 0.5rem;
      white-space: nowrap;
      text-align: center !important;
      vertical-align: middle !important;
    }
    
    /* ĐšĐľĐ˝Ń‚ĐµĐąĐ˝ĐµŃ€ Ń‚Đ°Đ±Đ»Đ¸Ń†Ń‹ Đ˝Đ° ĐĽĐľĐ±Đ¸Đ»ŃŚĐ˝Ń‹Ń… - ŃĐ±Đ¸Ń€Đ°ĐµĐĽ ĐłĐľŃ€Đ¸Đ·ĐľĐ˝Ń‚Đ°Đ»ŃŚĐ˝ŃŃŽ ĐżŃ€ĐľĐşŃ€ŃŃ‚ĐşŃ */
    div[data-slot="table-container"] {
      overflow-x: visible !important;
      width: 100%;
    }
    
    /* ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡Đ¸Đ˛Đ°ĐµĐĽ ŃĐ¸Ń€Đ¸Đ˝Ń Ń‚Đ°Đ±Đ»Đ¸Ń†Ń‹ Đ˝Đ° ĐĽĐľĐ±Đ¸Đ»ŃŚĐ˝Ń‹Ń… */
    div[data-slot="table-container"] table {
      width: 100% !important;
      max-width: 100% !important;
    }
  }
  
  /* ĐšĐ ĐĐ˘ĐĐ§Đ•ĐˇĐšĐ Đ’ĐĐ–ĐťĐž: ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ input - Đ˛ ĐşĐľĐ˝Ń†Đµ Ń„Đ°ĐąĐ»Đ° Ń ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝Ń‹ĐĽ ĐżŃ€Đ¸ĐľŃ€Đ¸Ń‚ĐµŃ‚ĐľĐĽ */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input:not([type="radio"]):not([type="checkbox"]):not([type="submit"]):not([type="button"]):not([type="hidden"]) {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  input[type="text"]:-webkit-autofill,
  input[type="text"]:-webkit-autofill:hover,
  input[type="text"]:-webkit-autofill:focus,
  input[type="text"]:-webkit-autofill:active,
  input[type="email"]:-webkit-autofill,
  input[type="email"]:-webkit-autofill:hover,
  input[type="email"]:-webkit-autofill:focus,
  input[type="email"]:-webkit-autofill:active,
  input[type="tel"]:-webkit-autofill,
  input[type="tel"]:-webkit-autofill:hover,
  input[type="tel"]:-webkit-autofill:focus,
  input[type="tel"]:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #3a2e24 !important;
    color: #3a2e24 !important;
  }
  
  input[type="text"]:focus,
  input[type="text"]:active,
  input[type="text"]:hover,
  input[type="email"]:focus,
  input[type="email"]:active,
  input[type="email"]:hover,
  input[type="tel"]:focus,
  input[type="tel"]:active,
  input[type="tel"]:hover {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  /* ĐˇĐżĐµŃ†Đ¸Đ°Đ»ŃŚĐ˝Ń‹Đµ ĐżŃ€Đ°Đ˛Đ¸Đ»Đ° Đ´Đ»ŃŹ Ń‚ĐµŃŃ‚ĐľĐ˛ĐľĐą ŃŃ‚Ń€Đ°Đ˝Đ¸Ń†Ń‹ kontakt-test */
  #kontakt-test input[type="text"],
  #kontakt-test input[type="email"],
  #kontakt-test input[type="tel"] {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  #kontakt-test input[type="text"]:-webkit-autofill,
  #kontakt-test input[type="text"]:-webkit-autofill:hover,
  #kontakt-test input[type="text"]:-webkit-autofill:focus,
  #kontakt-test input[type="text"]:-webkit-autofill:active,
  #kontakt-test input[type="email"]:-webkit-autofill,
  #kontakt-test input[type="email"]:-webkit-autofill:hover,
  #kontakt-test input[type="email"]:-webkit-autofill:focus,
  #kontakt-test input[type="email"]:-webkit-autofill:active,
  #kontakt-test input[type="tel"]:-webkit-autofill,
  #kontakt-test input[type="tel"]:-webkit-autofill:hover,
  #kontakt-test input[type="tel"]:-webkit-autofill:focus,
  #kontakt-test input[type="tel"]:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #000000 !important;
    color: #000000 !important;
    transition: background-color 5000s ease-in-out 0s !important;
  }
  
  #kontakt-test input[type="text"]:focus,
  #kontakt-test input[type="text"]:active,
  #kontakt-test input[type="text"]:hover,
  #kontakt-test input[type="email"]:focus,
  #kontakt-test input[type="email"]:active,
  #kontakt-test input[type="email"]:hover,
  #kontakt-test input[type="tel"]:focus,
  #kontakt-test input[type="tel"]:active,
  #kontakt-test input[type="tel"]:hover {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  
  /* ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ radio Đ¸ checkbox Đ˝Đ° Ń‚ĐµŃŃ‚ĐľĐ˛ĐľĐą ŃŃ‚Ń€Đ°Đ˝Đ¸Ń†Đµ */
  #kontakt-test input[type="radio"],
  #kontakt-test input[type="checkbox"] {
    background-color: transparent !important;
    background: transparent !important;
  }
  
  #kontakt-test input[type="radio"]:checked,
  #kontakt-test input[type="checkbox"]:checked {
    background-color: transparent !important;
    background: transparent !important;
  }
  
  /* ĐšĐľĐ˝Ń‚ĐµĐąĐ˝ĐµŃ€Ń‹ Đ´Đ»ŃŹ radio Đ¸ checkbox */
  #kontakt-test label:has(input[type="radio"]),
  #kontakt-test label:has(input[type="checkbox"]) {
    background-color: transparent !important;
    background: transparent !important;
  }
  
  /* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş ŃŃ‚Ń€Đ°Đ˝ - ĐżĐľĐ´Đ»ĐľĐ¶ĐşĐ° Đ¸Đ· ŃĐĽŃŹŃ‚ĐľĐłĐľ Đ»Đ¸ŃŃ‚Đ° */
  .custom-dropdown {
    background-image: 
      linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)),
      url('/images/zmiety arkusz papieru 2.png') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
  }
  
  
  /* ĐˇĐşŃ€ĐľĐ»Đ»Đ±Đ°Ń€ Đ´Đ»ŃŹ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° ŃŃ‚Ń€Đ°Đ˝ */
  .custom-dropdown::-webkit-scrollbar {
    width: 8px;
  }
  
  .custom-dropdown::-webkit-scrollbar-track {
    background-image: 
      linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)),
      url('/images/zmiety arkusz papieru 2.png') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    border-radius: 4px;
  }
  
  .custom-dropdown::-webkit-scrollbar-thumb {
    background: rgba(58, 46, 36, 0.3) !important;
    border-radius: 4px;
  }
  
  .custom-dropdown::-webkit-scrollbar-thumb:hover {
    background: rgba(58, 46, 36, 0.5) !important;
  }
  
  /* Đ”Đ»ŃŹ Firefox */
  .custom-dropdown {
    scrollbar-width: thin;
    scrollbar-color: rgba(58, 46, 36, 0.3) transparent;
  }
  
  /* ĐĐ˝Đ¸ĐĽĐ°Ń†Đ¸ŃŹ ĐżĐľŃŹĐ˛Đ»ĐµĐ˝Đ¸ŃŹ ĐĽĐľĐ´Đ°Đ»ŃŚĐ˝ĐľĐłĐľ ĐľĐşĐ˝Đ° */
  @keyframes modalAppear {
    from {
      opacity: 0;
      transform: scale(0.9) translateY(-10px);
    }
    to {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }
}


--- DIFFS ---


💡 DIFF: 7a922475-3aa3-4602-9f07-c2f6ee82b2fe
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"7a922475-3aa3-4602-9f07-c2f6ee82b2fe","fileSizeBytes":14052,"numLines":418,"diffChanges":[{"originalStartLineNumberOneIndexed":8,"originalEndLineNumberExclusiveOneIndexed":9,"modifiedStartLineNumberOneIndexed":8,"modifiedEndLineNumberExclusiveOneIndexed":9,"addedLines":["    scroll-padding-top: 65px; /* wysokoĹ›Ä‡ headera */"],"tokenizedAddedLines":[1000243]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 6f4bac8f-f3d3-490d-8cc4-7cde5413afe9 | Время: 11/25/2025 10:55:34 =====


--- METADATA ---

{"agentRequestId":"6f4bac8f-f3d3-490d-8cc4-7cde5413afe9","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\success-modal.tsx","fileUuid":"237f4ff2-2246-4af7-ab3f-5657060132ee","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}],"startTrackingDateUnixMilliseconds":1764064533964,"fileSizeBytes":4099,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 237f4ff2-2246-4af7-ab3f-5657060132ee
----------------------------------------

'use client'

import { useEffect } from 'react'
import manifest from '@/config/KANONICZNY_MANIFEST.json'

interface SuccessModalProps {
  isOpen: boolean
  onClose: () => void
}

export function SuccessModal({ isOpen, onClose }: SuccessModalProps) {
  // ĐĐ˛Ń‚ĐľĐ·Đ°ĐşŃ€Ń‹Ń‚Đ¸Đµ Ń‡ĐµŃ€ĐµĐ· 5 ŃĐµĐşŃĐ˝Đ´
  useEffect(() => {
    if (isOpen) {
      const timer = setTimeout(() => {
        onClose()
      }, 5000)
      return () => clearTimeout(timer)
    }
  }, [isOpen, onClose])

  if (!isOpen) return null

  return (
    <div
      className="fixed inset-0 z-50 flex items-center justify-center p-4"
      onClick={onClose}
    >
      {/* Đ—Đ°Ń‚ĐµĐĽĐ˝ĐµĐ˝Đ¸Đµ Ń„ĐľĐ˝Đ° */}
      <div className="absolute inset-0 bg-black/50 transition-opacity duration-300" />

      {/* ĐśĐľĐ´Đ°Đ»ŃŚĐ˝ĐľĐµ ĐľĐşĐ˝Đľ */}
      <div
        className="relative z-10 w-full max-w-md rounded-lg shadow-2xl transform transition-all duration-300"
        style={{
          backgroundImage: `url('${manifest.Background_1}')`,
          backgroundSize: 'cover',
          backgroundPosition: 'center',
          backgroundRepeat: 'no-repeat',
          animation: 'modalAppear 0.3s ease-out',
        }}
        onClick={(e) => e.stopPropagation()}
      >
        {/* Đ’Đ˝ŃŃ‚Ń€ĐµĐ˝Đ˝Đ¸Đą ĐşĐľĐ˝Ń‚ĐµĐ˝Ń‚ */}
        <div className="p-8 md:p-12 text-center">
          {/* Đ—Đ°ĐłĐľĐ»ĐľĐ˛ĐľĐş */}
          <h2 className="text-white font-cormorant text-4xl md:text-5xl font-bold mb-6 drop-shadow-lg">
            ZgĹ‚oszenie wysĹ‚ane!
          </h2>

          {/* ĐšĐ˝ĐľĐżĐşĐ° OK */}
          <button
            onClick={onClose}
            className="mt-6 px-8 py-3 bg-white/10 border border-white/30 text-white font-cormorant text-lg font-semibold rounded-full hover:bg-white/20 hover:border-white/50 transition-all duration-300 hover:shadow-lg hover:-translate-y-1"
          >
            OK
          </button>
        </div>
      </div>
    </div>
  )
}



--- DIFFS ---


💡 DIFF: 237f4ff2-2246-4af7-ab3f-5657060132ee
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\success-modal.tsx","fileUuid":"237f4ff2-2246-4af7-ab3f-5657060132ee","fileSizeBytes":2660,"numLines":77,"diffChanges":[{"originalStartLineNumberOneIndexed":47,"originalEndLineNumberExclusiveOneIndexed":49,"modifiedStartLineNumberOneIndexed":47,"modifiedEndLineNumberExclusiveOneIndexed":49,"addedLines":["          <h2 className=\"text-white font-cormorant text-5xl md:text-6xl font-bold mb-8 drop-shadow-lg leading-tight\">","            DziÄ™kujemy za zgĹ‚oszenie!"],"tokenizedAddedLines":[1000055,1000056]},{"originalStartLineNumberOneIndexed":50,"originalEndLineNumberExclusiveOneIndexed":50,"modifiedStartLineNumberOneIndexed":50,"modifiedEndLineNumberExclusiveOneIndexed":63,"addedLines":["","          {/* Đ˘ĐµĐşŃŃ‚ ŃĐľĐľĐ±Ń‰ĐµĐ˝Đ¸ŃŹ */}","          <div className=\"space-y-4 mb-8\">","            <p className=\"text-white font-cormorant text-lg md:text-xl leading-relaxed drop-shadow-md\">","              Twoja wiadomoĹ›Ä‡ zostaĹ‚a pomyĹ›lnie wysĹ‚ana.","            </p>","            <p className=\"text-white font-cormorant text-base md:text-lg leading-relaxed drop-shadow-md\">","              Skontaktujemy siÄ™ z TobÄ… w najbliĹĽszym czasie, aby potwierdziÄ‡ szczegĂłĹ‚y.","            </p>","            <p className=\"text-white font-cormorant text-base md:text-lg leading-relaxed drop-shadow-md italic\">","              Prosimy o cierpliwoĹ›Ä‡ â€” Twoje zgĹ‚oszenie jest juĹĽ w dobrych rÄ™kach.","            </p>","          </div>"],"tokenizedAddedLines":[2,1000057,1000058,1000059,1000060,1000061,1000062,1000063,1000061,1000064,1000065,1000061,1000066]},{"originalStartLineNumberOneIndexed":54,"originalEndLineNumberExclusiveOneIndexed":55,"modifiedStartLineNumberOneIndexed":67,"modifiedEndLineNumberExclusiveOneIndexed":68,"addedLines":["            className=\"mt-4 px-10 py-3 bg-white/10 border border-white/30 text-white font-cormorant text-lg font-semibold rounded-full hover:bg-white/20 hover:border-white/50 transition-all duration-300 hover:shadow-lg hover:-translate-y-1\""],"tokenizedAddedLines":[1000067]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 718282dc-37b4-4ba7-8e89-9749701b1cae | Время: 11/25/2025 08:35:51 =====


--- METADATA ---

{"agentRequestId":"718282dc-37b4-4ba7-8e89-9749701b1cae","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"7c643730-b5d8-4275-868a-de74b1a5e3c9","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}],"startTrackingDateUnixMilliseconds":1764056151830,"fileSizeBytes":10932,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 7c643730-b5d8-4275-868a-de74b1a5e3c9
----------------------------------------

'use client'

import { useState, useRef, useEffect } from 'react'
import Image from 'next/image'
import { countries, Country, formatPhoneNumber } from '@/lib/countries'

interface CustomPhoneInputProps {
  value: string
  onChange: (phone: string) => void
  defaultCountry?: string
  className?: string
}

export function CustomPhoneInput({
  value,
  onChange,
  defaultCountry = 'pl',
  className = '',
}: CustomPhoneInputProps) {
  const [selectedCountry, setSelectedCountry] = useState<Country>(
    countries.find(c => c.code === defaultCountry) || countries[1] // ĐżĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ ĐźĐľĐ»ŃŚŃĐ°
  )
  const [isDropdownOpen, setIsDropdownOpen] = useState(false)
  const [phoneNumber, setPhoneNumber] = useState('')
  const dropdownRef = useRef<HTMLDivElement>(null)
  const containerRef = useRef<HTMLDivElement>(null)
  const selectorRowRef = useRef<HTMLDivElement>(null)

  // ĐĐ˝Đ¸Ń†Đ¸Đ°Đ»Đ¸Đ·Đ°Ń†Đ¸ŃŹ Đ¸Đ· value
  useEffect(() => {
    if (value) {
      // ĐźŃ‹Ń‚Đ°ĐµĐĽŃŃŹ ĐľĐżŃ€ĐµĐ´ĐµĐ»Đ¸Ń‚ŃŚ ŃŃ‚Ń€Đ°Đ˝Ń ĐżĐľ ĐşĐľĐ´Ń
      const dialCode = value.match(/^\+\d+/)?.[0]
      if (dialCode) {
        const country = countries.find(c => c.dialCode === dialCode)
        if (country) {
          setSelectedCountry(country)
          const number = value.replace(dialCode, '').trim().replace(/\s/g, '')
          setPhoneNumber(number)
        } else {
          // Đ•ŃĐ»Đ¸ ĐşĐľĐ´ Đ˝Đµ Đ˝Đ°ĐąĐ´ĐµĐ˝, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
          setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
          setPhoneNumber(value.replace(/^\+\d+\s*/, '').trim().replace(/\D/g, ''))
        }
      } else {
        // Đ•ŃĐ»Đ¸ Đ˝ĐµŃ‚ ĐşĐľĐ´Đ°, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
        setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
        setPhoneNumber(value.replace(/\D/g, ''))
      }
    }
  }, [value])

  // Đ—Đ°ĐşŃ€Ń‹Ń‚Đ¸Đµ dropdown ĐżŃ€Đ¸ ĐşĐ»Đ¸ĐşĐµ Đ˛Đ˝Đµ
  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (
        containerRef.current &&
        !containerRef.current.contains(event.target as Node)
      ) {
        setIsDropdownOpen(false)
      }
    }

    if (isDropdownOpen) {
      document.addEventListener('mousedown', handleClickOutside)
    }

    return () => {
      document.removeEventListener('mousedown', handleClickOutside)
    }
  }, [isDropdownOpen])

  // ĐˇĐ¸Đ˝Ń…Ń€ĐľĐ˝Đ¸Đ·Đ°Ń†Đ¸ŃŹ ŃĐ¸Ń€Đ¸Đ˝Ń‹ ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐ¸ Ń Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸ĐĽ ŃĐżĐ¸ŃĐşĐľĐĽ
  useEffect(() => {
    if (isDropdownOpen && dropdownRef.current && selectorRowRef.current) {
      // Đ”Đ°ĐµĐĽ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐĽŃ ŃĐżĐ¸ŃĐşŃ Đ˛Ń€ĐµĐĽŃŹ ĐľŃ‚Ń€ĐµĐ˝Đ´ĐµŃ€Đ¸Ń‚ŃŚŃŃŹ
      setTimeout(() => {
        if (dropdownRef.current && selectorRowRef.current) {
          // Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş ĐľĐżŃ€ĐµĐ´ĐµĐ»ŃŹĐµŃ‚ ŃĐ¸Ń€Đ¸Đ˝Ń ĐżĐľ ŃĐľĐ´ĐµŃ€Đ¶Đ¸ĐĽĐľĐĽŃ
          // ĐŁŃŃ‚Đ°Đ˝Đ°Đ˛Đ»Đ¸Đ˛Đ°ĐµĐĽ ŃĐ¸Ń€Đ¸Đ˝Ń ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐ¸ Ń€Đ°Đ˛Đ˝ĐľĐą ŃĐ¸Ń€Đ¸Đ˝Đµ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ°
          const dropdownWidth = dropdownRef.current.offsetWidth
          selectorRowRef.current.style.width = `${dropdownWidth}px`
          selectorRowRef.current.style.minWidth = `${dropdownWidth}px`
        }
      }, 0)
    } else if (selectorRowRef.current && !isDropdownOpen) {
      // ĐšĐľĐłĐ´Đ° ŃĐżĐ¸ŃĐľĐş Đ·Đ°ĐşŃ€Ń‹Ń‚, Đ¸ŃĐżĐľĐ»ŃŚĐ·ŃĐµĐĽ ŃĐ¸Ń€Đ¸Đ˝Ń ĐżĐľ ŃĐľĐ´ĐµŃ€Đ¶Đ¸ĐĽĐľĐĽŃ
      selectorRowRef.current.style.width = 'fit-content'
      selectorRowRef.current.style.minWidth = 'fit-content'
    }
  }, [isDropdownOpen, selectedCountry])

  const handleCountrySelect = (country: Country) => {
    setSelectedCountry(country)
    setIsDropdownOpen(false)
    // ĐžĐ±Đ˝ĐľĐ˛Đ»ŃŹĐµĐĽ Đ·Đ˝Đ°Ń‡ĐµĐ˝Đ¸Đµ Ń Đ˝ĐľĐ˛Ń‹ĐĽ ĐşĐľĐ´ĐľĐĽ ŃŃ‚Ń€Đ°Đ˝Ń‹
    const newValue = country.dialCode 
      ? `${country.dialCode} ${phoneNumber}`.trim()
      : phoneNumber
    onChange(newValue)
  }

  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    let input = e.target.value.replace(/\D/g, '') // Ń‚ĐľĐ»ŃŚĐşĐľ Ń†Đ¸Ń„Ń€Ń‹
    
    // ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡Đ¸Đ˛Đ°ĐµĐĽ Đ´Đ»Đ¸Đ˝Ń Đ´Đ»ŃŹ Đ¸Đ·Đ˛ĐµŃŃ‚Đ˝Ń‹Ń… ŃŃ‚Ń€Đ°Đ˝
    if (selectedCountry.phoneLength && selectedCountry.code !== 'other') {
      input = input.slice(0, selectedCountry.phoneLength)
    }
    
    setPhoneNumber(input)
    
    // Đ¤ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ŃĐµĐĽ Đ˝ĐľĐĽĐµŃ€
    let formatted = input
    if (selectedCountry.phoneFormat && selectedCountry.code !== 'other') {
      formatted = formatPhoneNumber(input, selectedCountry.phoneFormat)
    }
    
    // ĐžĐ±Đ˝ĐľĐ˛Đ»ŃŹĐµĐĽ Đ·Đ˝Đ°Ń‡ĐµĐ˝Đ¸Đµ
    const newValue = selectedCountry.dialCode
      ? `${selectedCountry.dialCode} ${formatted}`.trim()
      : formatted
    onChange(newValue)
  }

  // ĐžĐżŃ€ĐµĐ´ĐµĐ»ŃŹĐµĐĽ, ĐşĐ°ĐşĐľĐµ Đ˝Đ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ĐżĐľĐşĐ°Đ·Ń‹Đ˛Đ°Ń‚ŃŚ (ĐżĐľĐ»Đ˝ĐľĐµ Đ¸Đ»Đ¸ ŃĐľĐşŃ€Đ°Ń‰ĐµĐ˝Đ˝ĐľĐµ)
  const displayName = selectedCountry.name.length > 12 
    ? selectedCountry.shortName 
    : selectedCountry.name

  return (
    <div ref={containerRef} className={`relative w-full flex items-start gap-0 ${className}`}>
      {/* ĐźĐµŃ€Đ˛Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: Đ¤Đ»Đ°Đł + ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ + ĐšĐľĐ´ (ŃĐżŃ€Đ°Đ˛Đ°) + ĐšĐ˝ĐľĐżĐşĐ° Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° */}
      <div 
        ref={selectorRowRef}
        className="flex items-center gap-2 border border-black/60 rounded-sm px-4 py-2 country-selector-row"
        style={{ height: '42px', width: 'fit-content' }}
      >
        <Image
          src={selectedCountry.flagImage}
          alt={selectedCountry.name}
          width={20}
          height={15}
          className="object-contain flex-shrink-0"
          style={{ width: '20px', height: '15px' }}
        />
        <span className="text-black font-sans font-medium text-base leading-tight whitespace-nowrap flex-1">
          {displayName || selectedCountry.name}
        </span>
        {selectedCountry.dialCode ? (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap flex-shrink-0">
            {selectedCountry.dialCode}
          </span>
        ) : (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap opacity-50 flex-shrink-0">
            +
          </span>
        )}
        <button
          type="button"
          onClick={() => setIsDropdownOpen(!isDropdownOpen)}
          className="hover:opacity-80 transition-opacity flex-shrink-0"
        >
          <span className="text-black text-lg">â–Ľ</span>
        </button>
      </div>

      {/* Đ’Ń‚ĐľŃ€Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: ĐźĐľĐ»Đµ Đ˛Đ˛ĐľĐ´Đ° (ĐłĐľŃ€Đ¸Đ·ĐľĐ˝Ń‚Đ°Đ»ŃŚĐ˝Đľ Đ·Đ° ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐľĐą) */}
      <div className="flex-1">
        <input
          type="tel"
          value={selectedCountry.phoneFormat && selectedCountry.code !== 'other' && phoneNumber
            ? formatPhoneNumber(phoneNumber, selectedCountry.phoneFormat)
            : phoneNumber}
          onChange={handlePhoneChange}
          placeholder={selectedCountry.code === 'other' ? 'WprowadĹş numer' : 'xxx xxx xxx'}
          className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/50 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
          style={{ backgroundColor: 'transparent', height: '42px' }}
        />
      </div>

      {/* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş */}
      {isDropdownOpen && (
        <div
          ref={dropdownRef}
          className="absolute top-full left-0 mt-1 z-50 border border-black/20 rounded-lg shadow-lg max-h-64 overflow-y-auto custom-dropdown country-dropdown"
          style={{
            backgroundImage: 'linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)), url(/images/zmiety arkusz papieru 2.png)',
            backgroundSize: 'cover',
            backgroundPosition: 'center',
            backgroundRepeat: 'no-repeat',
            width: 'fit-content',
            minWidth: 'fit-content',
          }}
        >
          {countries.map((country) => (
            <button
              key={country.code}
              type="button"
              onClick={() => handleCountrySelect(country)}
              className="flex items-center gap-3 px-4 py-3 hover:bg-black/5 transition-colors text-left whitespace-nowrap w-full"
            >
              <Image
                src={country.flagImage}
                alt={country.name}
                width={24}
                height={18}
                className="object-contain flex-shrink-0"
              />
              <span className="text-black font-sans font-medium text-base">
                {country.name}
              </span>
              {country.dialCode && (
                <span className="text-black font-sans text-sm opacity-70 whitespace-nowrap">
                  {country.dialCode}
                </span>
              )}
            </button>
          ))}
        </div>
      )}
    </div>
  )
}



--- DIFFS ---


💡 DIFF: 7c643730-b5d8-4275-868a-de74b1a5e3c9
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"7c643730-b5d8-4275-868a-de74b1a5e3c9","fileSizeBytes":8466,"numLines":229,"diffChanges":[{"originalStartLineNumberOneIndexed":29,"originalEndLineNumberExclusiveOneIndexed":29,"modifiedStartLineNumberOneIndexed":29,"modifiedEndLineNumberExclusiveOneIndexed":44,"addedLines":["  // Đ’Ń‹Ń‡Đ¸ŃĐ»ŃŹĐµĐĽ ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝ŃŃŽ ŃĐ¸Ń€Đ¸Đ˝Ń Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° (Ń„Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝Đ°ŃŹ)","  const calculateMaxDropdownWidth = () => {","    // Đ¤Đ»Đ°Đł: 24px","    // Gap: 12px (gap-3)","    // ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ŃŃ‚Ń€Đ°Đ˝Ń‹ (ŃĐ°ĐĽĐľĐµ Đ´Đ»Đ¸Đ˝Đ˝ĐľĐµ \"Wielka Brytania\"): ~150px ĐżŃ€Đ¸ text-base","    // Gap: 12px","    // ĐšĐľĐ´ (ŃĐ°ĐĽŃ‹Đą Đ´Đ»Đ¸Đ˝Đ˝Ń‹Đą \"+380\"): ~40px","    // Padding: 32px (16px Ă— 2)","    // ĐŃ‚ĐľĐłĐľ: 24 + 12 + 150 + 12 + 40 + 32 = ~270px","    // Đ”ĐľĐ±Đ°Đ˛Đ»ŃŹĐµĐĽ Đ·Đ°ĐżĐ°Ń Đ´Đ»ŃŹ Đ±ĐµĐ·ĐľĐżĐ°ŃĐ˝ĐľŃŃ‚Đ¸","    return 280","  }","  ","  const fixedDropdownWidth = calculateMaxDropdownWidth()",""],"tokenizedAddedLines":[1000190,1000191,1000192,1000193,1000194,1000195,1000196,1000197,1000198,1000199,1000200,85,1000201,1000202,2]},{"originalStartLineNumberOneIndexed":73,"originalEndLineNumberExclusiveOneIndexed":74,"modifiedStartLineNumberOneIndexed":88,"modifiedEndLineNumberExclusiveOneIndexed":89,"addedLines":["  // ĐŁŃŃ‚Đ°Đ˝Đ°Đ˛Đ»Đ¸Đ˛Đ°ĐµĐĽ Ń„Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝ŃŃŽ ŃĐ¸Ń€Đ¸Đ˝Ń Đ´Đ»ŃŹ ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐ¸ Đ¸ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ°"],"tokenizedAddedLines":[1000203]},{"originalStartLineNumberOneIndexed":75,"originalEndLineNumberExclusiveOneIndexed":92,"modifiedStartLineNumberOneIndexed":90,"modifiedEndLineNumberExclusiveOneIndexed":95,"addedLines":["    if (selectorRowRef.current) {","      selectorRowRef.current.style.width = `${fixedDropdownWidth}px`","      selectorRowRef.current.style.minWidth = `${fixedDropdownWidth}px`","    }","  }, [fixedDropdownWidth])"],"tokenizedAddedLines":[1000204,1000205,1000206,47,1000207]},{"originalStartLineNumberOneIndexed":137,"originalEndLineNumberExclusiveOneIndexed":138,"modifiedStartLineNumberOneIndexed":140,"modifiedEndLineNumberExclusiveOneIndexed":141,"addedLines":["        style={{ height: '42px', width: `${fixedDropdownWidth}px`, minWidth: `${fixedDropdownWidth}px` }}"],"tokenizedAddedLines":[1000208]},{"originalStartLineNumberOneIndexed":192,"originalEndLineNumberExclusiveOneIndexed":194,"modifiedStartLineNumberOneIndexed":195,"modifiedEndLineNumberExclusiveOneIndexed":197,"addedLines":["            width: `${fixedDropdownWidth}px`,","            minWidth: `${fixedDropdownWidth}px`,"],"tokenizedAddedLines":[1000209,1000210]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 744572aa-70c7-4d88-9497-bccac5c465cf | Время: 11/25/2025 08:50:32 =====


--- METADATA ---

{"agentRequestId":"744572aa-70c7-4d88-9497-bccac5c465cf","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"cc05dfbd-c199-4149-a864-d373a8a153c4","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}],"startTrackingDateUnixMilliseconds":1764057032635,"fileSizeBytes":9486,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: cc05dfbd-c199-4149-a864-d373a8a153c4
----------------------------------------

'use client'

import { useState, useRef, useEffect } from 'react'
import Image from 'next/image'
import { countries, Country, formatPhoneNumber } from '@/lib/countries'

interface CustomPhoneInputProps {
  value: string
  onChange: (phone: string) => void
  defaultCountry?: string
  className?: string
}

export function CustomPhoneInput({
  value,
  onChange,
  defaultCountry = 'pl',
  className = '',
}: CustomPhoneInputProps) {
  const [selectedCountry, setSelectedCountry] = useState<Country>(
    countries.find(c => c.code === defaultCountry) || countries[1] // ĐżĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ ĐźĐľĐ»ŃŚŃĐ°
  )
  const [isDropdownOpen, setIsDropdownOpen] = useState(false)
  const [phoneNumber, setPhoneNumber] = useState('')
  const dropdownRef = useRef<HTMLDivElement>(null)
  const containerRef = useRef<HTMLDivElement>(null)
  const selectorRowRef = useRef<HTMLDivElement>(null)
  
  // Đ’Ń‹Ń‡Đ¸ŃĐ»ŃŹĐµĐĽ ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝ŃŃŽ ŃĐ¸Ń€Đ¸Đ˝Ń Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° (Ń„Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝Đ°ŃŹ)
  const calculateMaxDropdownWidth = () => {
    // Đ¤Đ»Đ°Đł: 24px
    // Gap: 12px (gap-3)
    // ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ŃŃ‚Ń€Đ°Đ˝Ń‹ (ŃĐ°ĐĽĐľĐµ Đ´Đ»Đ¸Đ˝Đ˝ĐľĐµ "Wielka Brytania"): ~150px ĐżŃ€Đ¸ text-base
    // Gap: 12px
    // ĐšĐľĐ´ (ŃĐ°ĐĽŃ‹Đą Đ´Đ»Đ¸Đ˝Đ˝Ń‹Đą "+380"): ~40px
    // Padding: 32px (16px Ă— 2)
    // ĐŃ‚ĐľĐłĐľ: 24 + 12 + 150 + 12 + 40 + 32 = ~270px
    // Đ”ĐľĐ±Đ°Đ˛Đ»ŃŹĐµĐĽ Đ·Đ°ĐżĐ°Ń Đ´Đ»ŃŹ Đ±ĐµĐ·ĐľĐżĐ°ŃĐ˝ĐľŃŃ‚Đ¸
    return 280
  }
  
  const fixedDropdownWidth = calculateMaxDropdownWidth()

  // ĐĐ˝Đ¸Ń†Đ¸Đ°Đ»Đ¸Đ·Đ°Ń†Đ¸ŃŹ Đ¸Đ· value
  useEffect(() => {
    if (value) {
      // ĐźŃ‹Ń‚Đ°ĐµĐĽŃŃŹ ĐľĐżŃ€ĐµĐ´ĐµĐ»Đ¸Ń‚ŃŚ ŃŃ‚Ń€Đ°Đ˝Ń ĐżĐľ ĐşĐľĐ´Ń
      const dialCode = value.match(/^\+\d+/)?.[0]
      if (dialCode) {
        const country = countries.find(c => c.dialCode === dialCode)
        if (country) {
          setSelectedCountry(country)
          const number = value.replace(dialCode, '').trim().replace(/\s/g, '')
          setPhoneNumber(number)
        } else {
          // Đ•ŃĐ»Đ¸ ĐşĐľĐ´ Đ˝Đµ Đ˝Đ°ĐąĐ´ĐµĐ˝, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
          setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
          setPhoneNumber(value.replace(/^\+\d+\s*/, '').trim().replace(/\D/g, ''))
        }
      } else {
        // Đ•ŃĐ»Đ¸ Đ˝ĐµŃ‚ ĐşĐľĐ´Đ°, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
        setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
        setPhoneNumber(value.replace(/\D/g, ''))
      }
    }
  }, [value])

  // Đ—Đ°ĐşŃ€Ń‹Ń‚Đ¸Đµ dropdown ĐżŃ€Đ¸ ĐşĐ»Đ¸ĐşĐµ Đ˛Đ˝Đµ
  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (
        containerRef.current &&
        !containerRef.current.contains(event.target as Node)
      ) {
        setIsDropdownOpen(false)
      }
    }

    if (isDropdownOpen) {
      document.addEventListener('mousedown', handleClickOutside)
    }

    return () => {
      document.removeEventListener('mousedown', handleClickOutside)
    }
  }, [isDropdownOpen])

  // ĐŁŃŃ‚Đ°Đ˝Đ°Đ˛Đ»Đ¸Đ˛Đ°ĐµĐĽ Ń„Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝ŃŃŽ ŃĐ¸Ń€Đ¸Đ˝Ń Đ´Đ»ŃŹ ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐ¸ Đ¸ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ°
  useEffect(() => {
    if (selectorRowRef.current) {
      selectorRowRef.current.style.width = `${fixedDropdownWidth}px`
      selectorRowRef.current.style.minWidth = `${fixedDropdownWidth}px`
    }
  }, [fixedDropdownWidth])

  const handleCountrySelect = (country: Country) => {
    // ĐźŃ€Đ¸ ŃĐĽĐµĐ˝Đµ ŃŃ‚Ń€Đ°Đ˝Ń‹ ĐľŃ‡Đ¸Ń‰Đ°ĐµĐĽ Đ˛Đ˛ĐµĐ´ĐµĐ˝Đ˝Ń‹Đą Đ˝ĐľĐĽĐµŃ€
    setPhoneNumber('')
    setSelectedCountry(country)
    setIsDropdownOpen(false)
    
    // ĐŁŃŃ‚Đ°Đ˝Đ°Đ˛Đ»Đ¸Đ˛Đ°ĐµĐĽ Ń‚ĐľĐ»ŃŚĐşĐľ ĐşĐľĐ´ Đ˝ĐľĐ˛ĐľĐą ŃŃ‚Ń€Đ°Đ˝Ń‹ (Đ±ĐµĐ· Đ˝ĐľĐĽĐµŃ€Đ°)
    const newValue = country.dialCode ? country.dialCode : ''
    onChange(newValue)
  }

  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    let input = e.target.value.replace(/\D/g, '') // Ń‚ĐľĐ»ŃŚĐşĐľ Ń†Đ¸Ń„Ń€Ń‹
    
    // ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡Đ¸Đ˛Đ°ĐµĐĽ Đ´Đ»Đ¸Đ˝Ń Đ´Đ»ŃŹ Đ¸Đ·Đ˛ĐµŃŃ‚Đ˝Ń‹Ń… ŃŃ‚Ń€Đ°Đ˝
    if (selectedCountry.phoneLength && selectedCountry.code !== 'other') {
      input = input.slice(0, selectedCountry.phoneLength)
    }
    
    setPhoneNumber(input)
    
    // Đ¤ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ŃĐµĐĽ Đ˝ĐľĐĽĐµŃ€
    let formatted = input
    if (selectedCountry.phoneFormat && selectedCountry.code !== 'other') {
      formatted = formatPhoneNumber(input, selectedCountry.phoneFormat)
    }
    
    // ĐžĐ±Đ˝ĐľĐ˛Đ»ŃŹĐµĐĽ Đ·Đ˝Đ°Ń‡ĐµĐ˝Đ¸Đµ
    const newValue = selectedCountry.dialCode
      ? `${selectedCountry.dialCode} ${formatted}`.trim()
      : formatted
    onChange(newValue)
  }

  // ĐžĐżŃ€ĐµĐ´ĐµĐ»ŃŹĐµĐĽ, ĐşĐ°ĐşĐľĐµ Đ˝Đ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ĐżĐľĐşĐ°Đ·Ń‹Đ˛Đ°Ń‚ŃŚ (ĐżĐľĐ»Đ˝ĐľĐµ Đ¸Đ»Đ¸ ŃĐľĐşŃ€Đ°Ń‰ĐµĐ˝Đ˝ĐľĐµ)
  const displayName = selectedCountry.name.length > 12 
    ? selectedCountry.shortName 
    : selectedCountry.name

  return (
    <div ref={containerRef} className={`relative w-full flex items-start gap-0 ${className}`}>
      {/* ĐźĐµŃ€Đ˛Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: Đ¤Đ»Đ°Đł + ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ + ĐšĐľĐ´ (ŃĐżŃ€Đ°Đ˛Đ°) + ĐšĐ˝ĐľĐżĐşĐ° Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° */}
      <div 
        ref={selectorRowRef}
        className="flex items-center gap-2 border border-black/60 rounded-sm px-4 py-2 country-selector-row"
        style={{ height: '42px', width: `${fixedDropdownWidth}px`, minWidth: `${fixedDropdownWidth}px` }}
      >
        <Image
          src={selectedCountry.flagImage}
          alt={selectedCountry.name}
          width={20}
          height={15}
          className="object-contain flex-shrink-0"
          style={{ width: '20px', height: '15px' }}
        />
        <span className="text-black font-sans font-medium text-base leading-tight whitespace-nowrap flex-1">
          {displayName || selectedCountry.name}
        </span>
        {selectedCountry.dialCode ? (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap flex-shrink-0">
            {selectedCountry.dialCode}
          </span>
        ) : (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap opacity-50 flex-shrink-0">
            +
          </span>
        )}
        <button
          type="button"
          onClick={() => setIsDropdownOpen(!isDropdownOpen)}
          className="hover:opacity-80 transition-opacity flex-shrink-0"
        >
          <span className="text-black text-lg">â–Ľ</span>
        </button>
      </div>

      {/* Đ’Ń‚ĐľŃ€Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: ĐźĐľĐ»Đµ Đ˛Đ˛ĐľĐ´Đ° (ĐłĐľŃ€Đ¸Đ·ĐľĐ˝Ń‚Đ°Đ»ŃŚĐ˝Đľ Đ·Đ° ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐľĐą) */}
      <div className="flex-1">
        <input
          type="tel"
          value={selectedCountry.phoneFormat && selectedCountry.code !== 'other' && phoneNumber
            ? formatPhoneNumber(phoneNumber, selectedCountry.phoneFormat)
            : phoneNumber}
          onChange={handlePhoneChange}
          placeholder={selectedCountry.code === 'other' ? 'WprowadĹş numer' : 'xxx xxx xxx'}
          className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/50 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
          style={{ backgroundColor: 'transparent', height: '42px' }}
        />
      </div>

      {/* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş */}
      {isDropdownOpen && (
        <div
          ref={dropdownRef}
          className="absolute top-full left-0 mt-1 z-50 border border-black/20 rounded-lg shadow-lg max-h-64 overflow-y-auto custom-dropdown country-dropdown"
          style={{
            backgroundImage: 'linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)), url(/images/zmiety arkusz papieru 2.png)',
            backgroundSize: 'cover',
            backgroundPosition: 'center',
            backgroundRepeat: 'no-repeat',
            width: `${fixedDropdownWidth}px`,
            minWidth: `${fixedDropdownWidth}px`,
          }}
        >
          {countries.map((country) => (
            <button
              key={country.code}
              type="button"
              onClick={() => handleCountrySelect(country)}
              className="flex items-center gap-3 px-4 py-3 hover:bg-black/5 transition-colors text-left whitespace-nowrap w-full"
            >
              <Image
                src={country.flagImage}
                alt={country.name}
                width={24}
                height={18}
                className="object-contain flex-shrink-0"
              />
              <span className="text-black font-sans font-medium text-base">
                {country.name}
              </span>
              {country.dialCode && (
                <span className="text-black font-sans text-sm opacity-70 whitespace-nowrap">
                  {country.dialCode}
                </span>
              )}
            </button>
          ))}
        </div>
      )}
    </div>
  )
}



--- DIFFS ---


💡 DIFF: cc05dfbd-c199-4149-a864-d373a8a153c4
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"cc05dfbd-c199-4149-a864-d373a8a153c4","fileSizeBytes":8759,"numLines":241,"diffChanges":[{"originalStartLineNumberOneIndexed":135,"originalEndLineNumberExclusiveOneIndexed":135,"modifiedStartLineNumberOneIndexed":135,"modifiedEndLineNumberExclusiveOneIndexed":146,"addedLines":["  // Đ“ĐµĐ˝ĐµŃ€Đ¸Ń€ŃĐµĐĽ placeholder Đ˝Đ° ĐľŃĐ˝ĐľĐ˛Đµ Ń„ĐľŃ€ĐĽĐ°Ń‚Đ° ŃŃ‚Ń€Đ°Đ˝Ń‹","  const getPlaceholder = () => {","    if (selectedCountry.code === 'other') {","      return 'WprowadĹş numer'","    }","    if (selectedCountry.phoneFormat) {","      return selectedCountry.phoneFormat","    }","    return 'xxx xxx xxx' // fallback","  }",""],"tokenizedAddedLines":[1000192,1000193,1000194,1000195,61,1000196,1000197,61,1000198,38,2]},{"originalStartLineNumberOneIndexed":180,"originalEndLineNumberExclusiveOneIndexed":181,"modifiedStartLineNumberOneIndexed":191,"modifiedEndLineNumberExclusiveOneIndexed":192,"addedLines":["          placeholder={getPlaceholder()}"],"tokenizedAddedLines":[1000199]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 77d0bfb4-efc2-47cb-9bbd-16970d8eebf3 | Время: 11/25/2025 08:43:50 =====


--- METADATA ---

{"agentRequestId":"77d0bfb4-efc2-47cb-9bbd-16970d8eebf3","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"b64b7c98-6d35-470b-8b27-1e4da422a0ae","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}],"startTrackingDateUnixMilliseconds":1764056630093,"fileSizeBytes":9954,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: b64b7c98-6d35-470b-8b27-1e4da422a0ae
----------------------------------------

'use client'

import { useState, useRef, useEffect } from 'react'
import Image from 'next/image'
import { countries, Country, formatPhoneNumber } from '@/lib/countries'

interface CustomPhoneInputProps {
  value: string
  onChange: (phone: string) => void
  defaultCountry?: string
  className?: string
}

export function CustomPhoneInput({
  value,
  onChange,
  defaultCountry = 'pl',
  className = '',
}: CustomPhoneInputProps) {
  const [selectedCountry, setSelectedCountry] = useState<Country>(
    countries.find(c => c.code === defaultCountry) || countries[1] // ĐżĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ ĐźĐľĐ»ŃŚŃĐ°
  )
  const [isDropdownOpen, setIsDropdownOpen] = useState(false)
  const [phoneNumber, setPhoneNumber] = useState('')
  const dropdownRef = useRef<HTMLDivElement>(null)
  const containerRef = useRef<HTMLDivElement>(null)
  const selectorRowRef = useRef<HTMLDivElement>(null)
  
  // Đ’Ń‹Ń‡Đ¸ŃĐ»ŃŹĐµĐĽ ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝ŃŃŽ ŃĐ¸Ń€Đ¸Đ˝Ń Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° (Ń„Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝Đ°ŃŹ)
  const calculateMaxDropdownWidth = () => {
    // Đ¤Đ»Đ°Đł: 24px
    // Gap: 12px (gap-3)
    // ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ŃŃ‚Ń€Đ°Đ˝Ń‹ (ŃĐ°ĐĽĐľĐµ Đ´Đ»Đ¸Đ˝Đ˝ĐľĐµ "Wielka Brytania"): ~150px ĐżŃ€Đ¸ text-base
    // Gap: 12px
    // ĐšĐľĐ´ (ŃĐ°ĐĽŃ‹Đą Đ´Đ»Đ¸Đ˝Đ˝Ń‹Đą "+380"): ~40px
    // Padding: 32px (16px Ă— 2)
    // ĐŃ‚ĐľĐłĐľ: 24 + 12 + 150 + 12 + 40 + 32 = ~270px
    // Đ”ĐľĐ±Đ°Đ˛Đ»ŃŹĐµĐĽ Đ·Đ°ĐżĐ°Ń Đ´Đ»ŃŹ Đ±ĐµĐ·ĐľĐżĐ°ŃĐ˝ĐľŃŃ‚Đ¸
    return 280
  }
  
  const fixedDropdownWidth = calculateMaxDropdownWidth()

  // ĐĐ˝Đ¸Ń†Đ¸Đ°Đ»Đ¸Đ·Đ°Ń†Đ¸ŃŹ Đ¸Đ· value
  useEffect(() => {
    if (value) {
      // ĐźŃ‹Ń‚Đ°ĐµĐĽŃŃŹ ĐľĐżŃ€ĐµĐ´ĐµĐ»Đ¸Ń‚ŃŚ ŃŃ‚Ń€Đ°Đ˝Ń ĐżĐľ ĐşĐľĐ´Ń
      const dialCode = value.match(/^\+\d+/)?.[0]
      if (dialCode) {
        const country = countries.find(c => c.dialCode === dialCode)
        if (country) {
          setSelectedCountry(country)
          const number = value.replace(dialCode, '').trim().replace(/\s/g, '')
          setPhoneNumber(number)
        } else {
          // Đ•ŃĐ»Đ¸ ĐşĐľĐ´ Đ˝Đµ Đ˝Đ°ĐąĐ´ĐµĐ˝, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
          setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
          setPhoneNumber(value.replace(/^\+\d+\s*/, '').trim().replace(/\D/g, ''))
        }
      } else {
        // Đ•ŃĐ»Đ¸ Đ˝ĐµŃ‚ ĐşĐľĐ´Đ°, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
        setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
        setPhoneNumber(value.replace(/\D/g, ''))
      }
    }
  }, [value])

  // Đ—Đ°ĐşŃ€Ń‹Ń‚Đ¸Đµ dropdown ĐżŃ€Đ¸ ĐşĐ»Đ¸ĐşĐµ Đ˛Đ˝Đµ
  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (
        containerRef.current &&
        !containerRef.current.contains(event.target as Node)
      ) {
        setIsDropdownOpen(false)
      }
    }

    if (isDropdownOpen) {
      document.addEventListener('mousedown', handleClickOutside)
    }

    return () => {
      document.removeEventListener('mousedown', handleClickOutside)
    }
  }, [isDropdownOpen])

  // ĐŁŃŃ‚Đ°Đ˝Đ°Đ˛Đ»Đ¸Đ˛Đ°ĐµĐĽ Ń„Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝ŃŃŽ ŃĐ¸Ń€Đ¸Đ˝Ń Đ´Đ»ŃŹ ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐ¸ Đ¸ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ°
  useEffect(() => {
    if (selectorRowRef.current) {
      selectorRowRef.current.style.width = `${fixedDropdownWidth}px`
      selectorRowRef.current.style.minWidth = `${fixedDropdownWidth}px`
    }
  }, [fixedDropdownWidth])

  const handleCountrySelect = (country: Country) => {
    // ĐˇĐľŃ…Ń€Đ°Đ˝ŃŹĐµĐĽ Ń‚ĐµĐşŃŃ‰Đ¸Đą Đ˝ĐľĐĽĐµŃ€ Ń‚ĐµĐ»ĐµŃ„ĐľĐ˝Đ° ĐżĐµŃ€ĐµĐ´ ŃĐĽĐµĐ˝ĐľĐą ŃŃ‚Ń€Đ°Đ˝Ń‹
    const currentPhoneNumber = phoneNumber
    
    setSelectedCountry(country)
    setIsDropdownOpen(false)
    
    // ĐžĐ±Đ˝ĐľĐ˛Đ»ŃŹĐµĐĽ Đ·Đ˝Đ°Ń‡ĐµĐ˝Đ¸Đµ Ń Đ˝ĐľĐ˛Ń‹ĐĽ ĐşĐľĐ´ĐľĐĽ ŃŃ‚Ń€Đ°Đ˝Ń‹, Đ˝Đľ ŃĐľŃ…Ń€Đ°Đ˝ŃŹĐµĐĽ Đ˛Đ˛ĐµĐ´ĐµĐ˝Đ˝Ń‹Đą Đ˝ĐľĐĽĐµŃ€
    if (currentPhoneNumber) {
      // Đ•ŃĐ»Đ¸ Đ˝ĐľĐĽĐµŃ€ Đ±Ń‹Đ» Đ˛Đ˛ĐµĐ´ĐµĐ˝, ŃĐľŃ…Ń€Đ°Đ˝ŃŹĐµĐĽ ĐµĐłĐľ Ń Đ˝ĐľĐ˛Ń‹ĐĽ ĐşĐľĐ´ĐľĐĽ ŃŃ‚Ń€Đ°Đ˝Ń‹
      const formattedNumber = country.phoneFormat && country.code !== 'other'
        ? formatPhoneNumber(currentPhoneNumber, country.phoneFormat)
        : currentPhoneNumber
      
      const newValue = country.dialCode
        ? `${country.dialCode} ${formattedNumber}`.trim()
        : formattedNumber
      onChange(newValue)
    } else {
      // Đ•ŃĐ»Đ¸ Đ˝ĐľĐĽĐµŃ€Đ° Đ˝Đµ Đ±Ń‹Đ»Đľ, ĐżŃ€ĐľŃŃ‚Đľ ŃŃŃ‚Đ°Đ˝Đ°Đ˛Đ»Đ¸Đ˛Đ°ĐµĐĽ ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹
      const newValue = country.dialCode ? country.dialCode : ''
      onChange(newValue)
    }
  }

  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    let input = e.target.value.replace(/\D/g, '') // Ń‚ĐľĐ»ŃŚĐşĐľ Ń†Đ¸Ń„Ń€Ń‹
    
    // ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡Đ¸Đ˛Đ°ĐµĐĽ Đ´Đ»Đ¸Đ˝Ń Đ´Đ»ŃŹ Đ¸Đ·Đ˛ĐµŃŃ‚Đ˝Ń‹Ń… ŃŃ‚Ń€Đ°Đ˝
    if (selectedCountry.phoneLength && selectedCountry.code !== 'other') {
      input = input.slice(0, selectedCountry.phoneLength)
    }
    
    setPhoneNumber(input)
    
    // Đ¤ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ŃĐµĐĽ Đ˝ĐľĐĽĐµŃ€
    let formatted = input
    if (selectedCountry.phoneFormat && selectedCountry.code !== 'other') {
      formatted = formatPhoneNumber(input, selectedCountry.phoneFormat)
    }
    
    // ĐžĐ±Đ˝ĐľĐ˛Đ»ŃŹĐµĐĽ Đ·Đ˝Đ°Ń‡ĐµĐ˝Đ¸Đµ
    const newValue = selectedCountry.dialCode
      ? `${selectedCountry.dialCode} ${formatted}`.trim()
      : formatted
    onChange(newValue)
  }

  // ĐžĐżŃ€ĐµĐ´ĐµĐ»ŃŹĐµĐĽ, ĐşĐ°ĐşĐľĐµ Đ˝Đ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ĐżĐľĐşĐ°Đ·Ń‹Đ˛Đ°Ń‚ŃŚ (ĐżĐľĐ»Đ˝ĐľĐµ Đ¸Đ»Đ¸ ŃĐľĐşŃ€Đ°Ń‰ĐµĐ˝Đ˝ĐľĐµ)
  const displayName = selectedCountry.name.length > 12 
    ? selectedCountry.shortName 
    : selectedCountry.name

  return (
    <div ref={containerRef} className={`relative w-full flex items-start gap-0 ${className}`}>
      {/* ĐźĐµŃ€Đ˛Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: Đ¤Đ»Đ°Đł + ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ + ĐšĐľĐ´ (ŃĐżŃ€Đ°Đ˛Đ°) + ĐšĐ˝ĐľĐżĐşĐ° Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° */}
      <div 
        ref={selectorRowRef}
        className="flex items-center gap-2 border border-black/60 rounded-sm px-4 py-2 country-selector-row"
        style={{ height: '42px', width: `${fixedDropdownWidth}px`, minWidth: `${fixedDropdownWidth}px` }}
      >
        <Image
          src={selectedCountry.flagImage}
          alt={selectedCountry.name}
          width={20}
          height={15}
          className="object-contain flex-shrink-0"
          style={{ width: '20px', height: '15px' }}
        />
        <span className="text-black font-sans font-medium text-base leading-tight whitespace-nowrap flex-1">
          {displayName || selectedCountry.name}
        </span>
        {selectedCountry.dialCode ? (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap flex-shrink-0">
            {selectedCountry.dialCode}
          </span>
        ) : (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap opacity-50 flex-shrink-0">
            +
          </span>
        )}
        <button
          type="button"
          onClick={() => setIsDropdownOpen(!isDropdownOpen)}
          className="hover:opacity-80 transition-opacity flex-shrink-0"
        >
          <span className="text-black text-lg">â–Ľ</span>
        </button>
      </div>

      {/* Đ’Ń‚ĐľŃ€Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: ĐźĐľĐ»Đµ Đ˛Đ˛ĐľĐ´Đ° (ĐłĐľŃ€Đ¸Đ·ĐľĐ˝Ń‚Đ°Đ»ŃŚĐ˝Đľ Đ·Đ° ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐľĐą) */}
      <div className="flex-1">
        <input
          type="tel"
          value={selectedCountry.phoneFormat && selectedCountry.code !== 'other' && phoneNumber
            ? formatPhoneNumber(phoneNumber, selectedCountry.phoneFormat)
            : phoneNumber}
          onChange={handlePhoneChange}
          placeholder={selectedCountry.code === 'other' ? 'WprowadĹş numer' : 'xxx xxx xxx'}
          className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/50 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
          style={{ backgroundColor: 'transparent', height: '42px' }}
        />
      </div>

      {/* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş */}
      {isDropdownOpen && (
        <div
          ref={dropdownRef}
          className="absolute top-full left-0 mt-1 z-50 border border-black/20 rounded-lg shadow-lg max-h-64 overflow-y-auto custom-dropdown country-dropdown"
          style={{
            backgroundImage: 'linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)), url(/images/zmiety arkusz papieru 2.png)',
            backgroundSize: 'cover',
            backgroundPosition: 'center',
            backgroundRepeat: 'no-repeat',
            width: `${fixedDropdownWidth}px`,
            minWidth: `${fixedDropdownWidth}px`,
          }}
        >
          {countries.map((country) => (
            <button
              key={country.code}
              type="button"
              onClick={() => handleCountrySelect(country)}
              className="flex items-center gap-3 px-4 py-3 hover:bg-black/5 transition-colors text-left whitespace-nowrap w-full"
            >
              <Image
                src={country.flagImage}
                alt={country.name}
                width={24}
                height={18}
                className="object-contain flex-shrink-0"
              />
              <span className="text-black font-sans font-medium text-base">
                {country.name}
              </span>
              {country.dialCode && (
                <span className="text-black font-sans text-sm opacity-70 whitespace-nowrap">
                  {country.dialCode}
                </span>
              )}
            </button>
          ))}
        </div>
      )}
    </div>
  )
}



--- DIFFS ---


💡 DIFF: b64b7c98-6d35-470b-8b27-1e4da422a0ae
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"b64b7c98-6d35-470b-8b27-1e4da422a0ae","fileSizeBytes":8505,"numLines":230,"diffChanges":[{"originalStartLineNumberOneIndexed":97,"originalEndLineNumberExclusiveOneIndexed":100,"modifiedStartLineNumberOneIndexed":97,"modifiedEndLineNumberExclusiveOneIndexed":99,"addedLines":["    // ĐźŃ€Đ¸ ŃĐĽĐµĐ˝Đµ ŃŃ‚Ń€Đ°Đ˝Ń‹ ĐľŃ‡Đ¸Ń‰Đ°ĐµĐĽ Đ˛Đ˛ĐµĐ´ĐµĐ˝Đ˝Ń‹Đą Đ˝ĐľĐĽĐµŃ€","    setPhoneNumber('')"],"tokenizedAddedLines":[1000204,1000205]},{"originalStartLineNumberOneIndexed":103,"originalEndLineNumberExclusiveOneIndexed":116,"modifiedStartLineNumberOneIndexed":102,"modifiedEndLineNumberExclusiveOneIndexed":103,"addedLines":["    // ĐŁŃŃ‚Đ°Đ˝Đ°Đ˛Đ»Đ¸Đ˛Đ°ĐµĐĽ Ń‚ĐľĐ»ŃŚĐşĐľ ĐşĐľĐ´ Đ˝ĐľĐ˛ĐľĐą ŃŃ‚Ń€Đ°Đ˝Ń‹ (Đ±ĐµĐ· Đ˝ĐľĐĽĐµŃ€Đ°)"],"tokenizedAddedLines":[1000206]},{"originalStartLineNumberOneIndexed":118,"originalEndLineNumberExclusiveOneIndexed":119,"modifiedStartLineNumberOneIndexed":105,"modifiedEndLineNumberExclusiveOneIndexed":105}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 7b504b3d-90da-428c-be4a-cd1f583b40d6 | Время: 11/25/2025 15:08:30 =====


--- METADATA ---

{"agentRequestId":"7b504b3d-90da-428c-be4a-cd1f583b40d6","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\footer.tsx","fileUuid":"e15d0278-fd4e-45c3-8256-dd68ac96e5d5","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"c42d0536-5b6b-4234-9242-bfac1a0752d7","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764079710070,"fileSizeBytes":20700,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: c42d0536-5b6b-4234-9242-bfac1a0752d7
----------------------------------------

'use client'

import { useState } from 'react'
import { useForm, Controller } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import { Loader2 } from 'lucide-react'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'
import { CustomPhoneInput } from '@/components/ui/custom-phone-input'
import { CustomRadio } from '@/components/ui/custom-radio'
import { CustomCheckbox } from '@/components/ui/custom-checkbox'
import { SuccessModal } from '@/components/ui/success-modal'

// Schemat walidacji Zod
const formSchema = z.object({
  name: z.string().min(2, { message: 'ImiÄ™ i nazwisko musi mieÄ‡ min. 2 znaki' }),
  phone: z.string().min(9, { message: 'Numer telefonu jest za krĂłtki' }),
  email: z.string().email({ message: 'Niepoprawny adres e-mail' }),
  address: z.string().min(5, { message: 'Adres musi mieÄ‡ min. 5 znakĂłw' }),
  deviceType: z.enum(['printer', 'computer', 'other'], { required_error: 'Wybierz typ urzÄ…dzenia' }),
  deviceModel: z.string().optional(),
  problemDescription: z.string().min(10, { message: 'Opis problemu musi mieÄ‡ min. 10 znakĂłw' }),
  replacementPrinter: z.boolean().default(false),
  agreements: z.literal(true, { errorMap: () => ({ message: 'Musisz zaakceptowaÄ‡ regulamin' }) }),
})

type FormValues = z.infer<typeof formSchema>

export function Contact() {
  const [isSubmitting, setIsSubmitting] = useState(false)
  const [showSuccessModal, setShowSuccessModal] = useState(false)

  const {
    register,
    control,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      name: '',
      phone: '',
      email: '',
      address: '',
      deviceType: undefined,
      deviceModel: '',
      problemDescription: '',
      replacementPrinter: false,
      agreements: undefined,
    },
  })

  const onSubmit = async (data: FormValues) => {
    setIsSubmitting(true)
    try {
      const response = await fetch('/api/send-email', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      })

      if (!response.ok) {
        throw new Error('BĹ‚Ä…d podczas wysyĹ‚ania formularza')
      }

      setShowSuccessModal(true)
      reset()
    } catch (error) {
      console.error('Error submitting form:', error)
      alert('WystÄ…piĹ‚ bĹ‚Ä…d podczas wysyĹ‚ania formularza. SprĂłbuj ponownie.')
    } finally {
      setIsSubmitting(false)
    }
  }

  const onCloseSuccessModal = () => {
    setShowSuccessModal(false)
  }

  return (
    <section id="kontakt" className="relative pb-2 md:pb-3 pt-0">
      {/* TĹ‚o sekcji */}
      <div
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.services_background}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/50" />
      </div>

      <div className="relative z-10 container mx-auto px-4 flex flex-col items-center">
        
        {/* Tekst nad formularzem */}
        <p className="text-white/90 text-lg md:text-xl text-center mb-8 drop-shadow-md font-serif italic pt-4 md:pt-6">
          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„â€ť
        </p>

        {/* Karta formularza - ĐĽĐ°ŃŃŃ‚Đ°Đ±Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ° Đ˝Đ° 20% */}
        <div className="w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-4 md:p-6 border border-[#3a2e24]/20 scale-[0.8] origin-top mb-0">
          
          {/* NagĹ‚Ăłwek formularza */}
          <h2 className="text-[#3a2e24] text-3xl md:text-4xl font-cormorant font-bold text-center mb-4 md:mb-5 border-b border-[#3a2e24]/10 pb-3">
            Formularz zgĹ‚oszeniowy
          </h2>

          <form onSubmit={handleSubmit(onSubmit)} className="space-y-3 md:space-y-4">
            
            {/* ImiÄ™ i Telefon - Grid */}
            <div className="grid grid-cols-1 gap-3 md:gap-4">
              {/* ImiÄ™ i nazwisko */}
              <div className="space-y-2">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  ImiÄ™ i nazwisko
                </label>
                <input
                  {...register('name')}
                  placeholder="Jan Kowalski"
                  className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250"
                />
                {errors.name && (
                  <p className="text-red-600 text-sm">{errors.name.message}</p>
                )}
              </div>

              {/* Telefon */}
              <div className="space-y-2">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  Numer telefonu
                </label>
                <Controller
                  name="phone"
                  control={control}
                  render={({ field }) => (
                    <CustomPhoneInput
                      value={field.value || ''}
                      onChange={field.onChange}
                    />
                  )}
                />
                {errors.phone && (
                  <p className="text-red-600 text-sm">{errors.phone.message}</p>
                )}
              </div>
            </div>

            {/* E-mail */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres e-mail
              </label>
              <input
                {...register('email')}
                type="email"
                placeholder="jan.kowalski@example.com"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250"
              />
              {errors.email && (
                <p className="text-red-600 text-sm">{errors.email.message}</p>
              )}
            </div>

            {/* Adres */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres
              </label>
              <input
                {...register('address')}
                placeholder="ul. PrzykĹ‚adowa 1, 50-001 WrocĹ‚aw"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250"
              />
              {errors.address && (
                <p className="text-red-600 text-sm">{errors.address.message}</p>
              )}
            </div>

            {/* Typ urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg mb-2">
                Typ urzÄ…dzenia
              </label>
              <div className="flex flex-wrap gap-3">
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <>
                      <CustomRadio
                        id="device-printer"
                        name="deviceType"
                        value="printer"
                        checked={field.value === 'printer'}
                        onChange={field.onChange}
                        label="Drukarka"
                      />
                      <CustomRadio
                        id="device-computer"
                        name="deviceType"
                        value="computer"
                        checked={field.value === 'computer'}
                        onChange={field.onChange}
                        label="Komputer / Laptop"
                      />
                      <CustomRadio
                        id="device-other"
                        name="deviceType"
                        value="other"
                        checked={field.value === 'other'}
                        onChange={field.onChange}
                        label="Inne urzÄ…dzenie"
                      />
                    </>
                  )}
                />
              </div>
              {errors.deviceType && (
                <p className="text-red-600 text-sm">{errors.deviceType.message}</p>
              )}
            </div>

            {/* Model urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Model urzÄ…dzenia
              </label>
              <input
                {...register('deviceModel')}
                placeholder="np. HP LaserJet Pro M404dn"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250"
              />
            </div>

            {/* Opis problemu */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Opis problemu
              </label>
              <textarea
                {...register('problemDescription')}
                rows={4}
                placeholder="ProszÄ™ opisaÄ‡ problem z urzÄ…dzeniem..."
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250 resize-y"
              />
              {errors.problemDescription && (
                <p className="text-red-600 text-sm">{errors.problemDescription.message}</p>
              )}
            </div>

            {/* Checkboxy */}
            <div className="space-y-3 pt-1">
              <Controller
                name="replacementPrinter"
                control={control}
                render={({ field }) => (
                  <CustomCheckbox
                    id="replacement-printer"
                    name="replacementPrinter"
                    checked={field.value}
                    onChange={field.onChange}
                    label="PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy."
                  />
                )}
              />

              <div className="space-y-1">
                <Controller
                  name="agreements"
                  control={control}
                  render={({ field }) => (
                    <CustomCheckbox
                      id="agreements"
                      name="agreements"
                      checked={field.value || false}
                      onChange={(e) => field.onChange(e.target.checked)}
                      label={
                        <>
                          OĹ›wiadczam, ĹĽe zapoznaĹ‚em/am siÄ™ z{' '}
                          <Link href="/polityka-prywatnosci" className="underline hover:text-black/70">
                            PolitykÄ… PrywatnoĹ›ci
                          </Link>{' '}
                          oraz{' '}
                          <Link href="/regulamin" className="underline hover:text-black/70">
                            Regulaminem
                          </Link>{' '}
                          i akceptujÄ™ ich postanowienia.
                        </>
                      }
                    />
                  )}
                />
                {errors.agreements && (
                  <p className="text-red-600 text-sm ml-8">{errors.agreements.message}</p>
                )}
              </div>
            </div>

            {/* Przycisk Submit */}
            <div className="pt-4 flex justify-center">
              <button
                type="submit"
                disabled={isSubmitting}
                className="relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-black/30 hover:border-2 hover:border-black/80 hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.1),0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:shadow-[inset_0_0_20px_rgba(0,0,0,0.1),0_0_4px_rgba(0,0,0,0.3)] rounded-full transition-all duration-250"
              >
                <span className="font-cormorant font-bold text-2xl text-black tracking-wide group-hover:text-black/80 flex items-center gap-2">
                  {isSubmitting && <Loader2 className="animate-spin h-5 w-5" />}
                  WyĹ›lij zgĹ‚oszenie
                </span>
              </button>
            </div>

          </form>
        </div>
      </div>

      {/* Success Modal */}
      <SuccessModal isOpen={showSuccessModal} onClose={onCloseSuccessModal} />
    </section>
  )
}


🗂 FILE: e15d0278-fd4e-45c3-8256-dd68ac96e5d5
----------------------------------------

import { MapPin, Phone, Mail, Clock } from 'lucide-react'
import { FaWhatsapp, FaTelegramPlane } from 'react-icons/fa'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'

export function Footer() {
  const currentYear = new Date().getFullYear()

  return (
    <footer className="relative w-full py-16 px-6 border-t border-[#3a2e24] text-white">
      {/* TĹ‚o */}
      <div 
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.Background_1}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/60" />
      </div>

      {/* ZawartoĹ›Ä‡ */}
      <div className="relative max-w-7xl mx-auto">
        <div className="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-16">
          {/* Lewa kolumna - Kontakt */}
          <div className="space-y-6">
            <h3 className="text-2xl font-semibold tracking-wide text-[#bfa76a]">
              Kontakt
            </h3>

            <div className="space-y-4">
              <div className="flex items-start gap-3">
                <MapPin className="h-5 w-5 text-primary mt-1 flex-shrink-0" />
                <div>
                  <Link
                    href="https://maps.app.goo.gl/K5VzK8uHkP8xJ5dD7"
                    target="_blank"
                    rel="noopener noreferrer"
                    className="text-white hover:text-primary transition-colors"
                  >
                    <div>Marcina Bukowskiego 174</div>
                    <div>52-418 WrocĹ‚aw</div>
                  </Link>
                </div>
              </div>

              <div className="flex items-center gap-3">
                <Phone className="h-5 w-5 text-primary flex-shrink-0" />
                <Link
                  href="tel:+48793759262"
                  className="text-white hover:text-primary transition-colors"
                >
                  +48 793 759 262
                </Link>
              </div>

              <div className="flex items-center gap-3">
                <Mail className="h-5 w-5 text-primary flex-shrink-0" />
                <Link
                  href="mailto:omobonus.pl@gmail.com"
                  className="text-white hover:text-primary transition-colors"
                >
                  omobonus.pl@gmail.com
                </Link>
              </div>

              <div className="flex items-center gap-3">
                <Clock className="h-5 w-5 text-primary flex-shrink-0" />
                <span className="text-white">
                  Godziny otwarcia: ponâ€“pt â€” 9:00â€“17:00
                </span>
              </div>

              <div className="flex items-center gap-3">
                <FaWhatsapp className="h-5 w-5 text-primary flex-shrink-0" />
                <Link
                  href="https://wa.me/48793759262"
                  target="_blank"
                  rel="noopener noreferrer"
                  className="text-white hover:text-primary transition-colors"
                >
                  WhatsApp
                </Link>
              </div>

              <div className="flex items-center gap-3">
                <FaTelegramPlane className="h-5 w-5 text-primary flex-shrink-0" />
                <Link
                  href="https://t.me/+48793759262"
                  target="_blank"
                  rel="noopener noreferrer"
                  className="text-white hover:text-primary transition-colors"
                >
                  Telegram
                </Link>
              </div>

              <div className="pt-4 space-y-2">
                <Link
                  href="/polityka-prywatnosci"
                  className="block text-[#b8a894] hover:text-primary transition-colors text-sm"
                >
                  Polityka PrywatnoĹ›ci
                </Link>
                <Link
                  href="/regulamin"
                  className="block text-[#b8a894] hover:text-primary transition-colors text-sm"
                >
                  Regulamin
                </Link>
              </div>
            </div>
          </div>

          {/* Prawa kolumna - Mapa */}
          <div className="flex items-center justify-center">
            <div className="w-full h-[400px] rounded-lg overflow-hidden shadow-lg border border-[#3a2e24]">
              <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2504.1234567890123!2d17.12345678901234!3d51.12345678901234!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNTHCsDA3JzI0LjQiTiAxN8KwMDcnMjQuNCJF!5e0!3m2!1spl!2spl!4v1234567890123!5m2!1spl!2spl"
                width="100%"
                height="100%"
                style={{
                  border: 0,
                  filter:
                    'grayscale(0.3) sepia(0.2) brightness(0.9) contrast(1.1)',
                }}
                allowFullScreen={true}
                loading="lazy"
                referrerPolicy="no-referrer-when-downgrade"
                title="Lokalizacja Omobonus serwis"
              />
            </div>
          </div>
        </div>

        <div className="mt-12 pt-6 border-t border-[#3a2e24]/30 text-center">
          <p className="text-white/80 text-sm">
            Â© {currentYear} Omobonus Sp. z o.o. Wszelkie prawa zastrzeĹĽone.
          </p>
        </div>
      </div>
    </footer>
  )
}


--- DIFFS ---


💡 DIFF: c42d0536-5b6b-4234-9242-bfac1a0752d7
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"c42d0536-5b6b-4234-9242-bfac1a0752d7","fileSizeBytes":14006,"numLines":325,"diffChanges":[{"originalStartLineNumberOneIndexed":85,"originalEndLineNumberExclusiveOneIndexed":86,"modifiedStartLineNumberOneIndexed":85,"modifiedEndLineNumberExclusiveOneIndexed":86,"addedLines":["    <section id=\"kontakt\" className=\"relative pb-0 pt-0\">"],"tokenizedAddedLines":[1000240]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

💡 DIFF: e15d0278-fd4e-45c3-8256-dd68ac96e5d5
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\footer.tsx","fileUuid":"e15d0278-fd4e-45c3-8256-dd68ac96e5d5","fileSizeBytes":5562,"numLines":144,"diffChanges":[{"originalStartLineNumberOneIndexed":10,"originalEndLineNumberExclusiveOneIndexed":11,"modifiedStartLineNumberOneIndexed":10,"modifiedEndLineNumberExclusiveOneIndexed":11,"addedLines":["    <footer className=\"relative w-full pt-5 pb-16 px-6 border-t border-[#3a2e24] text-white\">"],"tokenizedAddedLines":[1000097]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 7f455952-7769-40ec-a860-d871eb50f0de | Время: 11/25/2025 12:52:23 =====


--- METADATA ---

{"agentRequestId":"7f455952-7769-40ec-a860-d871eb50f0de","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\success-modal.tsx","fileUuid":"44685b19-233a-4cfe-8173-026d58ed7cf1","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764071543820,"fileSizeBytes":5087,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 44685b19-233a-4cfe-8173-026d58ed7cf1
----------------------------------------

'use client'

import { useEffect } from 'react'
import Image from 'next/image'

interface SuccessModalProps {
  isOpen: boolean
  onClose: () => void
}

export function SuccessModal({ isOpen, onClose }: SuccessModalProps) {
  useEffect(() => {
    if (isOpen) {
      const timer = setTimeout(() => {
        onClose()
      }, 10000) // Auto-close after 10 seconds

      return () => clearTimeout(timer)
    }
  }, [isOpen, onClose])

  if (!isOpen) return null

  return (
    <div
      className="fixed inset-0 z-50 flex items-center justify-center p-4"
      onClick={onClose}
    >
      {/* Background overlay */}
      <div className="absolute inset-0 bg-black/50" />

      {/* Modal content */}
      <div
        className="relative z-10 w-full max-w-md rounded-lg shadow-2xl overflow-hidden animate-modal-appear"
        onClick={(e) => e.stopPropagation()}
        style={{
          backgroundImage: 'url(/images/Background_1.png)',
          backgroundSize: 'cover',
          backgroundPosition: 'center',
          backgroundRepeat: 'no-repeat',
        }}
      >
        {/* Overlay for better text readability */}
        <div className="absolute inset-0 bg-black/50" />

        <div className="relative z-10 p-8 md:p-10 text-center">
          {/* Success message */}
          <h3 className="text-white text-3xl md:text-4xl font-cormorant font-bold mb-4 drop-shadow-lg">
            DziÄ™kujemy za zgĹ‚oszenie!
          </h3>

          <p className="text-white/90 text-base md:text-lg font-sans mb-2 drop-shadow-md">
            Twoja wiadomoĹ›Ä‡ zostaĹ‚a pomyĹ›lnie wysĹ‚ana. Skontaktujemy siÄ™ z TobÄ… w najbliĹĽszym czasie, aby potwierdziÄ‡ szczegĂłĹ‚y.{' '}
            <span className="italic">
              Prosimy o cierpliwoĹ›Ä‡ â€” Twoje zgĹ‚oszenie jest juĹĽ w dobrych rÄ™kach.
            </span>
          </p>

          {/* OK button */}
          <button
            onClick={onClose}
            className="mt-6 px-8 py-3 bg-white/20 hover:bg-white/30 border border-white/50 rounded-full text-white font-cormorant font-semibold text-lg transition-all duration-300 hover:scale-105"
          >
            OK
          </button>
        </div>
      </div>
    </div>
  )
}


--- DIFFS ---


💡 DIFF: 44685b19-233a-4cfe-8173-026d58ed7cf1
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\success-modal.tsx","fileUuid":"44685b19-233a-4cfe-8173-026d58ed7cf1","fileSizeBytes":3602,"numLines":91,"diffChanges":[{"originalStartLineNumberOneIndexed":34,"originalEndLineNumberExclusiveOneIndexed":35,"modifiedStartLineNumberOneIndexed":34,"modifiedEndLineNumberExclusiveOneIndexed":35,"addedLines":["        className=\"relative z-10 w-full max-w-md rounded-lg shadow-2xl overflow-visible animate-modal-appear\""],"tokenizedAddedLines":[1000060]},{"originalStartLineNumberOneIndexed":43,"originalEndLineNumberExclusiveOneIndexed":43,"modifiedStartLineNumberOneIndexed":43,"modifiedEndLineNumberExclusiveOneIndexed":62,"addedLines":["        {/* Đ”ĐµĐşĐľŃ€Đ°Ń‚Đ¸Đ˛Đ˝Đ°ŃŹ Ń€Đ°ĐĽĐşĐ° */}","        <div className=\"absolute inset-0 border-2 border-[#bfa76a]/80 rounded-lg pointer-events-none\">","          {/* Đ”ĐµĐşĐľŃ€Đ°Ń‚Đ¸Đ˛Đ˝Ń‹Đµ ŃĐłĐ»Ń‹ - Đ˛ĐµŃ€Ń…Đ˝Đ¸Đą Đ»ĐµĐ˛Ń‹Đą */}","          <div className=\"absolute -top-2 -left-2 w-8 h-8 border-t-2 border-l-2 border-[#bfa76a] rounded-tl-lg\"></div>","          <div className=\"absolute -top-1 -left-1 w-4 h-4 border-t border-l border-[#bfa76a]/60\"></div>","          ","          {/* Đ”ĐµĐşĐľŃ€Đ°Ń‚Đ¸Đ˛Đ˝Ń‹Đµ ŃĐłĐ»Ń‹ - Đ˛ĐµŃ€Ń…Đ˝Đ¸Đą ĐżŃ€Đ°Đ˛Ń‹Đą */}","          <div className=\"absolute -top-2 -right-2 w-8 h-8 border-t-2 border-r-2 border-[#bfa76a] rounded-tr-lg\"></div>","          <div className=\"absolute -top-1 -right-1 w-4 h-4 border-t border-r border-[#bfa76a]/60\"></div>","          ","          {/* Đ”ĐµĐşĐľŃ€Đ°Ń‚Đ¸Đ˛Đ˝Ń‹Đµ ŃĐłĐ»Ń‹ - Đ˝Đ¸Đ¶Đ˝Đ¸Đą Đ»ĐµĐ˛Ń‹Đą */}","          <div className=\"absolute -bottom-2 -left-2 w-8 h-8 border-b-2 border-l-2 border-[#bfa76a] rounded-bl-lg\"></div>","          <div className=\"absolute -bottom-1 -left-1 w-4 h-4 border-b border-l border-[#bfa76a]/60\"></div>","          ","          {/* Đ”ĐµĐşĐľŃ€Đ°Ń‚Đ¸Đ˛Đ˝Ń‹Đµ ŃĐłĐ»Ń‹ - Đ˝Đ¸Đ¶Đ˝Đ¸Đą ĐżŃ€Đ°Đ˛Ń‹Đą */}","          <div className=\"absolute -bottom-2 -right-2 w-8 h-8 border-b-2 border-r-2 border-[#bfa76a] rounded-br-lg\"></div>","          <div className=\"absolute -bottom-1 -right-1 w-4 h-4 border-b border-r border-[#bfa76a]/60\"></div>","        </div>",""],"tokenizedAddedLines":[1000061,1000062,1000063,1000064,1000065,1000066,1000067,1000068,1000069,1000066,1000070,1000071,1000072,1000066,1000073,1000074,1000075,57,2]},{"originalStartLineNumberOneIndexed":44,"originalEndLineNumberExclusiveOneIndexed":45,"modifiedStartLineNumberOneIndexed":63,"modifiedEndLineNumberExclusiveOneIndexed":64,"addedLines":["        <div className=\"absolute inset-0 bg-black/50 rounded-lg\" />"],"tokenizedAddedLines":[1000076]},{"originalStartLineNumberOneIndexed":71,"originalEndLineNumberExclusiveOneIndexed":71,"modifiedStartLineNumberOneIndexed":90,"modifiedEndLineNumberExclusiveOneIndexed":91,"addedLines":[""],"tokenizedAddedLines":[2]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 8ab4209d-c56d-4a2c-b8be-b24e9473768e | Время: 11/25/2025 15:11:20 =====


--- METADATA ---

{"agentRequestId":"8ab4209d-c56d-4a2c-b8be-b24e9473768e","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\footer.tsx","fileUuid":"538e642e-3f9e-4a20-9f8b-4de25f8e8eea","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"786a0884-f32b-4b70-b50d-fa3a3dde81bd","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764079879972,"fileSizeBytes":21081,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 538e642e-3f9e-4a20-9f8b-4de25f8e8eea
----------------------------------------

import { MapPin, Phone, Mail, Clock } from 'lucide-react'
import { FaWhatsapp, FaTelegramPlane } from 'react-icons/fa'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'

export function Footer() {
  const currentYear = new Date().getFullYear()

  return (
    <footer className="relative w-full pt-5 pb-16 px-6 border-t border-[#3a2e24] text-white">
      {/* TĹ‚o */}
      <div 
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.Background_1}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/60" />
      </div>

      {/* ZawartoĹ›Ä‡ */}
      <div className="relative max-w-7xl mx-auto">
        <div className="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-16">
          {/* Lewa kolumna - Kontakt */}
          <div className="space-y-6">
            <h3 className="text-2xl font-semibold tracking-wide text-[#bfa76a]">
              Kontakt
            </h3>

            <div className="space-y-4">
              <div className="flex items-start gap-3">
                <MapPin className="h-5 w-5 text-primary mt-1 flex-shrink-0" />
                <div>
                  <Link
                    href="https://maps.app.goo.gl/K5VzK8uHkP8xJ5dD7"
                    target="_blank"
                    rel="noopener noreferrer"
                    className="text-white hover:text-primary transition-colors"
                  >
                    <div>Marcina Bukowskiego 174</div>
                    <div>52-418 WrocĹ‚aw</div>
                  </Link>
                </div>
              </div>

              <div className="flex items-center gap-3">
                <Phone className="h-5 w-5 text-primary flex-shrink-0" />
                <Link
                  href="tel:+48793759262"
                  className="text-white hover:text-primary transition-colors"
                >
                  +48 793 759 262
                </Link>
              </div>

              <div className="flex items-center gap-3">
                <Mail className="h-5 w-5 text-primary flex-shrink-0" />
                <Link
                  href="mailto:omobonus.pl@gmail.com"
                  className="text-white hover:text-primary transition-colors"
                >
                  omobonus.pl@gmail.com
                </Link>
              </div>

              <div className="flex items-center gap-3">
                <Clock className="h-5 w-5 text-primary flex-shrink-0" />
                <span className="text-white">
                  Godziny otwarcia: ponâ€“pt â€” 9:00â€“17:00
                </span>
              </div>

              <div className="flex items-center gap-3">
                <FaWhatsapp className="h-5 w-5 text-primary flex-shrink-0" />
                <Link
                  href="https://wa.me/48793759262"
                  target="_blank"
                  rel="noopener noreferrer"
                  className="text-white hover:text-primary transition-colors"
                >
                  WhatsApp
                </Link>
              </div>

              <div className="flex items-center gap-3">
                <FaTelegramPlane className="h-5 w-5 text-primary flex-shrink-0" />
                <Link
                  href="https://t.me/+48793759262"
                  target="_blank"
                  rel="noopener noreferrer"
                  className="text-white hover:text-primary transition-colors"
                >
                  Telegram
                </Link>
              </div>

              <div className="pt-4 space-y-2">
                <Link
                  href="/polityka-prywatnosci"
                  className="block text-[#b8a894] hover:text-primary transition-colors text-sm"
                >
                  Polityka PrywatnoĹ›ci
                </Link>
                <Link
                  href="/regulamin"
                  className="block text-[#b8a894] hover:text-primary transition-colors text-sm"
                >
                  Regulamin
                </Link>
              </div>
            </div>
          </div>

          {/* Prawa kolumna - Mapa */}
          <div className="flex items-center justify-center">
            <div className="w-full h-[400px] rounded-lg overflow-hidden shadow-lg border border-[#3a2e24]">
              <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2504.1234567890123!2d17.12345678901234!3d51.12345678901234!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNTHCsDA3JzI0LjQiTiAxN8KwMDcnMjQuNCJF!5e0!3m2!1spl!2spl!4v1234567890123!5m2!1spl!2spl"
                width="100%"
                height="100%"
                style={{
                  border: 0,
                  filter:
                    'grayscale(0.3) sepia(0.2) brightness(0.9) contrast(1.1)',
                }}
                allowFullScreen={true}
                loading="lazy"
                referrerPolicy="no-referrer-when-downgrade"
                title="Lokalizacja Omobonus serwis"
              />
            </div>
          </div>
        </div>

        <div className="mt-12 pt-6 border-t border-[#3a2e24]/30 text-center">
          <p className="text-white/80 text-sm">
            Â© {currentYear} Omobonus Sp. z o.o. Wszelkie prawa zastrzeĹĽone.
          </p>
        </div>
      </div>
    </footer>
  )
}


🗂 FILE: 786a0884-f32b-4b70-b50d-fa3a3dde81bd
----------------------------------------

'use client'

import { useState } from 'react'
import { useForm, Controller } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import { Loader2 } from 'lucide-react'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'
import { CustomPhoneInput } from '@/components/ui/custom-phone-input'
import { CustomRadio } from '@/components/ui/custom-radio'
import { CustomCheckbox } from '@/components/ui/custom-checkbox'
import { SuccessModal } from '@/components/ui/success-modal'

// Schemat walidacji Zod
const formSchema = z.object({
  name: z.string().min(2, { message: 'ImiÄ™ i nazwisko musi mieÄ‡ min. 2 znaki' }),
  phone: z.string().min(9, { message: 'Numer telefonu jest za krĂłtki' }),
  email: z.string().email({ message: 'Niepoprawny adres e-mail' }),
  address: z.string().min(5, { message: 'Adres musi mieÄ‡ min. 5 znakĂłw' }),
  deviceType: z.enum(['printer', 'computer', 'other'], { required_error: 'Wybierz typ urzÄ…dzenia' }),
  deviceModel: z.string().optional(),
  problemDescription: z.string().min(10, { message: 'Opis problemu musi mieÄ‡ min. 10 znakĂłw' }),
  replacementPrinter: z.boolean().default(false),
  agreements: z.literal(true, { errorMap: () => ({ message: 'Musisz zaakceptowaÄ‡ regulamin' }) }),
})

type FormValues = z.infer<typeof formSchema>

export function Contact() {
  const [isSubmitting, setIsSubmitting] = useState(false)
  const [showSuccessModal, setShowSuccessModal] = useState(false)

  const {
    register,
    control,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      name: '',
      phone: '',
      email: '',
      address: '',
      deviceType: undefined,
      deviceModel: '',
      problemDescription: '',
      replacementPrinter: false,
      agreements: undefined,
    },
  })

  const onSubmit = async (data: FormValues) => {
    setIsSubmitting(true)
    try {
      const response = await fetch('/api/send-email', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      })

      if (!response.ok) {
        throw new Error('BĹ‚Ä…d podczas wysyĹ‚ania formularza')
      }

      setShowSuccessModal(true)
      reset()
    } catch (error) {
      console.error('Error submitting form:', error)
      alert('WystÄ…piĹ‚ bĹ‚Ä…d podczas wysyĹ‚ania formularza. SprĂłbuj ponownie.')
    } finally {
      setIsSubmitting(false)
    }
  }

  const onCloseSuccessModal = () => {
    setShowSuccessModal(false)
  }

  return (
    <section id="kontakt" className="relative pb-0 pt-0">
      {/* TĹ‚o sekcji */}
      <div
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.services_background}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/50" />
      </div>

      <div className="relative z-10 container mx-auto px-4 flex flex-col items-center">
        
        {/* Tekst nad formularzem */}
        <p className="text-white/90 text-lg md:text-xl text-center mb-8 drop-shadow-md font-serif italic pt-4 md:pt-6">
          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„â€ť
        </p>

        {/* Karta formularza - ĐĽĐ°ŃŃŃ‚Đ°Đ±Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ° Đ˝Đ° 20% */}
        <div className="w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-4 md:p-6 border border-[#3a2e24]/20 scale-[0.8] origin-top mb-0">
          
          {/* NagĹ‚Ăłwek formularza */}
          <h2 className="text-[#3a2e24] text-3xl md:text-4xl font-cormorant font-bold text-center mb-4 md:mb-5 border-b border-[#3a2e24]/10 pb-3">
            Formularz zgĹ‚oszeniowy
          </h2>

          <form onSubmit={handleSubmit(onSubmit)} className="space-y-3 md:space-y-4">
            
            {/* ImiÄ™ i Telefon - Grid */}
            <div className="grid grid-cols-1 gap-3 md:gap-4">
              {/* ImiÄ™ i nazwisko */}
              <div className="space-y-2">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  ImiÄ™ i nazwisko
                </label>
                <input
                  {...register('name')}
                  placeholder="Jan Kowalski"
                  className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250"
                />
                {errors.name && (
                  <p className="text-red-600 text-sm">{errors.name.message}</p>
                )}
              </div>

              {/* Telefon */}
              <div className="space-y-2">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  Numer telefonu
                </label>
                <Controller
                  name="phone"
                  control={control}
                  render={({ field }) => (
                    <CustomPhoneInput
                      value={field.value || ''}
                      onChange={field.onChange}
                    />
                  )}
                />
                {errors.phone && (
                  <p className="text-red-600 text-sm">{errors.phone.message}</p>
                )}
              </div>
            </div>

            {/* E-mail */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres e-mail
              </label>
              <input
                {...register('email')}
                type="email"
                placeholder="jan.kowalski@example.com"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250"
              />
              {errors.email && (
                <p className="text-red-600 text-sm">{errors.email.message}</p>
              )}
            </div>

            {/* Adres */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres
              </label>
              <input
                {...register('address')}
                placeholder="ul. PrzykĹ‚adowa 1, 50-001 WrocĹ‚aw"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250"
              />
              {errors.address && (
                <p className="text-red-600 text-sm">{errors.address.message}</p>
              )}
            </div>

            {/* Typ urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg mb-2">
                Typ urzÄ…dzenia
              </label>
              <div className="flex flex-wrap gap-3">
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <>
                      <CustomRadio
                        id="device-printer"
                        name="deviceType"
                        value="printer"
                        checked={field.value === 'printer'}
                        onChange={field.onChange}
                        label="Drukarka"
                      />
                      <CustomRadio
                        id="device-computer"
                        name="deviceType"
                        value="computer"
                        checked={field.value === 'computer'}
                        onChange={field.onChange}
                        label="Komputer / Laptop"
                      />
                      <CustomRadio
                        id="device-other"
                        name="deviceType"
                        value="other"
                        checked={field.value === 'other'}
                        onChange={field.onChange}
                        label="Inne urzÄ…dzenie"
                      />
                    </>
                  )}
                />
              </div>
              {errors.deviceType && (
                <p className="text-red-600 text-sm">{errors.deviceType.message}</p>
              )}
            </div>

            {/* Model urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Model urzÄ…dzenia
              </label>
              <input
                {...register('deviceModel')}
                placeholder="np. HP LaserJet Pro M404dn"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250"
              />
            </div>

            {/* Opis problemu */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Opis problemu
              </label>
              <textarea
                {...register('problemDescription')}
                rows={4}
                placeholder="ProszÄ™ opisaÄ‡ problem z urzÄ…dzeniem..."
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250 resize-y"
              />
              {errors.problemDescription && (
                <p className="text-red-600 text-sm">{errors.problemDescription.message}</p>
              )}
            </div>

            {/* Checkboxy */}
            <div className="space-y-3 pt-1">
              <Controller
                name="replacementPrinter"
                control={control}
                render={({ field }) => (
                  <CustomCheckbox
                    id="replacement-printer"
                    name="replacementPrinter"
                    checked={field.value}
                    onChange={field.onChange}
                    label="PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy."
                  />
                )}
              />

              <div className="space-y-1">
                <Controller
                  name="agreements"
                  control={control}
                  render={({ field }) => (
                    <CustomCheckbox
                      id="agreements"
                      name="agreements"
                      checked={field.value || false}
                      onChange={(e) => field.onChange(e.target.checked)}
                      label={
                        <>
                          OĹ›wiadczam, ĹĽe zapoznaĹ‚em/am siÄ™ z{' '}
                          <Link href="/polityka-prywatnosci" className="underline hover:text-black/70">
                            PolitykÄ… PrywatnoĹ›ci
                          </Link>{' '}
                          oraz{' '}
                          <Link href="/regulamin" className="underline hover:text-black/70">
                            Regulaminem
                          </Link>{' '}
                          i akceptujÄ™ ich postanowienia.
                        </>
                      }
                    />
                  )}
                />
                {errors.agreements && (
                  <p className="text-red-600 text-sm ml-8">{errors.agreements.message}</p>
                )}
              </div>
            </div>

            {/* Przycisk Submit */}
            <div className="pt-4 flex justify-center">
              <button
                type="submit"
                disabled={isSubmitting}
                className="relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-black/30 hover:border-2 hover:border-black/80 hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.1),0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:shadow-[inset_0_0_20px_rgba(0,0,0,0.1),0_0_4px_rgba(0,0,0,0.3)] rounded-full transition-all duration-250"
              >
                <span className="font-cormorant font-bold text-2xl text-black tracking-wide group-hover:text-black/80 flex items-center gap-2">
                  {isSubmitting && <Loader2 className="animate-spin h-5 w-5" />}
                  WyĹ›lij zgĹ‚oszenie
                </span>
              </button>
            </div>

          </form>
        </div>
      </div>

      {/* Success Modal */}
      <SuccessModal isOpen={showSuccessModal} onClose={onCloseSuccessModal} />
    </section>
  )
}


--- DIFFS ---


💡 DIFF: 538e642e-3f9e-4a20-9f8b-4de25f8e8eea
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\footer.tsx","fileUuid":"538e642e-3f9e-4a20-9f8b-4de25f8e8eea","fileSizeBytes":5557,"numLines":144,"diffChanges":[{"originalStartLineNumberOneIndexed":10,"originalEndLineNumberExclusiveOneIndexed":11,"modifiedStartLineNumberOneIndexed":10,"modifiedEndLineNumberExclusiveOneIndexed":11,"addedLines":["    <footer className=\"relative w-full py-16 px-6 border-t border-[#3a2e24] text-white\">"],"tokenizedAddedLines":[1000097]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

💡 DIFF: 786a0884-f32b-4b70-b50d-fa3a3dde81bd
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"786a0884-f32b-4b70-b50d-fa3a3dde81bd","fileSizeBytes":14020,"numLines":325,"diffChanges":[{"originalStartLineNumberOneIndexed":85,"originalEndLineNumberExclusiveOneIndexed":86,"modifiedStartLineNumberOneIndexed":85,"modifiedEndLineNumberExclusiveOneIndexed":86,"addedLines":["    <section id=\"kontakt\" className=\"relative pb-6 md:pb-10 pt-0\">"],"tokenizedAddedLines":[1000240]},{"originalStartLineNumberOneIndexed":104,"originalEndLineNumberExclusiveOneIndexed":105,"modifiedStartLineNumberOneIndexed":104,"modifiedEndLineNumberExclusiveOneIndexed":105,"addedLines":["        <div className=\"w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-4 md:p-6 border border-[#3a2e24]/20 scale-[0.8] origin-top -mb-[15%]\">"],"tokenizedAddedLines":[1000241]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 8fed7b95-2a67-4c9b-9b1d-14215b41a475 | Время: 11/25/2025 15:03:56 =====


--- METADATA ---

{"agentRequestId":"8fed7b95-2a67-4c9b-9b1d-14215b41a475","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"d47b0fa2-ff91-4a26-bfe7-b70c97367ba4","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764079436813,"fileSizeBytes":14726,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: d47b0fa2-ff91-4a26-bfe7-b70c97367ba4
----------------------------------------

'use client'

import { useState } from 'react'
import { useForm, Controller } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import { Loader2 } from 'lucide-react'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'
import { CustomPhoneInput } from '@/components/ui/custom-phone-input'
import { CustomRadio } from '@/components/ui/custom-radio'
import { CustomCheckbox } from '@/components/ui/custom-checkbox'
import { SuccessModal } from '@/components/ui/success-modal'

// Schemat walidacji Zod
const formSchema = z.object({
  name: z.string().min(2, { message: 'ImiÄ™ i nazwisko musi mieÄ‡ min. 2 znaki' }),
  phone: z.string().min(9, { message: 'Numer telefonu jest za krĂłtki' }),
  email: z.string().email({ message: 'Niepoprawny adres e-mail' }),
  address: z.string().min(5, { message: 'Adres musi mieÄ‡ min. 5 znakĂłw' }),
  deviceType: z.enum(['printer', 'computer', 'other'], { required_error: 'Wybierz typ urzÄ…dzenia' }),
  deviceModel: z.string().optional(),
  problemDescription: z.string().min(10, { message: 'Opis problemu musi mieÄ‡ min. 10 znakĂłw' }),
  replacementPrinter: z.boolean().default(false),
  agreements: z.literal(true, { errorMap: () => ({ message: 'Musisz zaakceptowaÄ‡ regulamin' }) }),
})

type FormValues = z.infer<typeof formSchema>

export function Contact() {
  const [isSubmitting, setIsSubmitting] = useState(false)
  const [showSuccessModal, setShowSuccessModal] = useState(false)

  const {
    register,
    control,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      name: '',
      phone: '',
      email: '',
      address: '',
      deviceType: undefined,
      deviceModel: '',
      problemDescription: '',
      replacementPrinter: false,
      agreements: undefined,
    },
  })

  const onSubmit = async (data: FormValues) => {
    setIsSubmitting(true)
    try {
      const response = await fetch('/api/send-email', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      })

      if (!response.ok) {
        throw new Error('BĹ‚Ä…d podczas wysyĹ‚ania formularza')
      }

      setShowSuccessModal(true)
      reset()
    } catch (error) {
      console.error('Error submitting form:', error)
      alert('WystÄ…piĹ‚ bĹ‚Ä…d podczas wysyĹ‚ania formularza. SprĂłbuj ponownie.')
    } finally {
      setIsSubmitting(false)
    }
  }

  const onCloseSuccessModal = () => {
    setShowSuccessModal(false)
  }

  return (
    <section id="kontakt" className="relative pb-2 md:pb-3 pt-0">
      {/* TĹ‚o sekcji */}
      <div
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.services_background}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/50" />
      </div>

      <div className="relative z-10 container mx-auto px-4 flex flex-col items-center">
        
        {/* Tekst nad formularzem */}
        <p className="text-white/90 text-lg md:text-xl text-center mb-8 drop-shadow-md font-serif italic pt-4 md:pt-6">
          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„â€ť
        </p>

        {/* Karta formularza - ĐĽĐ°ŃŃŃ‚Đ°Đ±Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ° Đ˝Đ° 20% */}
        <div className="w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-4 md:p-6 border border-[#3a2e24]/20 scale-[0.8] origin-top">
          
          {/* NagĹ‚Ăłwek formularza */}
          <h2 className="text-[#3a2e24] text-3xl md:text-4xl font-cormorant font-bold text-center mb-4 md:mb-5 border-b border-[#3a2e24]/10 pb-3">
            Formularz zgĹ‚oszeniowy
          </h2>

          <form onSubmit={handleSubmit(onSubmit)} className="space-y-3 md:space-y-4">
            
            {/* ImiÄ™ i Telefon - Grid */}
            <div className="grid grid-cols-1 gap-3 md:gap-4">
              {/* ImiÄ™ i nazwisko */}
              <div className="space-y-2">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  ImiÄ™ i nazwisko
                </label>
                <input
                  {...register('name')}
                  placeholder="Jan Kowalski"
                  className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250"
                />
                {errors.name && (
                  <p className="text-red-600 text-sm">{errors.name.message}</p>
                )}
              </div>

              {/* Telefon */}
              <div className="space-y-2">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  Numer telefonu
                </label>
                <Controller
                  name="phone"
                  control={control}
                  render={({ field }) => (
                    <CustomPhoneInput
                      value={field.value || ''}
                      onChange={field.onChange}
                    />
                  )}
                />
                {errors.phone && (
                  <p className="text-red-600 text-sm">{errors.phone.message}</p>
                )}
              </div>
            </div>

            {/* E-mail */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres e-mail
              </label>
              <input
                {...register('email')}
                type="email"
                placeholder="jan.kowalski@example.com"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250"
              />
              {errors.email && (
                <p className="text-red-600 text-sm">{errors.email.message}</p>
              )}
            </div>

            {/* Adres */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres
              </label>
              <input
                {...register('address')}
                placeholder="ul. PrzykĹ‚adowa 1, 50-001 WrocĹ‚aw"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250"
              />
              {errors.address && (
                <p className="text-red-600 text-sm">{errors.address.message}</p>
              )}
            </div>

            {/* Typ urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg mb-2">
                Typ urzÄ…dzenia
              </label>
              <div className="flex flex-wrap gap-3">
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <>
                      <CustomRadio
                        id="device-printer"
                        name="deviceType"
                        value="printer"
                        checked={field.value === 'printer'}
                        onChange={field.onChange}
                        label="Drukarka"
                      />
                      <CustomRadio
                        id="device-computer"
                        name="deviceType"
                        value="computer"
                        checked={field.value === 'computer'}
                        onChange={field.onChange}
                        label="Komputer / Laptop"
                      />
                      <CustomRadio
                        id="device-other"
                        name="deviceType"
                        value="other"
                        checked={field.value === 'other'}
                        onChange={field.onChange}
                        label="Inne urzÄ…dzenie"
                      />
                    </>
                  )}
                />
              </div>
              {errors.deviceType && (
                <p className="text-red-600 text-sm">{errors.deviceType.message}</p>
              )}
            </div>

            {/* Model urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Model urzÄ…dzenia
              </label>
              <input
                {...register('deviceModel')}
                placeholder="np. HP LaserJet Pro M404dn"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250"
              />
            </div>

            {/* Opis problemu */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Opis problemu
              </label>
              <textarea
                {...register('problemDescription')}
                rows={4}
                placeholder="ProszÄ™ opisaÄ‡ problem z urzÄ…dzeniem..."
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250 resize-y"
              />
              {errors.problemDescription && (
                <p className="text-red-600 text-sm">{errors.problemDescription.message}</p>
              )}
            </div>

            {/* Checkboxy */}
            <div className="space-y-3 pt-1">
              <Controller
                name="replacementPrinter"
                control={control}
                render={({ field }) => (
                  <CustomCheckbox
                    id="replacement-printer"
                    name="replacementPrinter"
                    checked={field.value}
                    onChange={field.onChange}
                    label="PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy."
                  />
                )}
              />

              <div className="space-y-1">
                <Controller
                  name="agreements"
                  control={control}
                  render={({ field }) => (
                    <CustomCheckbox
                      id="agreements"
                      name="agreements"
                      checked={field.value || false}
                      onChange={(e) => field.onChange(e.target.checked)}
                      label={
                        <>
                          OĹ›wiadczam, ĹĽe zapoznaĹ‚em/am siÄ™ z{' '}
                          <Link href="/polityka-prywatnosci" className="underline hover:text-black/70">
                            PolitykÄ… PrywatnoĹ›ci
                          </Link>{' '}
                          oraz{' '}
                          <Link href="/regulamin" className="underline hover:text-black/70">
                            Regulaminem
                          </Link>{' '}
                          i akceptujÄ™ ich postanowienia.
                        </>
                      }
                    />
                  )}
                />
                {errors.agreements && (
                  <p className="text-red-600 text-sm ml-8">{errors.agreements.message}</p>
                )}
              </div>
            </div>

            {/* Przycisk Submit */}
            <div className="pt-4 flex justify-center">
              <button
                type="submit"
                disabled={isSubmitting}
                className="relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-black/30 hover:border-2 hover:border-black/80 hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.1),0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:shadow-[inset_0_0_20px_rgba(0,0,0,0.1),0_0_4px_rgba(0,0,0,0.3)] rounded-full transition-all duration-250"
              >
                <span className="font-cormorant font-bold text-2xl text-black tracking-wide group-hover:text-black/80 flex items-center gap-2">
                  {isSubmitting && <Loader2 className="animate-spin h-5 w-5" />}
                  WyĹ›lij zgĹ‚oszenie
                </span>
              </button>
            </div>

          </form>
        </div>
      </div>

      {/* Success Modal */}
      <SuccessModal isOpen={showSuccessModal} onClose={onCloseSuccessModal} />
    </section>
  )
}


--- DIFFS ---


💡 DIFF: d47b0fa2-ff91-4a26-bfe7-b70c97367ba4
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"d47b0fa2-ff91-4a26-bfe7-b70c97367ba4","fileSizeBytes":14014,"numLines":325,"diffChanges":[{"originalStartLineNumberOneIndexed":104,"originalEndLineNumberExclusiveOneIndexed":105,"modifiedStartLineNumberOneIndexed":104,"modifiedEndLineNumberExclusiveOneIndexed":105,"addedLines":["        <div className=\"w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-4 md:p-6 border border-[#3a2e24]/20 scale-[0.8] origin-top mb-0\">"],"tokenizedAddedLines":[1000240]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: 9efb99fa-58b4-4b8c-bdb7-979f17e819b0 | Время: 11/25/2025 12:14:32 =====


--- METADATA ---

{"agentRequestId":"9efb99fa-58b4-4b8c-bdb7-979f17e819b0","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact-test.tsx","fileUuid":"e5c95f82-8a91-4c49-8ecc-3a2dbb5cb34e","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764069272335,"fileSizeBytes":13699,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: e5c95f82-8a91-4c49-8ecc-3a2dbb5cb34e
----------------------------------------

'use client'

import { useState } from 'react'
import { useForm, Controller } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import { Loader2 } from 'lucide-react'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'
import { CustomPhoneInput } from '@/components/ui/custom-phone-input'
import { CustomRadio } from '@/components/ui/custom-radio'
import { CustomCheckbox } from '@/components/ui/custom-checkbox'
import { SuccessModal } from '@/components/ui/success-modal'

// Schemat walidacji Zod
const formSchema = z.object({
  name: z.string().min(2, { message: 'ImiÄ™ i nazwisko musi mieÄ‡ min. 2 znaki' }),
  phone: z.string().min(9, { message: 'Numer telefonu jest za krĂłtki' }),
  email: z.string().email({ message: 'Niepoprawny adres e-mail' }),
  address: z.string().min(5, { message: 'Adres musi mieÄ‡ min. 5 znakĂłw' }),
  deviceType: z.enum(['printer', 'computer', 'other'], { required_error: 'Wybierz typ urzÄ…dzenia' }),
  deviceModel: z.string().optional(),
  problemDescription: z.string().min(10, { message: 'Opis problemu musi mieÄ‡ min. 10 znakĂłw' }),
  replacementPrinter: z.boolean().default(false),
  agreements: z.literal(true, { errorMap: () => ({ message: 'Musisz zaakceptowaÄ‡ regulamin' }) }),
})

type FormValues = z.infer<typeof formSchema>

export function ContactTest() {
  const [isSubmitting, setIsSubmitting] = useState(false)
  const [showSuccessModal, setShowSuccessModal] = useState(false)

  const {
    register,
    control,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      name: '',
      phone: '',
      email: '',
      address: '',
      deviceType: undefined,
      deviceModel: '',
      problemDescription: '',
      replacementPrinter: false,
      agreements: undefined,
    },
  })

  const onSubmit = async (data: FormValues) => {
    setIsSubmitting(true)
    try {
      const response = await fetch('/api/send-email', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      })

      if (!response.ok) {
        throw new Error('BĹ‚Ä…d podczas wysyĹ‚ania formularza')
      }

      setShowSuccessModal(true)
      reset()
    } catch (error) {
      console.error('Error submitting form:', error)
      alert('WystÄ…piĹ‚ bĹ‚Ä…d podczas wysyĹ‚ania formularza. SprĂłbuj ponownie.')
    } finally {
      setIsSubmitting(false)
    }
  }

  const onCloseSuccessModal = () => {
    setShowSuccessModal(false)
  }

  return (
    <section id="kontakt-test" className="relative pb-6 md:pb-10 pt-0">
      {/* TĹ‚o sekcji */}
      <div
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.services_background}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/50" />
      </div>

      <div className="relative z-10 container mx-auto px-4 flex flex-col items-center">
        
        {/* Tekst nad formularzem */}
        <p className="text-white/90 text-lg md:text-xl text-center mb-8 drop-shadow-md font-serif italic pt-4 md:pt-6">
          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„â€ť
        </p>

        {/* Karta formularza - ĐĽĐ°ŃŃŃ‚Đ°Đ±Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ° Đ˝Đ° 20% */}
        <div className="w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-4 md:p-6 border border-[#3a2e24]/20 scale-[0.8] origin-top">
          
          {/* NagĹ‚Ăłwek formularza */}
          <h2 className="text-[#3a2e24] text-3xl md:text-4xl font-cormorant font-bold text-center mb-4 md:mb-5 border-b border-[#3a2e24]/10 pb-3">
            Formularz zgĹ‚oszeniowy
          </h2>

          <form onSubmit={handleSubmit(onSubmit)} className="space-y-3 md:space-y-4">
            
            {/* ImiÄ™ i Telefon - Grid */}
            <div className="grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4">
              {/* ImiÄ™ i nazwisko */}
              <div className="space-y-2">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  ImiÄ™ i nazwisko
                </label>
                <input
                  {...register('name')}
                  placeholder="Jan Kowalski"
                  className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
                />
                {errors.name && (
                  <p className="text-red-600 text-sm">{errors.name.message}</p>
                )}
              </div>

              {/* Telefon */}
              <div className="space-y-2">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  Numer telefonu
                </label>
                <Controller
                  name="phone"
                  control={control}
                  render={({ field }) => (
                    <CustomPhoneInput
                      value={field.value || ''}
                      onChange={field.onChange}
                    />
                  )}
                />
                {errors.phone && (
                  <p className="text-red-600 text-sm">{errors.phone.message}</p>
                )}
              </div>
            </div>

            {/* E-mail */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres e-mail
              </label>
              <input
                {...register('email')}
                type="email"
                placeholder="jan.kowalski@example.com"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.email && (
                <p className="text-red-600 text-sm">{errors.email.message}</p>
              )}
            </div>

            {/* Adres */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres
              </label>
              <input
                {...register('address')}
                placeholder="ul. PrzykĹ‚adowa 1, 50-001 WrocĹ‚aw"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.address && (
                <p className="text-red-600 text-sm">{errors.address.message}</p>
              )}
            </div>

            {/* Typ urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg mb-2">
                Typ urzÄ…dzenia
              </label>
              <div className="flex flex-wrap gap-3">
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <>
                      <CustomRadio
                        id="device-printer"
                        name="deviceType"
                        value="printer"
                        checked={field.value === 'printer'}
                        onChange={field.onChange}
                        label="Drukarka"
                      />
                      <CustomRadio
                        id="device-computer"
                        name="deviceType"
                        value="computer"
                        checked={field.value === 'computer'}
                        onChange={field.onChange}
                        label="Komputer / Laptop"
                      />
                      <CustomRadio
                        id="device-other"
                        name="deviceType"
                        value="other"
                        checked={field.value === 'other'}
                        onChange={field.onChange}
                        label="Inne urzÄ…dzenie"
                      />
                    </>
                  )}
                />
              </div>
              {errors.deviceType && (
                <p className="text-red-600 text-sm">{errors.deviceType.message}</p>
              )}
            </div>

            {/* Model urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Model urzÄ…dzenia
              </label>
              <input
                {...register('deviceModel')}
                placeholder="np. HP LaserJet Pro M404dn"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
            </div>

            {/* Opis problemu */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Opis problemu
              </label>
              <textarea
                {...register('problemDescription')}
                rows={4}
                placeholder="ProszÄ™ opisaÄ‡ problem z urzÄ…dzeniem..."
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all resize-y"
              />
              {errors.problemDescription && (
                <p className="text-red-600 text-sm">{errors.problemDescription.message}</p>
              )}
            </div>

            {/* Checkboxy */}
            <div className="space-y-3 pt-1">
              <Controller
                name="replacementPrinter"
                control={control}
                render={({ field }) => (
                  <CustomCheckbox
                    id="replacement-printer"
                    name="replacementPrinter"
                    checked={field.value}
                    onChange={field.onChange}
                    label="PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy."
                  />
                )}
              />

              <div className="space-y-1">
                <Controller
                  name="agreements"
                  control={control}
                  render={({ field }) => (
                    <CustomCheckbox
                      id="agreements"
                      name="agreements"
                      checked={field.value || false}
                      onChange={(e) => field.onChange(e.target.checked)}
                      label={
                        <>
                          OĹ›wiadczam, ĹĽe zapoznaĹ‚em/am siÄ™ z{' '}
                          <Link href="/polityka-prywatnosci" className="underline hover:text-black/70">
                            PolitykÄ… PrywatnoĹ›ci
                          </Link>{' '}
                          oraz{' '}
                          <Link href="/regulamin" className="underline hover:text-black/70">
                            Regulaminem
                          </Link>{' '}
                          i akceptujÄ™ ich postanowienia.
                        </>
                      }
                    />
                  )}
                />
                {errors.agreements && (
                  <p className="text-red-600 text-sm ml-8">{errors.agreements.message}</p>
                )}
              </div>
            </div>

            {/* Przycisk Submit */}
            <div className="pt-4 flex justify-center">
              <button
                type="submit"
                disabled={isSubmitting}
                className="relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-black/30 shadow-[inset_0_0_20px_rgba(0,0,0,0.1)] hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.05)] rounded-full transition-all duration-300"
              >
                <span className="font-cormorant font-bold text-2xl text-black tracking-wide group-hover:text-black/80 flex items-center gap-2">
                  {isSubmitting && <Loader2 className="animate-spin h-5 w-5" />}
                  WyĹ›lij zgĹ‚oszenie
                </span>
              </button>
            </div>

          </form>
        </div>
      </div>

      {/* Success Modal */}
      <SuccessModal isOpen={showSuccessModal} onClose={onCloseSuccessModal} />
    </section>
  )
}



--- DIFFS ---


💡 DIFF: e5c95f82-8a91-4c49-8ecc-3a2dbb5cb34e
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact-test.tsx","fileUuid":"e5c95f82-8a91-4c49-8ecc-3a2dbb5cb34e","fileSizeBytes":13373,"numLines":326,"diffChanges":[{"originalStartLineNumberOneIndexed":114,"originalEndLineNumberExclusiveOneIndexed":115,"modifiedStartLineNumberOneIndexed":114,"modifiedEndLineNumberExclusiveOneIndexed":115,"addedLines":["            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4\">"],"tokenizedAddedLines":[1000240]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: a5e56201-d7ca-4ae9-a8a4-e443f5e5d786 | Время: 11/25/2025 13:07:32 =====


--- METADATA ---

{"agentRequestId":"a5e56201-d7ca-4ae9-a8a4-e443f5e5d786","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"c83d8fbd-fa14-466a-8788-7c5ab25a0da9","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"2f913777-579b-404f-b4c8-e6bc0023d3ec","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764072452053,"fileSizeBytes":16365,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 2f913777-579b-404f-b4c8-e6bc0023d3ec
----------------------------------------

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 65px; /* wysokoĹ›Ä‡ headera */
  }

  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .bg-paper-texture {
    background-image: url('/images/zmiety arkusz papieru 2.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }

  /* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş ŃŃ‚Ń€Đ°Đ˝ - ĐżĐľĐ´Đ»ĐľĐ¶ĐşĐ° Đ¸Đ· ŃĐĽŃŹŃ‚ĐľĐłĐľ Đ»Đ¸ŃŃ‚Đ° */
  .custom-dropdown {
    background-image: 
      linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)),
      url('/images/zmiety arkusz papieru 2.png') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
  }

  /* ĐˇĐşŃ€ĐľĐ»Đ»Đ±Đ°Ń€ Đ´Đ»ŃŹ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° ŃŃ‚Ń€Đ°Đ˝ */
  .custom-dropdown::-webkit-scrollbar {
    width: 8px;
  }

  .custom-dropdown::-webkit-scrollbar-track {
    background-image: 
      linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)),
      url('/images/zmiety arkusz papieru 2.png') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    border-radius: 4px;
  }

  .custom-dropdown::-webkit-scrollbar-thumb {
    background: rgba(58, 46, 36, 0.3) !important;
    border-radius: 4px;
  }

  .custom-dropdown::-webkit-scrollbar-thumb:hover {
    background: rgba(58, 46, 36, 0.5) !important;
  }

  /* Đ”Đ»ŃŹ Firefox */
  .custom-dropdown {
    scrollbar-width: thin;
    scrollbar-color: rgba(58, 46, 36, 0.3) transparent;
  }

  /* ĐĐ˝Đ¸ĐĽĐ°Ń†Đ¸ŃŹ ĐżĐľŃŹĐ˛Đ»ĐµĐ˝Đ¸ŃŹ ĐĽĐľĐ´Đ°Đ»ŃŚĐ˝ĐľĐłĐľ ĐľĐşĐ˝Đ° */
  @keyframes modalAppear {
    from {
      opacity: 0;
      transform: scale(0.9) translateY(-10px);
    }
    to {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }

  .animate-modal-appear {
    animation: modalAppear 0.3s ease-out;
  }

  /* ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ Đ˛ŃĐµŃ… ĐżĐľĐ»ĐµĐą Đ˛Đ˛ĐľĐ´Đ° */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input:not([type="radio"]):not([type="checkbox"]):not([type="submit"]):not([type="button"]):not([type="hidden"]) {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }

  textarea {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }

  input[type="text"]:-webkit-autofill,
  input[type="text"]:-webkit-autofill:hover,
  input[type="text"]:-webkit-autofill:focus,
  input[type="text"]:-webkit-autofill:active,
  input[type="email"]:-webkit-autofill,
  input[type="email"]:-webkit-autofill:hover,
  input[type="email"]:-webkit-autofill:focus,
  input[type="email"]:-webkit-autofill:active,
  input[type="tel"]:-webkit-autofill,
  input[type="tel"]:-webkit-autofill:hover,
  input[type="tel"]:-webkit-autofill:focus,
  input[type="tel"]:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #000000 !important;
    color: #000000 !important;
  }

  /* ĐˇĐżĐµŃ†Đ¸Ń„Đ¸Ń‡Đ˝Ń‹Đµ ŃŃ‚Đ¸Đ»Đ¸ Đ´Đ»ŃŹ ĐżŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝ĐľĐłĐľ Ń„ĐľĐ˝Đ° Đ˛ #kontakt Đ¸ #kontakt-test */
  #kontakt input[type="text"],
  #kontakt input[type="email"],
  #kontakt input[type="tel"],
  #kontakt input:not([type="radio"]):not([type="checkbox"]):not([type="submit"]):not([type="button"]):not([type="hidden"]),
  #kontakt-test input[type="text"],
  #kontakt-test input[type="email"],
  #kontakt-test input[type="tel"],
  #kontakt-test input:not([type="radio"]):not([type="checkbox"]):not([type="submit"]):not([type="button"]):not([type="hidden"]) {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }

  #kontakt textarea,
  #kontakt-test textarea {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }

  /* ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ Đ˛ŃĐµŃ… input Đ˛Đ˝ŃŃ‚Ń€Đ¸ #kontakt Đ¸ #kontakt-test ĐżŃ€Đ¸ autofill */
  #kontakt input:-webkit-autofill,
  #kontakt input:-webkit-autofill:hover,
  #kontakt input:-webkit-autofill:focus,
  #kontakt input:-webkit-autofill:active,
  #kontakt input[type="text"]:-webkit-autofill,
  #kontakt input[type="text"]:-webkit-autofill:hover,
  #kontakt input[type="text"]:-webkit-autofill:focus,
  #kontakt input[type="text"]:-webkit-autofill:active,
  #kontakt input[type="email"]:-webkit-autofill,
  #kontakt input[type="email"]:-webkit-autofill:hover,
  #kontakt input[type="email"]:-webkit-autofill:focus,
  #kontakt input[type="email"]:-webkit-autofill:active,
  #kontakt input[type="tel"]:-webkit-autofill,
  #kontakt input[type="tel"]:-webkit-autofill:hover,
  #kontakt input[type="tel"]:-webkit-autofill:focus,
  #kontakt input[type="tel"]:-webkit-autofill:active,
  #kontakt-test input:-webkit-autofill,
  #kontakt-test input:-webkit-autofill:hover,
  #kontakt-test input:-webkit-autofill:focus,
  #kontakt-test input:-webkit-autofill:active,
  #kontakt-test input[type="text"]:-webkit-autofill,
  #kontakt-test input[type="text"]:-webkit-autofill:hover,
  #kontakt-test input[type="text"]:-webkit-autofill:focus,
  #kontakt-test input[type="text"]:-webkit-autofill:active,
  #kontakt-test input[type="email"]:-webkit-autofill,
  #kontakt-test input[type="email"]:-webkit-autofill:hover,
  #kontakt-test input[type="email"]:-webkit-autofill:focus,
  #kontakt-test input[type="email"]:-webkit-autofill:active,
  #kontakt-test input[type="tel"]:-webkit-autofill,
  #kontakt-test input[type="tel"]:-webkit-autofill:hover,
  #kontakt-test input[type="tel"]:-webkit-autofill:focus,
  #kontakt-test input[type="tel"]:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #000000 !important;
    color: #000000 !important;
    transition: background-color 5000s ease-in-out 0s !important;
  }
}

🗂 FILE: c83d8fbd-fa14-466a-8788-7c5ab25a0da9
----------------------------------------

'use client'

import { useState, useRef, useEffect } from 'react'
import Image from 'next/image'
import { countries, Country, formatPhoneNumber } from '@/lib/countries'

interface CustomPhoneInputProps {
  value: string
  onChange: (value: string) => void
  className?: string
}

export function CustomPhoneInput({ value, onChange, className = '' }: CustomPhoneInputProps) {
  const [selectedCountry, setSelectedCountry] = useState<Country>(countries[1]) // ĐźĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ ĐźĐľĐ»ŃŚŃĐ°
  const [phoneNumber, setPhoneNumber] = useState('')
  const [isDropdownOpen, setIsDropdownOpen] = useState(false)
  const containerRef = useRef<HTMLDivElement>(null)
  const dropdownRef = useRef<HTMLDivElement>(null)
  const selectorRowRef = useRef<HTMLDivElement>(null)

  // ĐĐ˝Đ¸Ń†Đ¸Đ°Đ»Đ¸Đ·Đ°Ń†Đ¸ŃŹ: Đ¸Đ·Đ˛Đ»ĐµĐşĐ°ĐµĐĽ ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹ Đ¸ Đ˝ĐľĐĽĐµŃ€ Đ¸Đ· value
  useEffect(() => {
    if (value) {
      // ĐŃ‰ĐµĐĽ ŃŃ‚Ń€Đ°Đ˝Ń ĐżĐľ ĐşĐľĐ´Ń
      const country = countries.find(c => value.startsWith(c.dialCode))
      if (country) {
        setSelectedCountry(country)
        const number = value.replace(country.dialCode, '').trim().replace(/\D/g, '')
        // Đ¤ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ŃĐµĐĽ Đ˝ĐľĐĽĐµŃ€ ŃĐľĐłĐ»Đ°ŃĐ˝Đľ Ń„ĐľŃ€ĐĽĐ°Ń‚Ń ŃŃ‚Ń€Đ°Đ˝Ń‹
        if (country.phoneFormat && number.length > 0) {
          const formatted = formatPhoneNumber(number, country.phoneFormat)
          setPhoneNumber(formatted)
        } else {
          setPhoneNumber(number)
        }
      } else {
        setPhoneNumber(value)
      }
    }
  }, [])

  // Đ—Đ°ĐşŃ€Ń‹Ń‚Đ¸Đµ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° ĐżŃ€Đ¸ ĐşĐ»Đ¸ĐşĐµ Đ˛Đ˝Đµ ĐşĐľĐĽĐżĐľĐ˝ĐµĐ˝Ń‚Đ°
  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {
        setIsDropdownOpen(false)
      }
    }

    document.addEventListener('mousedown', handleClickOutside)
    return () => {
      document.removeEventListener('mousedown', handleClickOutside)
    }
  }, [])

  const calculateMaxDropdownWidth = () => {
    // Đ¤Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝Đ°ŃŹ ŃĐ¸Ń€Đ¸Đ˝Đ° Đ˝Đ° ĐľŃĐ˝ĐľĐ˛Đµ ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝ĐľĐłĐľ ŃĐľĐ´ĐµŃ€Đ¶Đ¸ĐĽĐľĐłĐľ
    // Đ¤Đ»Đ°Đł (20px) + gap (8px) + ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝ĐľĐµ Đ˝Đ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ŃŃ‚Ń€Đ°Đ˝Ń‹ (~150px) + gap (8px) + ĐşĐľĐ´ (~50px) + ĐşĐ˝ĐľĐżĐşĐ° (20px) + padding (32px)
    return 280
  }
  const fixedDropdownWidth = calculateMaxDropdownWidth()

  const handleCountrySelect = (country: Country) => {
    setSelectedCountry(country)
    setIsDropdownOpen(false)
    setPhoneNumber('') // Clear phone number on country change
    onChange(country.dialCode ? country.dialCode : '') // Set only dial code
  }

  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    let inputValue = e.target.value
    
    // ĐŁĐ´Đ°Đ»ŃŹĐµĐĽ Đ˛ŃĐµ Đ˝ĐµŃ†Đ¸Ń„Ń€ĐľĐ˛Ń‹Đµ ŃĐ¸ĐĽĐ˛ĐľĐ»Ń‹
    const digits = inputValue.replace(/\D/g, '')
    
    // Đ•ŃĐ»Đ¸ Đ˛Ń‹Đ±Ń€Đ°Đ˝Đ° ŃŃ‚Ń€Đ°Đ˝Đ° "other", ĐżŃ€ĐľŃŃ‚Đľ ŃĐľŃ…Ń€Đ°Đ˝ŃŹĐµĐĽ ĐşĐ°Đş ĐµŃŃ‚ŃŚ
    if (selectedCountry.code === 'other') {
      setPhoneNumber(inputValue)
      onChange(inputValue)
      return
    }

    // ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡Đ¸Đ˛Đ°ĐµĐĽ Đ´Đ»Đ¸Đ˝Ń Đ˝ĐľĐĽĐµŃ€Đ°
    if (selectedCountry.phoneLength && digits.length > selectedCountry.phoneLength) {
      return
    }

    // Đ¤ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ŃĐµĐĽ Đ˝ĐľĐĽĐµŃ€, ĐµŃĐ»Đ¸ ĐµŃŃ‚ŃŚ Ń„ĐľŃ€ĐĽĐ°Ń‚
    let formatted = digits
    if (selectedCountry.phoneFormat && digits.length > 0) {
      formatted = formatPhoneNumber(digits, selectedCountry.phoneFormat)
    }

    // ĐˇĐľŃ…Ń€Đ°Đ˝ŃŹĐµĐĽ ĐľŃ‚Ń„ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝Ń‹Đą Đ˝ĐľĐĽĐµŃ€ Đ´Đ»ŃŹ ĐľŃ‚ĐľĐ±Ń€Đ°Đ¶ĐµĐ˝Đ¸ŃŹ
    setPhoneNumber(formatted)

    // ĐžĐ±ŃŠĐµĐ´Đ¸Đ˝ŃŹĐµĐĽ ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹ Đ¸ Đ˝ĐľĐĽĐµŃ€ Đ´Đ»ŃŹ ĐľŃ‚ĐżŃ€Đ°Đ˛ĐşĐ¸
    const fullPhone = selectedCountry.dialCode ? `${selectedCountry.dialCode}${formatted.replace(/\s/g, '')}` : formatted
    onChange(fullPhone)
  }

  const getPlaceholder = () => {
    if (selectedCountry.code === 'other') {
      return 'WprowadĹş numer'
    }
    if (selectedCountry.phoneFormat) {
      return selectedCountry.phoneFormat
    }
    return 'xxx xxx xxx' // fallback
  }

  const displayName = selectedCountry.name.length > 12 
    ? selectedCountry.shortName 
    : selectedCountry.name

  return (
    <div ref={containerRef} className={`relative w-full flex items-start gap-0 ${className}`}>
      {/* ĐźĐµŃ€Đ˛Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: Đ¤Đ»Đ°Đł + ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ + ĐšĐľĐ´ (ŃĐżŃ€Đ°Đ˛Đ°) + ĐšĐ˝ĐľĐżĐşĐ° Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° */}
      <button
        type="button"
        ref={selectorRowRef}
        onClick={() => setIsDropdownOpen(!isDropdownOpen)}
        className="flex items-center gap-2 border border-black/60 rounded-sm px-4 py-2 cursor-pointer hover:border-black/80 transition-colors"
        style={{ height: '42px', width: `${fixedDropdownWidth}px`, minWidth: `${fixedDropdownWidth}px` }}
      >
        <Image
          src={selectedCountry.flagImage}
          alt={selectedCountry.name}
          width={20}
          height={15}
          className="object-contain flex-shrink-0 pointer-events-none"
          style={{ width: '20px', height: '15px' }}
        />
        <span className="text-black font-sans font-medium text-base leading-tight whitespace-nowrap flex-1 pointer-events-none">
          {displayName || selectedCountry.name}
        </span>
        {selectedCountry.dialCode ? (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap flex-shrink-0 pointer-events-none">
            {selectedCountry.dialCode}
          </span>
        ) : (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap opacity-50 flex-shrink-0 pointer-events-none">
            +
          </span>
        )}
        <span className="text-black text-lg pointer-events-none">â–Ľ</span>
      </button>

      {/* ĐźĐľĐ»Đµ Đ˛Đ˛ĐľĐ´Đ° (ĐłĐľŃ€Đ¸Đ·ĐľĐ˝Ń‚Đ°Đ»ŃŚĐ˝Đľ Ń€ŃŹĐ´ĐľĐĽ Ń ŃĐµĐ»ĐµĐşŃ‚ĐľŃ€ĐľĐĽ ŃŃ‚Ń€Đ°Đ˝Ń‹) */}
      <div className="flex-1">
        <input
          type="tel"
          value={phoneNumber} // Display only the number part
          onChange={handlePhoneChange}
          placeholder={getPlaceholder()}
          className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
          style={{ backgroundColor: 'transparent', height: '42px' }}
        />
      </div>

      {/* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş */}
      {isDropdownOpen && (
        <div
          ref={dropdownRef}
          className="absolute top-full left-0 mt-1 z-50 border border-black/20 rounded-lg shadow-lg max-h-64 overflow-y-auto custom-dropdown country-dropdown"
          style={{
            backgroundImage: 'linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)), url(/images/zmiety arkusz papieru 2.png)',
            backgroundSize: 'cover',
            backgroundPosition: 'center',
            backgroundRepeat: 'no-repeat',
            width: `${fixedDropdownWidth}px`,
            minWidth: `${fixedDropdownWidth}px`,
          }}
        >
          {countries.map((country) => (
            <button
              key={country.code}
              type="button"
              onClick={() => handleCountrySelect(country)}
              className="flex items-center gap-3 px-4 py-3 hover:bg-black/5 transition-colors text-left whitespace-nowrap w-full"
            >
              <Image
                src={country.flagImage}
                alt={country.name}
                width={24}
                height={18}
                className="object-contain flex-shrink-0"
              />
              <span className="flex-1 text-black font-sans font-medium text-base">
                {country.name}
              </span>
              {country.dialCode && (
                <span className="text-black font-sans text-sm opacity-70 whitespace-nowrap">
                  {country.dialCode}
                </span>
              )}
            </button>
          ))}
        </div>
      )}
    </div>
  )
}



--- DIFFS ---


💡 DIFF: 2f913777-579b-404f-b4c8-e6bc0023d3ec
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"2f913777-579b-404f-b4c8-e6bc0023d3ec","fileSizeBytes":6717,"numLines":191,"diffChanges":[{"originalStartLineNumberOneIndexed":79,"originalEndLineNumberExclusiveOneIndexed":79,"modifiedStartLineNumberOneIndexed":79,"modifiedEndLineNumberExclusiveOneIndexed":88,"addedLines":["","  /* Đ—ĐľĐ»ĐľŃ‚Đ¸ŃŃ‚Đ°ŃŹ ŃŃ‚Ń€ĐµĐ»ĐşĐ° Đ˛ ŃĐµĐ»ĐµĐşŃ‚ĐľŃ€Đµ ŃŃ‚Ń€Đ°Đ˝Ń‹ */","  .arrow-icon path {","    transition: fill 0.2s ease;","  }","  ","  .group:hover .arrow-icon path {","    fill: #ffd480;","  }"],"tokenizedAddedLines":[4,1000118,1000119,1000120,9,1000121,1000122,1000123,9]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

💡 DIFF: c83d8fbd-fa14-466a-8788-7c5ab25a0da9
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"c83d8fbd-fa14-466a-8788-7c5ab25a0da9","fileSizeBytes":8110,"numLines":217,"diffChanges":[{"originalStartLineNumberOneIndexed":123,"originalEndLineNumberExclusiveOneIndexed":124,"modifiedStartLineNumberOneIndexed":123,"modifiedEndLineNumberExclusiveOneIndexed":124,"addedLines":["        className=\"group flex items-center gap-2 border border-black/60 rounded-sm px-4 py-2 cursor-pointer hover:border-black/80 transition-colors\""],"tokenizedAddedLines":[1000167]},{"originalStartLineNumberOneIndexed":146,"originalEndLineNumberExclusiveOneIndexed":147,"modifiedStartLineNumberOneIndexed":146,"modifiedEndLineNumberExclusiveOneIndexed":159,"addedLines":["        <svg","          className=\"arrow-icon pointer-events-none flex-shrink-0\"","          width=\"12\"","          height=\"12\"","          viewBox=\"0 0 12 12\"","          fill=\"none\"","          xmlns=\"http://www.w3.org/2000/svg\"","        >","          <path","            d=\"M6 9L1 4h10L6 9z\"","            fill=\"#c9a34f\"","          />","        </svg>"],"tokenizedAddedLines":[1000168,1000169,1000170,1000171,1000172,1000173,1000174,139,1000175,1000176,1000177,1000178,1000179]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: ae9f797b-4953-4889-a99a-1ecb7af797a9 | Время: 11/25/2025 14:11:44 =====


--- METADATA ---

{"agentRequestId":"ae9f797b-4953-4889-a99a-1ecb7af797a9","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"c618ac86-1d1a-4ba5-ace3-445b48e2b52b","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"7f3df7df-4e3b-4526-93e7-a0379e73a97d","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-radio.tsx","fileUuid":"156512d0-4fbf-4536-add1-3e577b412ead","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-checkbox.tsx","fileUuid":"065f5745-ad1c-4585-a12d-dff35d1405d6","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764076304876,"fileSizeBytes":32236,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 065f5745-ad1c-4585-a12d-dff35d1405d6
----------------------------------------

'use client'

interface CustomCheckboxProps {
  id: string
  name: string
  checked: boolean
  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void
  label: string | React.ReactNode
}

export function CustomCheckbox({ id, name, checked, onChange, label }: CustomCheckboxProps) {
  return (
    <label htmlFor={id} className="flex items-start gap-4 cursor-pointer group">
      <div className="flex-shrink-0 relative mt-0.5">
        <input
          type="checkbox"
          id={id}
          name={name}
          checked={checked}
          onChange={onChange}
          className="sr-only"
        />
        <div
          className={`w-5 h-5 border-2 flex items-center justify-center transition-all duration-300 ${
            checked
              ? 'border-black bg-black'
              : 'border-black/60 bg-transparent group-hover:border-[#d4af37] group-hover:shadow-[0_0_4px_rgba(212,175,55,0.4)]'
          }`}
        >
          {checked && (
            <svg
              className="w-3 h-3 text-white"
              fill="none"
              strokeLinecap="round"
              strokeLinejoin="round"
              strokeWidth="2"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path d="M5 13l4 4L19 7" />
            </svg>
          )}
        </div>
      </div>
      <span className="text-black font-sans font-medium text-base leading-tight flex-1">
        {label}
      </span>
    </label>
  )
}



🗂 FILE: 156512d0-4fbf-4536-add1-3e577b412ead
----------------------------------------

'use client'

interface CustomRadioProps {
  id: string
  name: string
  value: string
  checked: boolean
  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void
  label: string
}

export function CustomRadio({ id, name, value, checked, onChange, label }: CustomRadioProps) {
  return (
    <label htmlFor={id} className="flex items-center gap-3 cursor-pointer group">
      <div className="flex-shrink-0 relative">
        <input
          type="radio"
          id={id}
          name={name}
          value={value}
          checked={checked}
          onChange={onChange}
          className="sr-only"
        />
        <div
          className={`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${
            checked
              ? 'border-black bg-black'
              : 'border-black/60 bg-transparent group-hover:border-[#d4af37] group-hover:shadow-[0_0_4px_rgba(212,175,55,0.4)]'
          }`}
        >
          {checked && (
            <div className="w-2.5 h-2.5 rounded-full bg-white" />
          )}
        </div>
      </div>
      <span className="text-black font-sans font-medium text-base leading-tight">
        {label}
      </span>
    </label>
  )
}



🗂 FILE: 7f3df7df-4e3b-4526-93e7-a0379e73a97d
----------------------------------------

'use client'

import { useState, useRef, useEffect } from 'react'
import Image from 'next/image'
import { countries, Country, formatPhoneNumber } from '@/lib/countries'

interface CustomPhoneInputProps {
  value: string
  onChange: (value: string) => void
  className?: string
}

export function CustomPhoneInput({ value, onChange, className = '' }: CustomPhoneInputProps) {
  const [selectedCountry, setSelectedCountry] = useState<Country>(countries[1]) // ĐźĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ ĐźĐľĐ»ŃŚŃĐ°
  const [phoneNumber, setPhoneNumber] = useState('')
  const [isDropdownOpen, setIsDropdownOpen] = useState(false)
  const containerRef = useRef<HTMLDivElement>(null)
  const dropdownRef = useRef<HTMLDivElement>(null)
  const selectorRowRef = useRef<HTMLDivElement>(null)

  // ĐĐ˝Đ¸Ń†Đ¸Đ°Đ»Đ¸Đ·Đ°Ń†Đ¸ŃŹ: Đ¸Đ·Đ˛Đ»ĐµĐşĐ°ĐµĐĽ ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹ Đ¸ Đ˝ĐľĐĽĐµŃ€ Đ¸Đ· value
  useEffect(() => {
    if (value) {
      // ĐŃ‰ĐµĐĽ ŃŃ‚Ń€Đ°Đ˝Ń ĐżĐľ ĐşĐľĐ´Ń
      const country = countries.find(c => value.startsWith(c.dialCode))
      if (country) {
        setSelectedCountry(country)
        const number = value.replace(country.dialCode, '').trim().replace(/\D/g, '')
        // Đ¤ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ŃĐµĐĽ Đ˝ĐľĐĽĐµŃ€ ŃĐľĐłĐ»Đ°ŃĐ˝Đľ Ń„ĐľŃ€ĐĽĐ°Ń‚Ń ŃŃ‚Ń€Đ°Đ˝Ń‹
        if (country.phoneFormat && number.length > 0) {
          const formatted = formatPhoneNumber(number, country.phoneFormat)
          setPhoneNumber(formatted)
        } else {
          setPhoneNumber(number)
        }
      } else {
        setPhoneNumber(value)
      }
    }
  }, [])

  // Đ—Đ°ĐşŃ€Ń‹Ń‚Đ¸Đµ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° ĐżŃ€Đ¸ ĐşĐ»Đ¸ĐşĐµ Đ˛Đ˝Đµ ĐşĐľĐĽĐżĐľĐ˝ĐµĐ˝Ń‚Đ°
  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {
        setIsDropdownOpen(false)
      }
    }

    document.addEventListener('mousedown', handleClickOutside)
    return () => {
      document.removeEventListener('mousedown', handleClickOutside)
    }
  }, [])

  const calculateMaxDropdownWidth = () => {
    // Đ¤Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝Đ°ŃŹ ŃĐ¸Ń€Đ¸Đ˝Đ° Đ˝Đ° ĐľŃĐ˝ĐľĐ˛Đµ ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝ĐľĐłĐľ ŃĐľĐ´ĐµŃ€Đ¶Đ¸ĐĽĐľĐłĐľ
    // Đ¤Đ»Đ°Đł (20px) + gap (8px) + ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝ĐľĐµ Đ˝Đ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ŃŃ‚Ń€Đ°Đ˝Ń‹ (~150px) + gap (8px) + ĐşĐľĐ´ (~50px) + ĐşĐ˝ĐľĐżĐşĐ° (20px) + padding (32px)
    return 280
  }
  const fixedDropdownWidth = calculateMaxDropdownWidth()

  const handleCountrySelect = (country: Country) => {
    setSelectedCountry(country)
    setIsDropdownOpen(false)
    setPhoneNumber('') // Clear phone number on country change
    onChange(country.dialCode ? country.dialCode : '') // Set only dial code
  }

  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    let inputValue = e.target.value
    
    // ĐŁĐ´Đ°Đ»ŃŹĐµĐĽ Đ˛ŃĐµ Đ˝ĐµŃ†Đ¸Ń„Ń€ĐľĐ˛Ń‹Đµ ŃĐ¸ĐĽĐ˛ĐľĐ»Ń‹
    const digits = inputValue.replace(/\D/g, '')
    
    // Đ•ŃĐ»Đ¸ Đ˛Ń‹Đ±Ń€Đ°Đ˝Đ° ŃŃ‚Ń€Đ°Đ˝Đ° "other", ĐżŃ€ĐľŃŃ‚Đľ ŃĐľŃ…Ń€Đ°Đ˝ŃŹĐµĐĽ ĐşĐ°Đş ĐµŃŃ‚ŃŚ
    if (selectedCountry.code === 'other') {
      setPhoneNumber(inputValue)
      onChange(inputValue)
      return
    }

    // ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡Đ¸Đ˛Đ°ĐµĐĽ Đ´Đ»Đ¸Đ˝Ń Đ˝ĐľĐĽĐµŃ€Đ°
    if (selectedCountry.phoneLength && digits.length > selectedCountry.phoneLength) {
      return
    }

    // Đ¤ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ŃĐµĐĽ Đ˝ĐľĐĽĐµŃ€, ĐµŃĐ»Đ¸ ĐµŃŃ‚ŃŚ Ń„ĐľŃ€ĐĽĐ°Ń‚
    let formatted = digits
    if (selectedCountry.phoneFormat && digits.length > 0) {
      formatted = formatPhoneNumber(digits, selectedCountry.phoneFormat)
    }

    // ĐˇĐľŃ…Ń€Đ°Đ˝ŃŹĐµĐĽ ĐľŃ‚Ń„ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝Ń‹Đą Đ˝ĐľĐĽĐµŃ€ Đ´Đ»ŃŹ ĐľŃ‚ĐľĐ±Ń€Đ°Đ¶ĐµĐ˝Đ¸ŃŹ
    setPhoneNumber(formatted)

    // ĐžĐ±ŃŠĐµĐ´Đ¸Đ˝ŃŹĐµĐĽ ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹ Đ¸ Đ˝ĐľĐĽĐµŃ€ Đ´Đ»ŃŹ ĐľŃ‚ĐżŃ€Đ°Đ˛ĐşĐ¸
    const fullPhone = selectedCountry.dialCode ? `${selectedCountry.dialCode}${formatted.replace(/\s/g, '')}` : formatted
    onChange(fullPhone)
  }

  const getPlaceholder = () => {
    if (selectedCountry.code === 'other') {
      return 'WprowadĹş numer'
    }
    if (selectedCountry.phoneFormat) {
      return selectedCountry.phoneFormat
    }
    return 'xxx xxx xxx' // fallback
  }

  const displayName = selectedCountry.name.length > 12 
    ? selectedCountry.shortName 
    : selectedCountry.name

  return (
    <div ref={containerRef} className={`relative w-full flex items-start gap-0 ${className}`}>
      {/* ĐźĐµŃ€Đ˛Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: Đ¤Đ»Đ°Đł + ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ + ĐšĐľĐ´ (ŃĐżŃ€Đ°Đ˛Đ°) + ĐšĐ˝ĐľĐżĐşĐ° Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° */}
      <button
        type="button"
        ref={selectorRowRef}
        onClick={() => setIsDropdownOpen(!isDropdownOpen)}
        className="group flex items-center gap-2 border border-black/60 rounded-sm px-4 py-2 cursor-pointer hover:border-[#d4af37] hover:bg-[rgba(255,255,200,0.1)] hover:shadow-[0_0_6px_rgba(212,175,55,0.5)] transition-all duration-300"
        style={{ height: '42px', width: `${fixedDropdownWidth}px`, minWidth: `${fixedDropdownWidth}px` }}
      >
        <Image
          src={selectedCountry.flagImage}
          alt={selectedCountry.name}
          width={20}
          height={15}
          className="object-contain flex-shrink-0 pointer-events-none"
          style={{ width: '20px', height: '15px' }}
        />
        <span className="text-black font-sans font-medium text-base leading-tight whitespace-nowrap flex-1 pointer-events-none">
          {displayName || selectedCountry.name}
        </span>
        {selectedCountry.dialCode ? (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap flex-shrink-0 pointer-events-none">
            {selectedCountry.dialCode}
          </span>
        ) : (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap opacity-50 flex-shrink-0 pointer-events-none">
            +
          </span>
        )}
        <svg
          className="arrow-icon pointer-events-none flex-shrink-0"
          width="12"
          height="12"
          viewBox="0 0 12 12"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M6 9L1 4h10L6 9z"
            fill="#000000"
          />
        </svg>
      </button>

      {/* ĐźĐľĐ»Đµ Đ˛Đ˛ĐľĐ´Đ° (ĐłĐľŃ€Đ¸Đ·ĐľĐ˝Ń‚Đ°Đ»ŃŚĐ˝Đľ Ń€ŃŹĐ´ĐľĐĽ Ń ŃĐµĐ»ĐµĐşŃ‚ĐľŃ€ĐľĐĽ ŃŃ‚Ń€Đ°Đ˝Ń‹) */}
      <div className="flex-1">
        <input
          type="tel"
          value={phoneNumber} // Display only the number part
          onChange={handlePhoneChange}
          placeholder={getPlaceholder()}
          className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-[#d4af37] hover:bg-[rgba(255,255,200,0.1)] hover:shadow-[0_0_6px_rgba(212,175,55,0.5)] focus:border-[#d4af37] focus:bg-[rgba(255,255,200,0.1)] focus:shadow-[0_0_6px_rgba(212,175,55,0.5)] focus:ring-1 focus:ring-[#d4af37] transition-all duration-300"
          style={{ backgroundColor: 'transparent', height: '42px' }}
        />
      </div>

      {/* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş */}
      {isDropdownOpen && (
        <div
          ref={dropdownRef}
          className="absolute top-full left-0 mt-1 z-50 border border-black/20 rounded-lg shadow-lg max-h-64 overflow-y-auto custom-dropdown country-dropdown"
          style={{
            backgroundImage: 'linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)), url(/images/zmiety arkusz papieru 2.png)',
            backgroundSize: 'cover',
            backgroundPosition: 'center',
            backgroundRepeat: 'no-repeat',
            width: `${fixedDropdownWidth}px`,
            minWidth: `${fixedDropdownWidth}px`,
          }}
        >
          {countries.map((country) => (
            <button
              key={country.code}
              type="button"
              onClick={() => handleCountrySelect(country)}
              className="flex items-center gap-3 px-4 py-3 hover:bg-black/5 transition-colors text-left whitespace-nowrap w-full"
            >
              <Image
                src={country.flagImage}
                alt={country.name}
                width={24}
                height={18}
                className="object-contain flex-shrink-0"
              />
              <span className="flex-1 text-black font-sans font-medium text-base">
                {country.name}
              </span>
              {country.dialCode && (
                <span className="text-black font-sans text-sm opacity-70 whitespace-nowrap">
                  {country.dialCode}
                </span>
              )}
            </button>
          ))}
        </div>
      )}
    </div>
  )
}



🗂 FILE: c618ac86-1d1a-4ba5-ace3-445b48e2b52b
----------------------------------------

'use client'

import { useState } from 'react'
import { useForm, Controller } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import { Loader2 } from 'lucide-react'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'
import { CustomPhoneInput } from '@/components/ui/custom-phone-input'
import { CustomRadio } from '@/components/ui/custom-radio'
import { CustomCheckbox } from '@/components/ui/custom-checkbox'
import { SuccessModal } from '@/components/ui/success-modal'

// Schemat walidacji Zod
const formSchema = z.object({
  name: z.string().min(2, { message: 'ImiÄ™ i nazwisko musi mieÄ‡ min. 2 znaki' }),
  phone: z.string().min(9, { message: 'Numer telefonu jest za krĂłtki' }),
  email: z.string().email({ message: 'Niepoprawny adres e-mail' }),
  address: z.string().min(5, { message: 'Adres musi mieÄ‡ min. 5 znakĂłw' }),
  deviceType: z.enum(['printer', 'computer', 'other'], { required_error: 'Wybierz typ urzÄ…dzenia' }),
  deviceModel: z.string().optional(),
  problemDescription: z.string().min(10, { message: 'Opis problemu musi mieÄ‡ min. 10 znakĂłw' }),
  replacementPrinter: z.boolean().default(false),
  agreements: z.literal(true, { errorMap: () => ({ message: 'Musisz zaakceptowaÄ‡ regulamin' }) }),
})

type FormValues = z.infer<typeof formSchema>

export function Contact() {
  const [isSubmitting, setIsSubmitting] = useState(false)
  const [showSuccessModal, setShowSuccessModal] = useState(false)

  const {
    register,
    control,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      name: '',
      phone: '',
      email: '',
      address: '',
      deviceType: undefined,
      deviceModel: '',
      problemDescription: '',
      replacementPrinter: false,
      agreements: undefined,
    },
  })

  const onSubmit = async (data: FormValues) => {
    setIsSubmitting(true)
    try {
      const response = await fetch('/api/send-email', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      })

      if (!response.ok) {
        throw new Error('BĹ‚Ä…d podczas wysyĹ‚ania formularza')
      }

      setShowSuccessModal(true)
      reset()
    } catch (error) {
      console.error('Error submitting form:', error)
      alert('WystÄ…piĹ‚ bĹ‚Ä…d podczas wysyĹ‚ania formularza. SprĂłbuj ponownie.')
    } finally {
      setIsSubmitting(false)
    }
  }

  const onCloseSuccessModal = () => {
    setShowSuccessModal(false)
  }

  return (
    <section id="kontakt" className="relative pb-6 md:pb-10 pt-0">
      {/* TĹ‚o sekcji */}
      <div
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.services_background}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/50" />
      </div>

      <div className="relative z-10 container mx-auto px-4 flex flex-col items-center">
        
        {/* Tekst nad formularzem */}
        <p className="text-white/90 text-lg md:text-xl text-center mb-8 drop-shadow-md font-serif italic pt-4 md:pt-6">
          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„â€ť
        </p>

        {/* Karta formularza - ĐĽĐ°ŃŃŃ‚Đ°Đ±Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ° Đ˝Đ° 20% */}
        <div className="w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-4 md:p-6 border border-[#3a2e24]/20 scale-[0.8] origin-top">
          
          {/* NagĹ‚Ăłwek formularza */}
          <h2 className="text-[#3a2e24] text-3xl md:text-4xl font-cormorant font-bold text-center mb-4 md:mb-5 border-b border-[#3a2e24]/10 pb-3">
            Formularz zgĹ‚oszeniowy
          </h2>

          <form onSubmit={handleSubmit(onSubmit)} className="space-y-3 md:space-y-4">
            
            {/* ImiÄ™ i Telefon - Grid */}
            <div className="grid grid-cols-1 gap-3 md:gap-4">
              {/* ImiÄ™ i nazwisko */}
              <div className="space-y-2">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  ImiÄ™ i nazwisko
                </label>
                <input
                  {...register('name')}
                  placeholder="Jan Kowalski"
                  className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-[#d4af37] hover:bg-[rgba(255,255,200,0.1)] hover:shadow-[0_0_6px_rgba(212,175,55,0.5)] focus:border-[#d4af37] focus:bg-[rgba(255,255,200,0.1)] focus:shadow-[0_0_6px_rgba(212,175,55,0.5)] focus:ring-1 focus:ring-[#d4af37] transition-all duration-300"
                />
                {errors.name && (
                  <p className="text-red-600 text-sm">{errors.name.message}</p>
                )}
              </div>

              {/* Telefon */}
              <div className="space-y-2">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  Numer telefonu
                </label>
                <Controller
                  name="phone"
                  control={control}
                  render={({ field }) => (
                    <CustomPhoneInput
                      value={field.value || ''}
                      onChange={field.onChange}
                    />
                  )}
                />
                {errors.phone && (
                  <p className="text-red-600 text-sm">{errors.phone.message}</p>
                )}
              </div>
            </div>

            {/* E-mail */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres e-mail
              </label>
              <input
                {...register('email')}
                type="email"
                placeholder="jan.kowalski@example.com"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.email && (
                <p className="text-red-600 text-sm">{errors.email.message}</p>
              )}
            </div>

            {/* Adres */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres
              </label>
              <input
                {...register('address')}
                placeholder="ul. PrzykĹ‚adowa 1, 50-001 WrocĹ‚aw"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.address && (
                <p className="text-red-600 text-sm">{errors.address.message}</p>
              )}
            </div>

            {/* Typ urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg mb-2">
                Typ urzÄ…dzenia
              </label>
              <div className="flex flex-wrap gap-3">
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <>
                      <CustomRadio
                        id="device-printer"
                        name="deviceType"
                        value="printer"
                        checked={field.value === 'printer'}
                        onChange={field.onChange}
                        label="Drukarka"
                      />
                      <CustomRadio
                        id="device-computer"
                        name="deviceType"
                        value="computer"
                        checked={field.value === 'computer'}
                        onChange={field.onChange}
                        label="Komputer / Laptop"
                      />
                      <CustomRadio
                        id="device-other"
                        name="deviceType"
                        value="other"
                        checked={field.value === 'other'}
                        onChange={field.onChange}
                        label="Inne urzÄ…dzenie"
                      />
                    </>
                  )}
                />
              </div>
              {errors.deviceType && (
                <p className="text-red-600 text-sm">{errors.deviceType.message}</p>
              )}
            </div>

            {/* Model urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Model urzÄ…dzenia
              </label>
              <input
                {...register('deviceModel')}
                placeholder="np. HP LaserJet Pro M404dn"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
            </div>

            {/* Opis problemu */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Opis problemu
              </label>
              <textarea
                {...register('problemDescription')}
                rows={4}
                placeholder="ProszÄ™ opisaÄ‡ problem z urzÄ…dzeniem..."
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-[#d4af37] hover:bg-[rgba(255,255,200,0.1)] hover:shadow-[0_0_6px_rgba(212,175,55,0.5)] focus:border-[#d4af37] focus:bg-[rgba(255,255,200,0.1)] focus:shadow-[0_0_6px_rgba(212,175,55,0.5)] focus:ring-1 focus:ring-[#d4af37] transition-all duration-300 resize-y"
              />
              {errors.problemDescription && (
                <p className="text-red-600 text-sm">{errors.problemDescription.message}</p>
              )}
            </div>

            {/* Checkboxy */}
            <div className="space-y-3 pt-1">
              <Controller
                name="replacementPrinter"
                control={control}
                render={({ field }) => (
                  <CustomCheckbox
                    id="replacement-printer"
                    name="replacementPrinter"
                    checked={field.value}
                    onChange={field.onChange}
                    label="PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy."
                  />
                )}
              />

              <div className="space-y-1">
                <Controller
                  name="agreements"
                  control={control}
                  render={({ field }) => (
                    <CustomCheckbox
                      id="agreements"
                      name="agreements"
                      checked={field.value || false}
                      onChange={(e) => field.onChange(e.target.checked)}
                      label={
                        <>
                          OĹ›wiadczam, ĹĽe zapoznaĹ‚em/am siÄ™ z{' '}
                          <Link href="/polityka-prywatnosci" className="underline hover:text-black/70">
                            PolitykÄ… PrywatnoĹ›ci
                          </Link>{' '}
                          oraz{' '}
                          <Link href="/regulamin" className="underline hover:text-black/70">
                            Regulaminem
                          </Link>{' '}
                          i akceptujÄ™ ich postanowienia.
                        </>
                      }
                    />
                  )}
                />
                {errors.agreements && (
                  <p className="text-red-600 text-sm ml-8">{errors.agreements.message}</p>
                )}
              </div>
            </div>

            {/* Przycisk Submit */}
            <div className="pt-4 flex justify-center">
              <button
                type="submit"
                disabled={isSubmitting}
                className="relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-black/30 hover:border-[#d4af37] shadow-[inset_0_0_20px_rgba(0,0,0,0.1)] hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.05),0_0_8px_rgba(212,175,55,0.4)] rounded-full transition-all duration-300"
              >
                <span className="font-cormorant font-bold text-2xl text-black tracking-wide group-hover:text-black/80 flex items-center gap-2">
                  {isSubmitting && <Loader2 className="animate-spin h-5 w-5" />}
                  WyĹ›lij zgĹ‚oszenie
                </span>
              </button>
            </div>

          </form>
        </div>
      </div>

      {/* Success Modal */}
      <SuccessModal isOpen={showSuccessModal} onClose={onCloseSuccessModal} />
    </section>
  )
}


--- DIFFS ---


💡 DIFF: 065f5745-ad1c-4585-a12d-dff35d1405d6
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-checkbox.tsx","fileUuid":"065f5745-ad1c-4585-a12d-dff35d1405d6","fileSizeBytes":1507,"numLines":52,"diffChanges":[{"originalStartLineNumberOneIndexed":24,"originalEndLineNumberExclusiveOneIndexed":25,"modifiedStartLineNumberOneIndexed":24,"modifiedEndLineNumberExclusiveOneIndexed":25,"addedLines":["          className={`w-5 h-5 border-2 flex items-center justify-center transition-all duration-250 ${"],"tokenizedAddedLines":[1000048]},{"originalStartLineNumberOneIndexed":27,"originalEndLineNumberExclusiveOneIndexed":28,"modifiedStartLineNumberOneIndexed":27,"modifiedEndLineNumberExclusiveOneIndexed":28,"addedLines":["              : 'border-black/60 bg-transparent group-hover:border-black/80 group-hover:bg-[rgba(0,0,0,0.05)] group-hover:shadow-[0_0_4px_rgba(0,0,0,0.3)]'"],"tokenizedAddedLines":[1000049]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

💡 DIFF: 156512d0-4fbf-4536-add1-3e577b412ead
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-radio.tsx","fileUuid":"156512d0-4fbf-4536-add1-3e577b412ead","fileSizeBytes":1254,"numLines":44,"diffChanges":[{"originalStartLineNumberOneIndexed":26,"originalEndLineNumberExclusiveOneIndexed":27,"modifiedStartLineNumberOneIndexed":26,"modifiedEndLineNumberExclusiveOneIndexed":27,"addedLines":["          className={`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-250 ${"],"tokenizedAddedLines":[1000040]},{"originalStartLineNumberOneIndexed":29,"originalEndLineNumberExclusiveOneIndexed":30,"modifiedStartLineNumberOneIndexed":29,"modifiedEndLineNumberExclusiveOneIndexed":30,"addedLines":["              : 'border-black/60 bg-transparent group-hover:border-black/80 group-hover:bg-[rgba(0,0,0,0.05)] group-hover:shadow-[0_0_4px_rgba(0,0,0,0.3)]'"],"tokenizedAddedLines":[1000041]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

💡 DIFF: 7f3df7df-4e3b-4526-93e7-a0379e73a97d
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"7f3df7df-4e3b-4526-93e7-a0379e73a97d","fileSizeBytes":8262,"numLines":217,"diffChanges":[{"originalStartLineNumberOneIndexed":123,"originalEndLineNumberExclusiveOneIndexed":124,"modifiedStartLineNumberOneIndexed":123,"modifiedEndLineNumberExclusiveOneIndexed":124,"addedLines":["        className=\"group flex items-center gap-2 border border-black/60 rounded-sm px-4 py-2 cursor-pointer hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250\""],"tokenizedAddedLines":[1000178]},{"originalStartLineNumberOneIndexed":168,"originalEndLineNumberExclusiveOneIndexed":169,"modifiedStartLineNumberOneIndexed":168,"modifiedEndLineNumberExclusiveOneIndexed":169,"addedLines":["          className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250\""],"tokenizedAddedLines":[1000179]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

💡 DIFF: c618ac86-1d1a-4ba5-ace3-445b48e2b52b
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"c618ac86-1d1a-4ba5-ace3-445b48e2b52b","fileSizeBytes":14010,"numLines":325,"diffChanges":[{"originalStartLineNumberOneIndexed":123,"originalEndLineNumberExclusiveOneIndexed":124,"modifiedStartLineNumberOneIndexed":123,"modifiedEndLineNumberExclusiveOneIndexed":124,"addedLines":["                  className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250\""],"tokenizedAddedLines":[1000240]},{"originalStartLineNumberOneIndexed":160,"originalEndLineNumberExclusiveOneIndexed":161,"modifiedStartLineNumberOneIndexed":160,"modifiedEndLineNumberExclusiveOneIndexed":161,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250\""],"tokenizedAddedLines":[1000241]},{"originalStartLineNumberOneIndexed":175,"originalEndLineNumberExclusiveOneIndexed":176,"modifiedStartLineNumberOneIndexed":175,"modifiedEndLineNumberExclusiveOneIndexed":176,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250\""],"tokenizedAddedLines":[1000241]},{"originalStartLineNumberOneIndexed":234,"originalEndLineNumberExclusiveOneIndexed":235,"modifiedStartLineNumberOneIndexed":234,"modifiedEndLineNumberExclusiveOneIndexed":235,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250\""],"tokenizedAddedLines":[1000241]},{"originalStartLineNumberOneIndexed":247,"originalEndLineNumberExclusiveOneIndexed":248,"modifiedStartLineNumberOneIndexed":247,"modifiedEndLineNumberExclusiveOneIndexed":248,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none hover:border-2 hover:border-black/80 hover:bg-[rgba(0,0,0,0.05)] hover:shadow-[0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:bg-[rgba(0,0,0,0.05)] focus:shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-250 resize-y\""],"tokenizedAddedLines":[1000242]},{"originalStartLineNumberOneIndexed":307,"originalEndLineNumberExclusiveOneIndexed":308,"modifiedStartLineNumberOneIndexed":307,"modifiedEndLineNumberExclusiveOneIndexed":308,"addedLines":["                className=\"relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-black/30 hover:border-2 hover:border-black/80 hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.1),0_0_4px_rgba(0,0,0,0.3)] focus:border-2 focus:border-black/80 focus:shadow-[inset_0_0_20px_rgba(0,0,0,0.1),0_0_4px_rgba(0,0,0,0.3)] rounded-full transition-all duration-250\""],"tokenizedAddedLines":[1000243]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: b3e1b223-737f-4ce6-862a-bff32ae2a966 | Время: 11/25/2025 12:31:10 =====


--- METADATA ---

{"agentRequestId":"b3e1b223-737f-4ce6-862a-bff32ae2a966","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"cf3fde42-3986-4b70-b58b-6b9f88e7638b","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764070270916,"fileSizeBytes":6090,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: cf3fde42-3986-4b70-b58b-6b9f88e7638b
----------------------------------------

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 65px; /* wysokoĹ›Ä‡ headera */
  }

  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .bg-paper-texture {
    background-image: url('/images/zmiety arkusz papieru 2.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }

  /* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş ŃŃ‚Ń€Đ°Đ˝ - ĐżĐľĐ´Đ»ĐľĐ¶ĐşĐ° Đ¸Đ· ŃĐĽŃŹŃ‚ĐľĐłĐľ Đ»Đ¸ŃŃ‚Đ° */
  .custom-dropdown {
    background-image: 
      linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)),
      url('/images/zmiety arkusz papieru 2.png') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
  }

  /* ĐˇĐşŃ€ĐľĐ»Đ»Đ±Đ°Ń€ Đ´Đ»ŃŹ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° ŃŃ‚Ń€Đ°Đ˝ */
  .custom-dropdown::-webkit-scrollbar {
    width: 8px;
  }

  .custom-dropdown::-webkit-scrollbar-track {
    background-image: 
      linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)),
      url('/images/zmiety arkusz papieru 2.png') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    border-radius: 4px;
  }

  .custom-dropdown::-webkit-scrollbar-thumb {
    background: rgba(58, 46, 36, 0.3) !important;
    border-radius: 4px;
  }

  .custom-dropdown::-webkit-scrollbar-thumb:hover {
    background: rgba(58, 46, 36, 0.5) !important;
  }

  /* Đ”Đ»ŃŹ Firefox */
  .custom-dropdown {
    scrollbar-width: thin;
    scrollbar-color: rgba(58, 46, 36, 0.3) transparent;
  }

  /* ĐĐ˝Đ¸ĐĽĐ°Ń†Đ¸ŃŹ ĐżĐľŃŹĐ˛Đ»ĐµĐ˝Đ¸ŃŹ ĐĽĐľĐ´Đ°Đ»ŃŚĐ˝ĐľĐłĐľ ĐľĐşĐ˝Đ° */
  @keyframes modalAppear {
    from {
      opacity: 0;
      transform: scale(0.9) translateY(-10px);
    }
    to {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }

  .animate-modal-appear {
    animation: modalAppear 0.3s ease-out;
  }

  /* ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ Đ˛ŃĐµŃ… ĐżĐľĐ»ĐµĐą Đ˛Đ˛ĐľĐ´Đ° */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input:not([type="radio"]):not([type="checkbox"]):not([type="submit"]):not([type="button"]):not([type="hidden"]) {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }

  textarea {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }

  input[type="text"]:-webkit-autofill,
  input[type="text"]:-webkit-autofill:hover,
  input[type="text"]:-webkit-autofill:focus,
  input[type="text"]:-webkit-autofill:active,
  input[type="email"]:-webkit-autofill,
  input[type="email"]:-webkit-autofill:hover,
  input[type="email"]:-webkit-autofill:focus,
  input[type="email"]:-webkit-autofill:active,
  input[type="tel"]:-webkit-autofill,
  input[type="tel"]:-webkit-autofill:hover,
  input[type="tel"]:-webkit-autofill:focus,
  input[type="tel"]:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #000000 !important;
    color: #000000 !important;
  }

  /* ĐˇĐżĐµŃ†Đ¸Ń„Đ¸Ń‡Đ˝Ń‹Đµ ŃŃ‚Đ¸Đ»Đ¸ Đ´Đ»ŃŹ ĐżŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝ĐľĐłĐľ Ń„ĐľĐ˝Đ° Đ˛ #kontakt-test */
  #kontakt-test input[type="text"],
  #kontakt-test input[type="email"],
  #kontakt-test input[type="tel"],
  #kontakt-test input:not([type="radio"]):not([type="checkbox"]):not([type="submit"]):not([type="button"]):not([type="hidden"]) {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }

  #kontakt-test textarea {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }

  #kontakt-test input[type="text"]:-webkit-autofill,
  #kontakt-test input[type="text"]:-webkit-autofill:hover,
  #kontakt-test input[type="text"]:-webkit-autofill:focus,
  #kontakt-test input[type="text"]:-webkit-autofill:active,
  #kontakt-test input[type="email"]:-webkit-autofill,
  #kontakt-test input[type="email"]:-webkit-autofill:hover,
  #kontakt-test input[type="email"]:-webkit-autofill:focus,
  #kontakt-test input[type="email"]:-webkit-autofill:active,
  #kontakt-test input[type="tel"]:-webkit-autofill,
  #kontakt-test input[type="tel"]:-webkit-autofill:hover,
  #kontakt-test input[type="tel"]:-webkit-autofill:focus,
  #kontakt-test input[type="tel"]:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #000000 !important;
    color: #000000 !important;
    transition: background-color 5000s ease-in-out 0s !important;
  }
}

--- DIFFS ---


💡 DIFF: cf3fde42-3986-4b70-b58b-6b9f88e7638b
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"cf3fde42-3986-4b70-b58b-6b9f88e7638b","fileSizeBytes":5501,"numLines":161,"diffChanges":[{"originalStartLineNumberOneIndexed":136,"originalEndLineNumberExclusiveOneIndexed":136,"modifiedStartLineNumberOneIndexed":136,"modifiedEndLineNumberExclusiveOneIndexed":141,"addedLines":["  /* ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ Đ˛ŃĐµŃ… input Đ˛Đ˝ŃŃ‚Ń€Đ¸ #kontakt-test ĐżŃ€Đ¸ autofill */","  #kontakt-test input:-webkit-autofill,","  #kontakt-test input:-webkit-autofill:hover,","  #kontakt-test input:-webkit-autofill:focus,","  #kontakt-test input:-webkit-autofill:active,"],"tokenizedAddedLines":[1000092,1000093,1000094,1000095,1000096]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: ba01441b-e2a9-4f8d-9dc6-1a777faa3f89 | Время: 11/25/2025 12:59:38 =====


--- METADATA ---

{"agentRequestId":"ba01441b-e2a9-4f8d-9dc6-1a777faa3f89","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\page.tsx","fileUuid":"05714dfe-f531-4abf-9589-083592334111","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764071978601,"fileSizeBytes":1196,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 05714dfe-f531-4abf-9589-083592334111
----------------------------------------

import { Header } from '@/components/header'
import { Hero } from '@/components/sections/hero'
import { About } from '@/components/sections/about'
import { Services } from '@/components/sections/services'
import { Contact } from '@/components/sections/contact'
import { Footer } from '@/components/footer'

export default function Home() {
  return (
    <>
      <Header />
      <Hero />
      <About />
      <Services />
      <Contact />
      <Footer />
    </>
  )
}

--- DIFFS ---


💡 DIFF: 05714dfe-f531-4abf-9589-083592334111
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\page.tsx","fileUuid":"05714dfe-f531-4abf-9589-083592334111","fileSizeBytes":473,"numLines":19,"diffChanges":[{"originalStartLineNumberOneIndexed":13,"originalEndLineNumberExclusiveOneIndexed":14,"modifiedStartLineNumberOneIndexed":13,"modifiedEndLineNumberExclusiveOneIndexed":13},{"originalStartLineNumberOneIndexed":15,"originalEndLineNumberExclusiveOneIndexed":15,"modifiedStartLineNumberOneIndexed":14,"modifiedEndLineNumberExclusiveOneIndexed":15,"addedLines":["      <About />"],"tokenizedAddedLines":[13]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: c4d0702b-8cea-4224-9bbd-7b9f1a20033f | Время: 11/25/2025 14:51:34 =====


--- METADATA ---

{"agentRequestId":"c4d0702b-8cea-4224-9bbd-7b9f1a20033f","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-radio.tsx","fileUuid":"7e5db144-a2f1-4db4-841b-63a38dad901c","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-checkbox.tsx","fileUuid":"8bf64370-46a0-40b2-976b-5bb43b057685","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764078694170,"fileSizeBytes":4246,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 7e5db144-a2f1-4db4-841b-63a38dad901c
----------------------------------------

'use client'

interface CustomRadioProps {
  id: string
  name: string
  value: string
  checked: boolean
  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void
  label: string
}

export function CustomRadio({ id, name, value, checked, onChange, label }: CustomRadioProps) {
  return (
    <label htmlFor={id} className="flex items-center gap-3 cursor-pointer group">
      <div className="flex-shrink-0 relative">
        <input
          type="radio"
          id={id}
          name={name}
          value={value}
          checked={checked}
          onChange={onChange}
          className="sr-only"
        />
        <div
          className={`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-250 ${
            checked
              ? 'border-black bg-white'
              : 'border-black/60 bg-transparent group-hover:border-black/80 group-hover:bg-[rgba(0,0,0,0.05)] group-hover:shadow-[0_0_4px_rgba(0,0,0,0.3)]'
          }`}
        >
          {checked && (
            <svg
              className="w-3 h-3 text-black"
              fill="none"
              strokeLinecap="round"
              strokeLinejoin="round"
              strokeWidth="3"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path d="M5 13l4 4L19 7" />
            </svg>
          )}
        </div>
      </div>
      <span className="text-black font-sans font-medium text-base leading-tight">
        {label}
      </span>
    </label>
  )
}



🗂 FILE: 8bf64370-46a0-40b2-976b-5bb43b057685
----------------------------------------

'use client'

interface CustomCheckboxProps {
  id: string
  name: string
  checked: boolean
  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void
  label: string | React.ReactNode
}

export function CustomCheckbox({ id, name, checked, onChange, label }: CustomCheckboxProps) {
  return (
    <label htmlFor={id} className="flex items-start gap-4 cursor-pointer group">
      <div className="flex-shrink-0 relative mt-0.5">
        <input
          type="checkbox"
          id={id}
          name={name}
          checked={checked}
          onChange={onChange}
          className="sr-only"
        />
        <div
          className={`w-5 h-5 border-2 flex items-center justify-center transition-all duration-250 ${
            checked
              ? 'border-black bg-white'
              : 'border-black/60 bg-transparent group-hover:border-black/80 group-hover:bg-[rgba(0,0,0,0.05)] group-hover:shadow-[0_0_4px_rgba(0,0,0,0.3)]'
          }`}
        >
          {checked && (
            <svg
              className="w-3 h-3 text-black"
              fill="none"
              strokeLinecap="round"
              strokeLinejoin="round"
              strokeWidth="3"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path d="M5 13l4 4L19 7" />
            </svg>
          )}
        </div>
      </div>
      <span className="text-black font-sans font-medium text-base leading-tight flex-1">
        {label}
      </span>
    </label>
  )
}



--- DIFFS ---


💡 DIFF: 7e5db144-a2f1-4db4-841b-63a38dad901c
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-radio.tsx","fileUuid":"7e5db144-a2f1-4db4-841b-63a38dad901c","fileSizeBytes":1530,"numLines":54,"diffChanges":[{"originalStartLineNumberOneIndexed":28,"originalEndLineNumberExclusiveOneIndexed":29,"modifiedStartLineNumberOneIndexed":28,"modifiedEndLineNumberExclusiveOneIndexed":29,"addedLines":["              ? 'border-black bg-transparent'"],"tokenizedAddedLines":[1000050]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

💡 DIFF: 8bf64370-46a0-40b2-976b-5bb43b057685
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-checkbox.tsx","fileUuid":"8bf64370-46a0-40b2-976b-5bb43b057685","fileSizeBytes":1513,"numLines":52,"diffChanges":[{"originalStartLineNumberOneIndexed":26,"originalEndLineNumberExclusiveOneIndexed":27,"modifiedStartLineNumberOneIndexed":26,"modifiedEndLineNumberExclusiveOneIndexed":27,"addedLines":["              ? 'border-black bg-transparent'"],"tokenizedAddedLines":[1000048]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: caf86360-4592-41c7-8f7a-94ffbd15d06f | Время: 11/25/2025 08:21:00 =====


--- METADATA ---

{"agentRequestId":"caf86360-4592-41c7-8f7a-94ffbd15d06f","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"f96406c6-61f9-4cd0-aeb6-47bce51dfa73","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}],"startTrackingDateUnixMilliseconds":1764055260846,"fileSizeBytes":8845,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: f96406c6-61f9-4cd0-aeb6-47bce51dfa73
----------------------------------------

'use client'

import { useState, useRef, useEffect } from 'react'
import Image from 'next/image'
import { countries, Country, formatPhoneNumber } from '@/lib/countries'

interface CustomPhoneInputProps {
  value: string
  onChange: (phone: string) => void
  defaultCountry?: string
  className?: string
}

export function CustomPhoneInput({
  value,
  onChange,
  defaultCountry = 'pl',
  className = '',
}: CustomPhoneInputProps) {
  const [selectedCountry, setSelectedCountry] = useState<Country>(
    countries.find(c => c.code === defaultCountry) || countries[1] // ĐżĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ ĐźĐľĐ»ŃŚŃĐ°
  )
  const [isDropdownOpen, setIsDropdownOpen] = useState(false)
  const [phoneNumber, setPhoneNumber] = useState('')
  const dropdownRef = useRef<HTMLDivElement>(null)
  const containerRef = useRef<HTMLDivElement>(null)

  // ĐĐ˝Đ¸Ń†Đ¸Đ°Đ»Đ¸Đ·Đ°Ń†Đ¸ŃŹ Đ¸Đ· value
  useEffect(() => {
    if (value) {
      // ĐźŃ‹Ń‚Đ°ĐµĐĽŃŃŹ ĐľĐżŃ€ĐµĐ´ĐµĐ»Đ¸Ń‚ŃŚ ŃŃ‚Ń€Đ°Đ˝Ń ĐżĐľ ĐşĐľĐ´Ń
      const dialCode = value.match(/^\+\d+/)?.[0]
      if (dialCode) {
        const country = countries.find(c => c.dialCode === dialCode)
        if (country) {
          setSelectedCountry(country)
          const number = value.replace(dialCode, '').trim().replace(/\s/g, '')
          setPhoneNumber(number)
        } else {
          // Đ•ŃĐ»Đ¸ ĐşĐľĐ´ Đ˝Đµ Đ˝Đ°ĐąĐ´ĐµĐ˝, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
          setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
          setPhoneNumber(value.replace(/^\+\d+\s*/, '').trim().replace(/\D/g, ''))
        }
      } else {
        // Đ•ŃĐ»Đ¸ Đ˝ĐµŃ‚ ĐşĐľĐ´Đ°, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
        setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
        setPhoneNumber(value.replace(/\D/g, ''))
      }
    }
  }, [value])

  // Đ—Đ°ĐşŃ€Ń‹Ń‚Đ¸Đµ dropdown ĐżŃ€Đ¸ ĐşĐ»Đ¸ĐşĐµ Đ˛Đ˝Đµ
  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (
        containerRef.current &&
        !containerRef.current.contains(event.target as Node)
      ) {
        setIsDropdownOpen(false)
      }
    }

    if (isDropdownOpen) {
      document.addEventListener('mousedown', handleClickOutside)
    }

    return () => {
      document.removeEventListener('mousedown', handleClickOutside)
    }
  }, [isDropdownOpen])

  const handleCountrySelect = (country: Country) => {
    setSelectedCountry(country)
    setIsDropdownOpen(false)
    // ĐžĐ±Đ˝ĐľĐ˛Đ»ŃŹĐµĐĽ Đ·Đ˝Đ°Ń‡ĐµĐ˝Đ¸Đµ Ń Đ˝ĐľĐ˛Ń‹ĐĽ ĐşĐľĐ´ĐľĐĽ ŃŃ‚Ń€Đ°Đ˝Ń‹
    const newValue = country.dialCode 
      ? `${country.dialCode} ${phoneNumber}`.trim()
      : phoneNumber
    onChange(newValue)
  }

  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    let input = e.target.value.replace(/\D/g, '') // Ń‚ĐľĐ»ŃŚĐşĐľ Ń†Đ¸Ń„Ń€Ń‹
    
    // ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡Đ¸Đ˛Đ°ĐµĐĽ Đ´Đ»Đ¸Đ˝Ń Đ´Đ»ŃŹ Đ¸Đ·Đ˛ĐµŃŃ‚Đ˝Ń‹Ń… ŃŃ‚Ń€Đ°Đ˝
    if (selectedCountry.phoneLength && selectedCountry.code !== 'other') {
      input = input.slice(0, selectedCountry.phoneLength)
    }
    
    setPhoneNumber(input)
    
    // Đ¤ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ŃĐµĐĽ Đ˝ĐľĐĽĐµŃ€
    let formatted = input
    if (selectedCountry.phoneFormat && selectedCountry.code !== 'other') {
      formatted = formatPhoneNumber(input, selectedCountry.phoneFormat)
    }
    
    // ĐžĐ±Đ˝ĐľĐ˛Đ»ŃŹĐµĐĽ Đ·Đ˝Đ°Ń‡ĐµĐ˝Đ¸Đµ
    const newValue = selectedCountry.dialCode
      ? `${selectedCountry.dialCode} ${formatted}`.trim()
      : formatted
    onChange(newValue)
  }

  // ĐžĐżŃ€ĐµĐ´ĐµĐ»ŃŹĐµĐĽ, ĐşĐ°ĐşĐľĐµ Đ˝Đ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ĐżĐľĐşĐ°Đ·Ń‹Đ˛Đ°Ń‚ŃŚ (ĐżĐľĐ»Đ˝ĐľĐµ Đ¸Đ»Đ¸ ŃĐľĐşŃ€Đ°Ń‰ĐµĐ˝Đ˝ĐľĐµ)
  const displayName = selectedCountry.name.length > 12 
    ? selectedCountry.shortName 
    : selectedCountry.name

  return (
    <div ref={containerRef} className={`relative w-full flex flex-col gap-2 ${className}`}>
      {/* ĐźĐµŃ€Đ˛Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: Đ¤Đ»Đ°Đł + ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ + ĐšĐľĐ´ + ĐšĐ˝ĐľĐżĐşĐ° Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° */}
      <div 
        className="flex items-center gap-2 border border-black/60 rounded-sm px-4 py-2"
        style={{ minWidth: '280px', height: '42px' }}
      >
        <Image
          src={selectedCountry.flagImage}
          alt={selectedCountry.name}
          width={20}
          height={15}
          className="object-contain flex-shrink-0"
          style={{ width: '20px', height: '15px' }}
        />
        <span className="text-black font-sans font-medium text-base leading-tight whitespace-nowrap">
          {displayName || selectedCountry.name}
        </span>
        {selectedCountry.dialCode ? (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap flex-shrink-0">
            {selectedCountry.dialCode}
          </span>
        ) : (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap opacity-50 flex-shrink-0">
            +
          </span>
        )}
        <button
          type="button"
          onClick={() => setIsDropdownOpen(!isDropdownOpen)}
          className="ml-auto hover:opacity-80 transition-opacity flex-shrink-0"
        >
          <span className="text-black text-lg">â–Ľ</span>
        </button>
      </div>

      {/* Đ’Ń‚ĐľŃ€Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: ĐźĐľĐ»Đµ Đ˛Đ˛ĐľĐ´Đ° */}
      <div className="w-full">
        <input
          type="tel"
          value={selectedCountry.phoneFormat && selectedCountry.code !== 'other' && phoneNumber
            ? formatPhoneNumber(phoneNumber, selectedCountry.phoneFormat)
            : phoneNumber}
          onChange={handlePhoneChange}
          placeholder={selectedCountry.code === 'other' ? 'WprowadĹş numer' : 'xxx xxx xxx'}
          className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
          style={{ backgroundColor: 'transparent', height: '42px' }}
        />
      </div>

      {/* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş */}
      {isDropdownOpen && (
        <div
          ref={dropdownRef}
          className="absolute top-full left-0 mt-1 z-50 bg-white border border-black/20 rounded-lg shadow-lg max-h-64 overflow-y-auto"
          style={{
            backgroundImage: 'linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)), url(/images/zmiety arkusz papieru 2.png)',
            backgroundSize: 'cover',
            backgroundPosition: 'center',
            backgroundRepeat: 'no-repeat',
            minWidth: '280px',
          }}
        >
          {countries.map((country) => (
            <button
              key={country.code}
              type="button"
              onClick={() => handleCountrySelect(country)}
              className="w-full flex items-center gap-3 px-4 py-3 hover:bg-black/5 transition-colors text-left"
            >
              <Image
                src={country.flagImage}
                alt={country.name}
                width={24}
                height={18}
                className="object-contain flex-shrink-0"
              />
              <span className="flex-1 text-black font-sans font-medium text-base">
                {country.name}
              </span>
              {country.dialCode && (
                <span className="text-black font-sans text-sm opacity-70 whitespace-nowrap">
                  {country.dialCode}
                </span>
              )}
            </button>
          ))}
        </div>
      )}
    </div>
  )
}



--- DIFFS ---


💡 DIFF: f96406c6-61f9-4cd0-aeb6-47bce51dfa73
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"f96406c6-61f9-4cd0-aeb6-47bce51dfa73","fileSizeBytes":7351,"numLines":203,"diffChanges":[{"originalStartLineNumberOneIndexed":111,"originalEndLineNumberExclusiveOneIndexed":113,"modifiedStartLineNumberOneIndexed":111,"modifiedEndLineNumberExclusiveOneIndexed":113,"addedLines":["    <div ref={containerRef} className={`relative w-full flex items-start gap-2 ${className}`}>","      {/* ĐźĐµŃ€Đ˛Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: Đ¤Đ»Đ°Đł + ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ + ĐšĐľĐ´ (ŃĐżŃ€Đ°Đ˛Đ°) + ĐšĐ˝ĐľĐżĐşĐ° Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° */}"],"tokenizedAddedLines":[1000171,1000172]},{"originalStartLineNumberOneIndexed":125,"originalEndLineNumberExclusiveOneIndexed":126,"modifiedStartLineNumberOneIndexed":125,"modifiedEndLineNumberExclusiveOneIndexed":126,"addedLines":["        <span className=\"text-black font-sans font-medium text-base leading-tight whitespace-nowrap flex-1\">"],"tokenizedAddedLines":[1000173]},{"originalStartLineNumberOneIndexed":140,"originalEndLineNumberExclusiveOneIndexed":141,"modifiedStartLineNumberOneIndexed":140,"modifiedEndLineNumberExclusiveOneIndexed":141,"addedLines":["          className=\"hover:opacity-80 transition-opacity flex-shrink-0\""],"tokenizedAddedLines":[1000174]},{"originalStartLineNumberOneIndexed":146,"originalEndLineNumberExclusiveOneIndexed":148,"modifiedStartLineNumberOneIndexed":146,"modifiedEndLineNumberExclusiveOneIndexed":148,"addedLines":["      {/* Đ’Ń‚ĐľŃ€Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: ĐźĐľĐ»Đµ Đ˛Đ˛ĐľĐ´Đ° (ĐłĐľŃ€Đ¸Đ·ĐľĐ˝Ń‚Đ°Đ»ŃŚĐ˝Đľ Đ·Đ° ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐľĐą) */}","      <div className=\"flex-1\">"],"tokenizedAddedLines":[1000175,1000176]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: ccfa6a79-33f8-44a6-a6c2-b5aca1f9da6c | Время: 11/25/2025 10:57:12 =====


--- METADATA ---

{"agentRequestId":"ccfa6a79-33f8-44a6-a6c2-b5aca1f9da6c","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\success-modal.tsx","fileUuid":"60d8c0cc-0056-430d-b881-d3487f145f64","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}],"startTrackingDateUnixMilliseconds":1764064632136,"fileSizeBytes":3416,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 60d8c0cc-0056-430d-b881-d3487f145f64
----------------------------------------

'use client'

import { useEffect } from 'react'
import manifest from '@/config/KANONICZNY_MANIFEST.json'

interface SuccessModalProps {
  isOpen: boolean
  onClose: () => void
}

export function SuccessModal({ isOpen, onClose }: SuccessModalProps) {
  // ĐĐ˛Ń‚ĐľĐ·Đ°ĐşŃ€Ń‹Ń‚Đ¸Đµ Ń‡ĐµŃ€ĐµĐ· 5 ŃĐµĐşŃĐ˝Đ´
  useEffect(() => {
    if (isOpen) {
      const timer = setTimeout(() => {
        onClose()
      }, 5000)
      return () => clearTimeout(timer)
    }
  }, [isOpen, onClose])

  if (!isOpen) return null

  return (
    <div
      className="fixed inset-0 z-50 flex items-center justify-center p-4"
      onClick={onClose}
    >
      {/* Đ—Đ°Ń‚ĐµĐĽĐ˝ĐµĐ˝Đ¸Đµ Ń„ĐľĐ˝Đ° */}
      <div className="absolute inset-0 bg-black/50 transition-opacity duration-300" />

      {/* ĐśĐľĐ´Đ°Đ»ŃŚĐ˝ĐľĐµ ĐľĐşĐ˝Đľ */}
      <div
        className="relative z-10 w-full max-w-md rounded-lg shadow-2xl transform transition-all duration-300"
        style={{
          backgroundImage: `url('${manifest.Background_1}')`,
          backgroundSize: 'cover',
          backgroundPosition: 'center',
          backgroundRepeat: 'no-repeat',
          animation: 'modalAppear 0.3s ease-out',
        }}
        onClick={(e) => e.stopPropagation()}
      >
        {/* Đ’Đ˝ŃŃ‚Ń€ĐµĐ˝Đ˝Đ¸Đą ĐşĐľĐ˝Ń‚ĐµĐ˝Ń‚ */}
        <div className="p-8 md:p-12 text-center">
          {/* Đ—Đ°ĐłĐľĐ»ĐľĐ˛ĐľĐş */}
          <h2 className="text-white font-cormorant text-5xl md:text-6xl font-bold mb-8 drop-shadow-lg leading-tight">
            DziÄ™kujemy za zgĹ‚oszenie!
          </h2>

          {/* Đ˘ĐµĐşŃŃ‚ ŃĐľĐľĐ±Ń‰ĐµĐ˝Đ¸ŃŹ */}
          <div className="space-y-4 mb-8">
            <p className="text-white font-cormorant text-lg md:text-xl leading-relaxed drop-shadow-md">
              Twoja wiadomoĹ›Ä‡ zostaĹ‚a pomyĹ›lnie wysĹ‚ana.
            </p>
            <p className="text-white font-cormorant text-base md:text-lg leading-relaxed drop-shadow-md">
              Skontaktujemy siÄ™ z TobÄ… w najbliĹĽszym czasie, aby potwierdziÄ‡ szczegĂłĹ‚y.
            </p>
            <p className="text-white font-cormorant text-base md:text-lg leading-relaxed drop-shadow-md italic">
              Prosimy o cierpliwoĹ›Ä‡ â€” Twoje zgĹ‚oszenie jest juĹĽ w dobrych rÄ™kach.
            </p>
          </div>

          {/* ĐšĐ˝ĐľĐżĐşĐ° OK */}
          <button
            onClick={onClose}
            className="mt-4 px-10 py-3 bg-white/10 border border-white/30 text-white font-cormorant text-lg font-semibold rounded-full hover:bg-white/20 hover:border-white/50 transition-all duration-300 hover:shadow-lg hover:-translate-y-1"
          >
            OK
          </button>
        </div>
      </div>
    </div>
  )
}



--- DIFFS ---


💡 DIFF: 60d8c0cc-0056-430d-b881-d3487f145f64
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\success-modal.tsx","fileUuid":"60d8c0cc-0056-430d-b881-d3487f145f64","fileSizeBytes":2662,"numLines":77,"diffChanges":[{"originalStartLineNumberOneIndexed":12,"originalEndLineNumberExclusiveOneIndexed":13,"modifiedStartLineNumberOneIndexed":12,"modifiedEndLineNumberExclusiveOneIndexed":13,"addedLines":["  // ĐĐ˛Ń‚ĐľĐ·Đ°ĐşŃ€Ń‹Ń‚Đ¸Đµ Ń‡ĐµŃ€ĐµĐ· 10 ŃĐµĐşŃĐ˝Đ´"],"tokenizedAddedLines":[1000065]},{"originalStartLineNumberOneIndexed":17,"originalEndLineNumberExclusiveOneIndexed":18,"modifiedStartLineNumberOneIndexed":17,"modifiedEndLineNumberExclusiveOneIndexed":18,"addedLines":["      }, 10000)"],"tokenizedAddedLines":[1000066]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: d14ed5bf-f480-4aa6-bc41-470a52101f66 | Время: 11/25/2025 09:01:03 =====


--- METADATA ---

{"agentRequestId":"d14ed5bf-f480-4aa6-bc41-470a52101f66","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact-test.tsx","fileUuid":"8651ac8c-66c1-4c42-bcf0-a31e4c66918e","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"20b0c398-391e-4256-98c0-ed19cdc57163","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"4ea28d25-71aa-40c7-9d36-5c074ab52495","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}],"startTrackingDateUnixMilliseconds":1764057662994,"fileSizeBytes":43099,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 20b0c398-391e-4256-98c0-ed19cdc57163
----------------------------------------

'use client'

import { useState, useRef, useEffect } from 'react'
import Image from 'next/image'
import { countries, Country, formatPhoneNumber } from '@/lib/countries'

interface CustomPhoneInputProps {
  value: string
  onChange: (phone: string) => void
  defaultCountry?: string
  className?: string
}

export function CustomPhoneInput({
  value,
  onChange,
  defaultCountry = 'pl',
  className = '',
}: CustomPhoneInputProps) {
  const [selectedCountry, setSelectedCountry] = useState<Country>(
    countries.find(c => c.code === defaultCountry) || countries[1] // ĐżĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ ĐźĐľĐ»ŃŚŃĐ°
  )
  const [isDropdownOpen, setIsDropdownOpen] = useState(false)
  const [phoneNumber, setPhoneNumber] = useState('')
  const dropdownRef = useRef<HTMLDivElement>(null)
  const containerRef = useRef<HTMLDivElement>(null)
  const selectorRowRef = useRef<HTMLDivElement>(null)
  
  // Đ’Ń‹Ń‡Đ¸ŃĐ»ŃŹĐµĐĽ ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝ŃŃŽ ŃĐ¸Ń€Đ¸Đ˝Ń Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° (Ń„Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝Đ°ŃŹ)
  const calculateMaxDropdownWidth = () => {
    // Đ¤Đ»Đ°Đł: 24px
    // Gap: 12px (gap-3)
    // ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ŃŃ‚Ń€Đ°Đ˝Ń‹ (ŃĐ°ĐĽĐľĐµ Đ´Đ»Đ¸Đ˝Đ˝ĐľĐµ "Wielka Brytania"): ~150px ĐżŃ€Đ¸ text-base
    // Gap: 12px
    // ĐšĐľĐ´ (ŃĐ°ĐĽŃ‹Đą Đ´Đ»Đ¸Đ˝Đ˝Ń‹Đą "+380"): ~40px
    // Padding: 32px (16px Ă— 2)
    // ĐŃ‚ĐľĐłĐľ: 24 + 12 + 150 + 12 + 40 + 32 = ~270px
    // Đ”ĐľĐ±Đ°Đ˛Đ»ŃŹĐµĐĽ Đ·Đ°ĐżĐ°Ń Đ´Đ»ŃŹ Đ±ĐµĐ·ĐľĐżĐ°ŃĐ˝ĐľŃŃ‚Đ¸
    return 280
  }
  
  const fixedDropdownWidth = calculateMaxDropdownWidth()

  // ĐĐ˝Đ¸Ń†Đ¸Đ°Đ»Đ¸Đ·Đ°Ń†Đ¸ŃŹ Đ¸Đ· value
  useEffect(() => {
    if (value) {
      // ĐźŃ‹Ń‚Đ°ĐµĐĽŃŃŹ ĐľĐżŃ€ĐµĐ´ĐµĐ»Đ¸Ń‚ŃŚ ŃŃ‚Ń€Đ°Đ˝Ń ĐżĐľ ĐşĐľĐ´Ń
      const dialCode = value.match(/^\+\d+/)?.[0]
      if (dialCode) {
        const country = countries.find(c => c.dialCode === dialCode)
        if (country) {
          setSelectedCountry(country)
          const number = value.replace(dialCode, '').trim().replace(/\s/g, '')
          setPhoneNumber(number)
        } else {
          // Đ•ŃĐ»Đ¸ ĐşĐľĐ´ Đ˝Đµ Đ˝Đ°ĐąĐ´ĐµĐ˝, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
          setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
          setPhoneNumber(value.replace(/^\+\d+\s*/, '').trim().replace(/\D/g, ''))
        }
      } else {
        // Đ•ŃĐ»Đ¸ Đ˝ĐµŃ‚ ĐşĐľĐ´Đ°, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
        setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
        setPhoneNumber(value.replace(/\D/g, ''))
      }
    }
  }, [value])

  // Đ—Đ°ĐşŃ€Ń‹Ń‚Đ¸Đµ dropdown ĐżŃ€Đ¸ ĐşĐ»Đ¸ĐşĐµ Đ˛Đ˝Đµ
  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (
        containerRef.current &&
        !containerRef.current.contains(event.target as Node)
      ) {
        setIsDropdownOpen(false)
      }
    }

    if (isDropdownOpen) {
      document.addEventListener('mousedown', handleClickOutside)
    }

    return () => {
      document.removeEventListener('mousedown', handleClickOutside)
    }
  }, [isDropdownOpen])

  // ĐŁŃŃ‚Đ°Đ˝Đ°Đ˛Đ»Đ¸Đ˛Đ°ĐµĐĽ Ń„Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝ŃŃŽ ŃĐ¸Ń€Đ¸Đ˝Ń Đ´Đ»ŃŹ ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐ¸ Đ¸ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ°
  useEffect(() => {
    if (selectorRowRef.current) {
      selectorRowRef.current.style.width = `${fixedDropdownWidth}px`
      selectorRowRef.current.style.minWidth = `${fixedDropdownWidth}px`
    }
  }, [fixedDropdownWidth])

  const handleCountrySelect = (country: Country) => {
    // ĐźŃ€Đ¸ ŃĐĽĐµĐ˝Đµ ŃŃ‚Ń€Đ°Đ˝Ń‹ ĐľŃ‡Đ¸Ń‰Đ°ĐµĐĽ Đ˛Đ˛ĐµĐ´ĐµĐ˝Đ˝Ń‹Đą Đ˝ĐľĐĽĐµŃ€
    setPhoneNumber('')
    setSelectedCountry(country)
    setIsDropdownOpen(false)
    
    // ĐŁŃŃ‚Đ°Đ˝Đ°Đ˛Đ»Đ¸Đ˛Đ°ĐµĐĽ Ń‚ĐľĐ»ŃŚĐşĐľ ĐşĐľĐ´ Đ˝ĐľĐ˛ĐľĐą ŃŃ‚Ń€Đ°Đ˝Ń‹ (Đ±ĐµĐ· Đ˝ĐľĐĽĐµŃ€Đ°)
    const newValue = country.dialCode ? country.dialCode : ''
    onChange(newValue)
  }

  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    let input = e.target.value.replace(/\D/g, '') // Ń‚ĐľĐ»ŃŚĐşĐľ Ń†Đ¸Ń„Ń€Ń‹
    
    // ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡Đ¸Đ˛Đ°ĐµĐĽ Đ´Đ»Đ¸Đ˝Ń Đ´Đ»ŃŹ Đ¸Đ·Đ˛ĐµŃŃ‚Đ˝Ń‹Ń… ŃŃ‚Ń€Đ°Đ˝
    if (selectedCountry.phoneLength && selectedCountry.code !== 'other') {
      input = input.slice(0, selectedCountry.phoneLength)
    }
    
    setPhoneNumber(input)
    
    // Đ¤ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ŃĐµĐĽ Đ˝ĐľĐĽĐµŃ€
    let formatted = input
    if (selectedCountry.phoneFormat && selectedCountry.code !== 'other') {
      formatted = formatPhoneNumber(input, selectedCountry.phoneFormat)
    }
    
    // ĐžĐ±Đ˝ĐľĐ˛Đ»ŃŹĐµĐĽ Đ·Đ˝Đ°Ń‡ĐµĐ˝Đ¸Đµ
    const newValue = selectedCountry.dialCode
      ? `${selectedCountry.dialCode} ${formatted}`.trim()
      : formatted
    onChange(newValue)
  }

  // ĐžĐżŃ€ĐµĐ´ĐµĐ»ŃŹĐµĐĽ, ĐşĐ°ĐşĐľĐµ Đ˝Đ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ĐżĐľĐşĐ°Đ·Ń‹Đ˛Đ°Ń‚ŃŚ (ĐżĐľĐ»Đ˝ĐľĐµ Đ¸Đ»Đ¸ ŃĐľĐşŃ€Đ°Ń‰ĐµĐ˝Đ˝ĐľĐµ)
  const displayName = selectedCountry.name.length > 12 
    ? selectedCountry.shortName 
    : selectedCountry.name

  // Đ“ĐµĐ˝ĐµŃ€Đ¸Ń€ŃĐµĐĽ placeholder Đ˝Đ° ĐľŃĐ˝ĐľĐ˛Đµ Ń„ĐľŃ€ĐĽĐ°Ń‚Đ° ŃŃ‚Ń€Đ°Đ˝Ń‹
  const getPlaceholder = () => {
    if (selectedCountry.code === 'other') {
      return 'WprowadĹş numer'
    }
    if (selectedCountry.phoneFormat) {
      return selectedCountry.phoneFormat
    }
    return 'xxx xxx xxx' // fallback
  }

  return (
    <div ref={containerRef} className={`relative w-full flex items-start gap-0 ${className}`}>
      {/* ĐźĐµŃ€Đ˛Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: Đ¤Đ»Đ°Đł + ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ + ĐšĐľĐ´ (ŃĐżŃ€Đ°Đ˛Đ°) + ĐšĐ˝ĐľĐżĐşĐ° Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° */}
      <div 
        ref={selectorRowRef}
        className="flex items-center gap-2 border border-black/60 rounded-sm px-4 py-2 country-selector-row"
        style={{ height: '42px', width: `${fixedDropdownWidth}px`, minWidth: `${fixedDropdownWidth}px` }}
      >
        <Image
          src={selectedCountry.flagImage}
          alt={selectedCountry.name}
          width={20}
          height={15}
          className="object-contain flex-shrink-0"
          style={{ width: '20px', height: '15px' }}
        />
        <span className="text-black font-sans font-medium text-base leading-tight whitespace-nowrap flex-1">
          {displayName || selectedCountry.name}
        </span>
        {selectedCountry.dialCode ? (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap flex-shrink-0">
            {selectedCountry.dialCode}
          </span>
        ) : (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap opacity-50 flex-shrink-0">
            +
          </span>
        )}
        <button
          type="button"
          onClick={() => setIsDropdownOpen(!isDropdownOpen)}
          className="hover:opacity-80 transition-opacity flex-shrink-0"
        >
          <span className="text-black text-lg">â–Ľ</span>
        </button>
      </div>

      {/* Đ’Ń‚ĐľŃ€Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: ĐźĐľĐ»Đµ Đ˛Đ˛ĐľĐ´Đ° (ĐłĐľŃ€Đ¸Đ·ĐľĐ˝Ń‚Đ°Đ»ŃŚĐ˝Đľ Đ·Đ° ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐľĐą) */}
      <div className="flex-1">
        <input
          type="tel"
          value={selectedCountry.phoneFormat && selectedCountry.code !== 'other' && phoneNumber
            ? formatPhoneNumber(phoneNumber, selectedCountry.phoneFormat)
            : phoneNumber}
          onChange={handlePhoneChange}
          placeholder={getPlaceholder()}
          className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/70 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
          style={{ backgroundColor: 'transparent', height: '42px' }}
        />
      </div>

      {/* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş */}
      {isDropdownOpen && (
        <div
          ref={dropdownRef}
          className="absolute top-full left-0 mt-1 z-50 border border-black/20 rounded-lg shadow-lg max-h-64 overflow-y-auto custom-dropdown country-dropdown"
          style={{
            backgroundImage: 'linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)), url(/images/zmiety arkusz papieru 2.png)',
            backgroundSize: 'cover',
            backgroundPosition: 'center',
            backgroundRepeat: 'no-repeat',
            width: `${fixedDropdownWidth}px`,
            minWidth: `${fixedDropdownWidth}px`,
          }}
        >
          {countries.map((country) => (
            <button
              key={country.code}
              type="button"
              onClick={() => handleCountrySelect(country)}
              className="flex items-center gap-3 px-4 py-3 hover:bg-black/5 transition-colors text-left whitespace-nowrap w-full"
            >
              <Image
                src={country.flagImage}
                alt={country.name}
                width={24}
                height={18}
                className="object-contain flex-shrink-0"
              />
              <span className="text-black font-sans font-medium text-base">
                {country.name}
              </span>
              {country.dialCode && (
                <span className="text-black font-sans text-sm opacity-70 whitespace-nowrap">
                  {country.dialCode}
                </span>
              )}
            </button>
          ))}
        </div>
      )}
    </div>
  )
}



🗂 FILE: 4ea28d25-71aa-40c7-9d36-5c074ab52495
----------------------------------------

'use client'

import { useState } from 'react'
import { useForm, Controller } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import PhoneInput from 'react-phone-input-2'
import 'react-phone-input-2/lib/style.css'
import { toast, Toaster } from 'sonner'
import { Loader2 } from 'lucide-react'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'

// Schemat walidacji Zod
const formSchema = z.object({
  name: z.string().min(2, { message: 'ImiÄ™ i nazwisko musi mieÄ‡ min. 2 znaki' }),
  phone: z.string().min(9, { message: 'Numer telefonu jest za krĂłtki' }),
  email: z.string().email({ message: 'Niepoprawny adres e-mail' }),
  address: z.string().min(5, { message: 'Adres musi mieÄ‡ min. 5 znakĂłw' }),
  deviceType: z.enum(['printer', 'computer'], { required_error: 'Wybierz typ urzÄ…dzenia' }),
  deviceModel: z.string().optional(),
  problemDescription: z.string().min(10, { message: 'Opis problemu musi mieÄ‡ min. 10 znakĂłw' }),
  replacementPrinter: z.boolean().default(false),
  agreements: z.literal(true, { errorMap: () => ({ message: 'Musisz zaakceptowaÄ‡ regulamin' }) }),
})

type FormValues = z.infer<typeof formSchema>

export function Contact() {
  const [isSubmitting, setIsSubmitting] = useState(false)

  const {
    register,
    control,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      name: '',
      phone: '',
      email: '',
      address: '',
      deviceType: undefined,
      deviceModel: '',
      problemDescription: '',
      replacementPrinter: false,
      agreements: undefined,
    },
  })

  const onSubmit = async (data: FormValues) => {
    setIsSubmitting(true)
    // Symulacja wysyĹ‚ki
    await new Promise((resolve) => setTimeout(resolve, 1500))
    console.log('Form data:', data)
    setIsSubmitting(false)
    toast.success('ZgĹ‚oszenie wysĹ‚ane pomyĹ›lnie!')
    reset()
  }

  return (
    <section id="kontakt" className="relative py-12 md:py-20">
      <Toaster position="bottom-center" />
      
      {/* TĹ‚o sekcji */}
      <div
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.services_background}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/50" />
      </div>

      <div className="relative z-10 container mx-auto px-4 flex flex-col items-center">
        
        {/* Tekst nad formularzem */}
        <p className="text-[22px] text-[#fff8e7] font-cormorant italic font-semibold text-center mb-8 drop-shadow-2xl">
          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„"
        </p>

        {/* Karta formularza */}
        <div className="w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-6 md:p-10 border border-[#3a2e24]/20">
          
          {/* NagĹ‚Ăłwek formularza */}
          <h2 className="text-[#3a2e24] text-3xl md:text-4xl font-cormorant font-bold text-center mb-8 border-b border-[#3a2e24]/10 pb-4">
            Formularz zgĹ‚oszeniowy
          </h2>

          <form onSubmit={handleSubmit(onSubmit)} className="space-y-6">
            
            {/* ImiÄ™ i Telefon - Grid */}
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              {/* ImiÄ™ i nazwisko */}
              <div className="space-y-2">
                <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                  ImiÄ™ i nazwisko
                </label>
                <input
                  {...register('name')}
                  placeholder="Jan Kowalski"
                  className="w-full !bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/70 focus:outline-none focus:!bg-transparent focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all"
                  style={{ backgroundColor: 'transparent' }}
                />
                {errors.name && (
                  <p className="text-red-600 text-sm">{errors.name.message}</p>
                )}
              </div>

              {/* Telefon */}
              <div className="space-y-2">
                <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                  Numer telefonu
                </label>
                <div className="phone-input-container">
                  <Controller
                    name="phone"
                    control={control}
                    render={({ field }) => (
                      <PhoneInput
                        country={'pl'}
                        value={field.value}
                        onChange={(phone) => field.onChange(phone)}
                        onlyCountries={['ua', 'pl', 'de', 'cz', 'sk', 'lt', 'gb']}
                        preferredCountries={['ua']}
                        inputClass="!w-full !bg-transparent !border-[#3a2e24]/60 !text-[#3a2e24] !h-[42px] !rounded-sm !pl-[48px]"
                        buttonClass="!bg-transparent !border-[#3a2e24]/60 !rounded-l-sm !border-r-0"
                        dropdownClass="!text-[#3a2e24] paper-dropdown-bg"
                      />
                    )}
                  />
                </div>
                {errors.phone && (
                  <p className="text-red-600 text-sm">{errors.phone.message}</p>
                )}
              </div>
            </div>

            {/* E-mail */}
            <div className="space-y-2">
              <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                Adres e-mail
              </label>
              <input
                {...register('email')}
                type="email"
                placeholder="jan.kowalski@example.com"
                className="w-full !bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/70 focus:outline-none focus:!bg-transparent focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all"
                style={{ backgroundColor: 'transparent' }}
              />
              {errors.email && (
                <p className="text-red-600 text-sm">{errors.email.message}</p>
              )}
            </div>

            {/* Adres */}
            <div className="space-y-2">
              <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                Adres
              </label>
              <input
                {...register('address')}
                placeholder="ul. PrzykĹ‚adowa 1, 50-001 WrocĹ‚aw"
                className="w-full !bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/70 focus:outline-none focus:!bg-transparent focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all"
                style={{ backgroundColor: 'transparent' }}
              />
              {errors.address && (
                <p className="text-red-600 text-sm">{errors.address.message}</p>
              )}
            </div>

            {/* Typ urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-[#3a2e24] font-bold font-cormorant text-lg mb-2">
                Typ urzÄ…dzenia
              </label>
              <div className="flex gap-6">
                <label className="flex items-center gap-2 cursor-pointer">
                  <input
                    type="radio"
                    value="printer"
                    {...register('deviceType')}
                    className="accent-[#bfa76a] w-5 h-5"
                  />
                  <span className="text-[#3a2e24]">Drukarka</span>
                </label>
                <label className="flex items-center gap-2 cursor-pointer">
                  <input
                    type="radio"
                    value="computer"
                    {...register('deviceType')}
                    className="accent-[#bfa76a] w-5 h-5"
                  />
                  <span className="text-[#3a2e24]">Komputer / Laptop</span>
                </label>
              </div>
              {errors.deviceType && (
                <p className="text-red-600 text-sm">{errors.deviceType.message}</p>
              )}
            </div>

            {/* Model urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                Model urzÄ…dzenia
              </label>
              <input
                {...register('deviceModel')}
                placeholder="np. HP LaserJet Pro M404dn"
                className="w-full !bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/70 focus:outline-none focus:!bg-transparent focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all"
                style={{ backgroundColor: 'transparent' }}
              />
            </div>

            {/* Opis problemu */}
            <div className="space-y-2">
              <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                Opis problemu
              </label>
              <textarea
                {...register('problemDescription')}
                rows={4}
                placeholder="ProszÄ™ opisaÄ‡ problem z urzÄ…dzeniem..."
                className="w-full !bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/70 focus:outline-none focus:!bg-transparent focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all resize-y"
              />
              {errors.problemDescription && (
                <p className="text-red-600 text-sm">{errors.problemDescription.message}</p>
              )}
            </div>

            {/* Checkboxy */}
            <div className="space-y-4 pt-2">
              <label className="flex items-start gap-3 cursor-pointer group">
                <input
                  type="checkbox"
                  {...register('replacementPrinter')}
                  className="mt-1 accent-[#bfa76a] w-5 h-5"
                />
                <span className="text-[#3a2e24] group-hover:text-[#bfa76a] transition-colors">
                  PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy.
                </span>
              </label>

              <div className="space-y-1">
                <label className="flex items-start gap-3 cursor-pointer group">
                  <input
                    type="checkbox"
                    {...register('agreements')}
                    className="mt-1 accent-[#bfa76a] w-5 h-5"
                  />
                  <span className="text-[#3a2e24] text-sm">
                    OĹ›wiadczam, ĹĽe zapoznaĹ‚em/am siÄ™ z{' '}
                    <Link href="/polityka-prywatnosci" className="underline hover:text-[#bfa76a]">
                      PolitykÄ… PrywatnoĹ›ci
                    </Link>{' '}
                    oraz{' '}
                    <Link href="/regulamin" className="underline hover:text-[#bfa76a]">
                      Regulaminem
                    </Link>{' '}
                    i akceptujÄ™ ich postanowienia.
                  </span>
                </label>
                {errors.agreements && (
                  <p className="text-red-600 text-sm ml-8">{errors.agreements.message}</p>
                )}
              </div>
            </div>

            {/* Przycisk Submit */}
            <div className="pt-6 flex justify-center">
              <button
                type="submit"
                disabled={isSubmitting}
                className="relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-[#3a2e24]/30 shadow-[inset_0_0_20px_rgba(0,0,0,0.1)] hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.05)] rounded-sm transition-all duration-300"
              >
                <span className="font-cormorant font-bold text-2xl text-[#3a2e24] tracking-wide group-hover:text-black flex items-center gap-2">
                  {isSubmitting && <Loader2 className="animate-spin h-5 w-5" />}
                  WyĹ›lij zgĹ‚oszenie
                </span>
              </button>
            </div>

          </form>
        </div>
      </div>
    </section>
  )
}


🗂 FILE: 8651ac8c-66c1-4c42-bcf0-a31e4c66918e
----------------------------------------

'use client'

import { useState, useEffect, useRef } from 'react'
import { useForm, Controller } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import { toast, Toaster } from 'sonner'
import { Loader2 } from 'lucide-react'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'
import { CustomRadio } from '@/components/ui/custom-radio'
import { CustomCheckbox } from '@/components/ui/custom-checkbox'
import { CustomPhoneInput } from '@/components/ui/custom-phone-input'

// Schemat walidacji Zod
const formSchema = z.object({
  name: z.string().min(2, { message: 'ImiÄ™ i nazwisko musi mieÄ‡ min. 2 znaki' }),
  phone: z.string().refine((val) => {
    // Đ•ŃĐ»Đ¸ Đ˝ĐľĐĽĐµŃ€ ŃĐľĐ´ĐµŃ€Đ¶Đ¸Ń‚ "other" Đ¸Đ»Đ¸ ĐżŃŃŃ‚ĐľĐą ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹, ĐżŃ€ĐľĐżŃŃĐşĐ°ĐµĐĽ Đ˛Đ°Đ»Đ¸Đ´Đ°Ń†Đ¸ŃŽ
    if (!val || val.trim() === '') return false
    // ĐźŃ€ĐľĐ˛ĐµŃ€ŃŹĐµĐĽ, ĐµŃŃ‚ŃŚ Đ»Đ¸ ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹ (Đ˝Đ°Ń‡Đ¸Đ˝Đ°ĐµŃ‚ŃŃŹ Ń +)
    if (!val.startsWith('+')) return false
    // ĐśĐ¸Đ˝Đ¸ĐĽĐ°Đ»ŃŚĐ˝Đ°ŃŹ Đ´Đ»Đ¸Đ˝Đ° Ń ĐşĐľĐ´ĐľĐĽ ŃŃ‚Ń€Đ°Đ˝Ń‹
    return val.replace(/\D/g, '').length >= 10
  }, { message: 'Numer telefonu jest niepoprawny' }),
  email: z.string().email({ message: 'Niepoprawny adres e-mail' }),
  address: z.string().min(5, { message: 'Adres musi mieÄ‡ min. 5 znakĂłw' }),
  deviceType: z.enum(['printer', 'computer', 'other'], { message: 'Wybierz typ urzÄ…dzenia' }),
  deviceModel: z.string().optional(),
  problemDescription: z.string().min(10, { message: 'Opis problemu musi mieÄ‡ min. 10 znakĂłw' }),
  replacementPrinter: z.boolean(),
  agreements: z.literal(true, { message: 'Musisz zaakceptowaÄ‡ regulamin' }),
})

type FormValues = z.infer<typeof formSchema>

export function ContactTest() {
  const [isSubmitting, setIsSubmitting] = useState(false)
  const formRef = useRef<HTMLFormElement>(null)

  const {
    register,
    control,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      name: '',
      phone: '',
      email: '',
      address: '',
      deviceType: undefined,
      deviceModel: '',
      problemDescription: '',
      replacementPrinter: false,
      agreements: undefined,
    },
  })

  // ĐźŃ€Đ¸Đ˝ŃĐ´Đ¸Ń‚ĐµĐ»ŃŚĐ˝ĐľĐµ ĐżŃ€Đ¸ĐĽĐµĐ˝ĐµĐ˝Đ¸Đµ ĐżŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝ĐľĐłĐľ Ń„ĐľĐ˝Đ° ĐżĐľŃĐ»Đµ Đ°Đ˛Ń‚ĐľĐ·Đ°ĐżĐľĐ»Đ˝ĐµĐ˝Đ¸ŃŹ
  useEffect(() => {
    const fixAutofillStyles = () => {
      if (formRef.current) {
        const inputs = formRef.current.querySelectorAll<HTMLInputElement>(
          'input[type="text"], input[type="email"], input[type="tel"]'
        )
        
        inputs.forEach((input) => {
          // Đ¤ŃĐ˝ĐşŃ†Đ¸ŃŹ Đ´Đ»ŃŹ ĐżŃ€Đ¸ĐĽĐµĐ˝ĐµĐ˝Đ¸ŃŹ ĐżŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝ĐľĐłĐľ Ń„ĐľĐ˝Đ°
          const applyTransparent = () => {
            input.style.setProperty('background-color', 'transparent', 'important')
            input.style.setProperty('background', 'transparent', 'important')
            input.style.setProperty('-webkit-box-shadow', '0 0 0 1000px transparent inset', 'important')
            input.style.setProperty('box-shadow', '0 0 0 1000px transparent inset', 'important')
          }
          
          // ĐźŃ€Đ¸ĐĽĐµĐ˝ŃŹĐµĐĽ ŃŃ€Đ°Đ·Ń
          applyTransparent()
          
          // ĐžĐ±Ń€Đ°Đ±ĐľŃ‚Ń‡Đ¸ĐşĐ¸ ŃĐľĐ±Ń‹Ń‚Đ¸Đą
          input.addEventListener('input', applyTransparent)
          input.addEventListener('change', applyTransparent)
          input.addEventListener('focus', applyTransparent)
          input.addEventListener('blur', applyTransparent)
          
          // ĐžĐ±Ń€Đ°Đ±ĐľŃ‚Ń‡Đ¸Đş Đ´Đ»ŃŹ Đ°Đ˛Ń‚ĐľĐ·Đ°ĐżĐľĐ»Đ˝ĐµĐ˝Đ¸ŃŹ (ĐşĐľĐłĐ´Đ° Đ±Ń€Đ°ŃĐ·ĐµŃ€ ĐżŃ€Đ¸ĐĽĐµĐ˝ŃŹĐµŃ‚ ŃŃ‚Đ¸Đ»Đ¸)
          const observer = new MutationObserver(() => {
            // ĐźŃ€ĐľĐ˛ĐµŃ€ŃŹĐµĐĽ, ĐµŃŃ‚ŃŚ Đ»Đ¸ ĐşĐ»Đ°ŃŃ Đ°Đ˛Ń‚ĐľĐ·Đ°ĐżĐľĐ»Đ˝ĐµĐ˝Đ¸ŃŹ
            if (input.matches(':-webkit-autofill')) {
              applyTransparent()
            }
          })
          
          observer.observe(input, {
            attributes: true,
            attributeFilter: ['style', 'class'],
            childList: false,
            subtree: false,
          })
          
          // ĐźŃ€ĐľĐ˛ĐµŃ€ŃŹĐµĐĽ ĐşĐ°Đ¶Đ´Ń‹Đµ 100ĐĽŃ Đ˛ Ń‚ĐµŃ‡ĐµĐ˝Đ¸Đµ ĐżĐµŃ€Đ˛Ń‹Ń… 2 ŃĐµĐşŃĐ˝Đ´ (Đ˛Ń€ĐµĐĽŃŹ, ĐşĐľĐłĐ´Đ° Đ±Ń€Đ°ŃĐ·ĐµŃ€ ĐżŃ€Đ¸ĐĽĐµĐ˝ŃŹĐµŃ‚ Đ°Đ˛Ń‚ĐľĐ·Đ°ĐżĐľĐ»Đ˝ĐµĐ˝Đ¸Đµ)
          let checkCount = 0
          const checkInterval = setInterval(() => {
            applyTransparent()
            checkCount++
            if (checkCount >= 20) {
              clearInterval(checkInterval)
            }
          }, 100)
        })
      }
    }

    // ĐźŃ€Đ¸ĐĽĐµĐ˝ŃŹĐµĐĽ Ń Đ·Đ°Đ´ĐµŃ€Đ¶ĐşĐľĐą, Ń‡Ń‚ĐľĐ±Ń‹ Ń„ĐľŃ€ĐĽĐ° ŃŃĐżĐµĐ»Đ° ĐľŃ‚Ń€ĐµĐ˝Đ´ĐµŃ€Đ¸Ń‚ŃŚŃŃŹ
    const timer = setTimeout(fixAutofillStyles, 100)
    const timer2 = setTimeout(fixAutofillStyles, 500)
    const timer3 = setTimeout(fixAutofillStyles, 1000)

    return () => {
      clearTimeout(timer)
      clearTimeout(timer2)
      clearTimeout(timer3)
    }
  }, [])

  const onSubmit = async (data: FormValues) => {
    setIsSubmitting(true)
    await new Promise((resolve) => setTimeout(resolve, 1500))
    console.log('Form data:', data)
    setIsSubmitting(false)
    toast.success('ZgĹ‚oszenie wysĹ‚ane pomyĹ›lnie!')
    reset()
  }

  return (
    <section id="kontakt-test" className="relative pb-6 md:pb-10 pt-0">
      <Toaster position="bottom-center" />
      
      {/* TĹ‚o sekcji */}
      <div
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.services_background}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/50" />
      </div>

      <div className="relative z-10 container mx-auto px-4 flex flex-col items-center">
        
        {/* Tekst nad formularzem */}
        <p className="text-[22px] text-[#fff8e7] font-cormorant italic font-semibold text-center mb-8 drop-shadow-2xl pt-4 md:pt-6">
          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„"
        </p>

        {/* Karta formularza */}
        <div className="w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-4 md:p-6 border border-black/20 scale-[0.8] origin-top">
          
          {/* NagĹ‚Ăłwek formularza */}
          <h2 className="text-black text-3xl md:text-4xl font-cormorant italic font-bold text-center mb-4 md:mb-5 border-b border-black/10 pb-3 md:pb-3">
            Formularz zgĹ‚oszeniowy (TEST - Nowa wersja)
          </h2>

          <form ref={formRef} onSubmit={handleSubmit(onSubmit)} className="space-y-3 md:space-y-4">
            
            {/* ImiÄ™ i nazwisko */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                ImiÄ™ i nazwisko
              </label>
              <input
                {...register('name')}
                type="text"
                placeholder="Jan Kowalski"
                autoComplete="off"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/70 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all resize-y"
              />
              {errors.name && (
                <p className="text-red-600 text-sm">{errors.name.message}</p>
              )}
            </div>

            {/* Telefon */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Numer telefonu
              </label>
              <div className="phone-input-container">
                <Controller
                  name="phone"
                  control={control}
                  render={({ field }) => (
                    <CustomPhoneInput
                      value={field.value || ''}
                      onChange={(phone) => field.onChange(phone)}
                      defaultCountry="pl"
                    />
                  )}
                />
              </div>
              {errors.phone && (
                <p className="text-red-600 text-sm">{errors.phone.message}</p>
              )}
            </div>

              {/* E-mail */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Adres e-mail
              </label>
              <input
                {...register('email')}
                type="email"
                placeholder="jan.kowalski@example.com"
                autoComplete="off"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/70 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.email && (
                <p className="text-red-600 text-sm">{errors.email.message}</p>
              )}
            </div>

            {/* Adres */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Adres
              </label>
              <input
                {...register('address')}
                type="text"
                placeholder="ul. PrzykĹ‚adowa 1, 50-001 WrocĹ‚aw"
                autoComplete="off"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/70 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.address && (
                <p className="text-red-600 text-sm">{errors.address.message}</p>
              )}
            </div>

            {/* Typ urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl mb-2">
                Typ urzÄ…dzenia
              </label>
              <div className="flex flex-wrap gap-6">
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <CustomRadio
                      {...field}
                      value="printer"
                      checked={field.value === 'printer'}
                      label="Drukarka"
                    />
                  )}
                />
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <CustomRadio
                      {...field}
                      value="computer"
                      checked={field.value === 'computer'}
                      label="Komputer / Laptop"
                    />
                  )}
                />
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <CustomRadio
                      {...field}
                      value="other"
                      checked={field.value === 'other'}
                      label="Inne urzÄ…dzenie"
                    />
                  )}
                />
              </div>
              {errors.deviceType && (
                <p className="text-red-600 text-sm">{errors.deviceType.message}</p>
              )}
            </div>

            {/* Model urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Model urzÄ…dzenia
              </label>
              <input
                {...register('deviceModel')}
                type="text"
                placeholder="np. HP LaserJet Pro M404dn"
                autoComplete="off"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/70 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
            </div>

            {/* Opis problemu */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Opis problemu
              </label>
              <textarea
                {...register('problemDescription')}
                rows={4}
                placeholder="ProszÄ™ opisaÄ‡ problem z urzÄ…dzeniem..."
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/70 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all resize-y"
              />
              {errors.problemDescription && (
                <p className="text-red-600 text-sm">{errors.problemDescription.message}</p>
              )}
            </div>

            {/* Checkboxy */}
            <div className="space-y-3 pt-1">
              <Controller
                name="replacementPrinter"
                control={control}
                render={({ field }) => (
                  <CustomCheckbox
                    checked={field.value || false}
                    onChange={(e) => field.onChange(e.target.checked)}
                    onBlur={field.onBlur}
                    name={field.name}
                    label="PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy."
                  />
                )}
              />

              <div className="space-y-1">
                <Controller
                  name="agreements"
                  control={control}
                  render={({ field }) => (
                    <CustomCheckbox
                      checked={field.value || false}
                      onChange={(e) => field.onChange(e.target.checked)}
                      onBlur={field.onBlur}
                      name={field.name}
                      label={
                        <span className="text-lg">
                          OĹ›wiadczam, ĹĽe zapoznaĹ‚em/am siÄ™ z{' '}
                          <Link href="/polityka-prywatnosci" className="underline hover:text-black hover:font-bold transition-all">
                            PolitykÄ… PrywatnoĹ›ci
                          </Link>{' '}
                          oraz{' '}
                          <Link href="/regulamin" className="underline hover:text-black hover:font-bold transition-all">
                            Regulaminem
                          </Link>{' '}
                          i akceptujÄ™ ich postanowienia.
                        </span>
                      }
                    />
                  )}
                />
                {errors.agreements && (
                  <p className="text-red-600 text-sm ml-8">{errors.agreements.message}</p>
                )}
              </div>
            </div>

            {/* Przycisk Submit */}
            <div className="pt-4 flex justify-center">
              <button
                type="submit"
                disabled={isSubmitting}
                className="relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-black/30 shadow-[inset_0_0_20px_rgba(0,0,0,0.1)] hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.05)] rounded-full transition-all duration-300"
              >
                <span className="font-cormorant font-bold text-2xl text-black tracking-wide group-hover:text-black flex items-center gap-2">
                  {isSubmitting && <Loader2 className="animate-spin h-5 w-5" />}
                  WyĹ›lij zgĹ‚oszenie
                </span>
              </button>
            </div>

          </form>
        </div>
      </div>
    </section>
  )
}


--- DIFFS ---


💡 DIFF: 20b0c398-391e-4256-98c0-ed19cdc57163
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"20b0c398-391e-4256-98c0-ed19cdc57163","fileSizeBytes":8759,"numLines":241,"diffChanges":[{"originalStartLineNumberOneIndexed":192,"originalEndLineNumberExclusiveOneIndexed":193,"modifiedStartLineNumberOneIndexed":192,"modifiedEndLineNumberExclusiveOneIndexed":193,"addedLines":["          className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all\""],"tokenizedAddedLines":[1000199]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

💡 DIFF: 4ea28d25-71aa-40c7-9d36-5c074ab52495
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"4ea28d25-71aa-40c7-9d36-5c074ab52495","fileSizeBytes":12656,"numLines":291,"diffChanges":[{"originalStartLineNumberOneIndexed":104,"originalEndLineNumberExclusiveOneIndexed":105,"modifiedStartLineNumberOneIndexed":104,"modifiedEndLineNumberExclusiveOneIndexed":105,"addedLines":["                  className=\"w-full !bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/60 focus:outline-none focus:!bg-transparent focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all\""],"tokenizedAddedLines":[1000215]},{"originalStartLineNumberOneIndexed":150,"originalEndLineNumberExclusiveOneIndexed":151,"modifiedStartLineNumberOneIndexed":150,"modifiedEndLineNumberExclusiveOneIndexed":151,"addedLines":["                className=\"w-full !bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/60 focus:outline-none focus:!bg-transparent focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all\""],"tokenizedAddedLines":[1000216]},{"originalStartLineNumberOneIndexed":166,"originalEndLineNumberExclusiveOneIndexed":167,"modifiedStartLineNumberOneIndexed":166,"modifiedEndLineNumberExclusiveOneIndexed":167,"addedLines":["                className=\"w-full !bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/60 focus:outline-none focus:!bg-transparent focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all\""],"tokenizedAddedLines":[1000216]},{"originalStartLineNumberOneIndexed":212,"originalEndLineNumberExclusiveOneIndexed":213,"modifiedStartLineNumberOneIndexed":212,"modifiedEndLineNumberExclusiveOneIndexed":213,"addedLines":["                className=\"w-full !bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/60 focus:outline-none focus:!bg-transparent focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all\""],"tokenizedAddedLines":[1000216]},{"originalStartLineNumberOneIndexed":226,"originalEndLineNumberExclusiveOneIndexed":227,"modifiedStartLineNumberOneIndexed":226,"modifiedEndLineNumberExclusiveOneIndexed":227,"addedLines":["                className=\"w-full !bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/60 focus:outline-none focus:!bg-transparent focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all resize-y\""],"tokenizedAddedLines":[1000217]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

💡 DIFF: 8651ac8c-66c1-4c42-bcf0-a31e4c66918e
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact-test.tsx","fileUuid":"8651ac8c-66c1-4c42-bcf0-a31e4c66918e","fileSizeBytes":16115,"numLines":388,"diffChanges":[{"originalStartLineNumberOneIndexed":178,"originalEndLineNumberExclusiveOneIndexed":179,"modifiedStartLineNumberOneIndexed":178,"modifiedEndLineNumberExclusiveOneIndexed":179,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/60 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all resize-y\""],"tokenizedAddedLines":[1000275]},{"originalStartLineNumberOneIndexed":218,"originalEndLineNumberExclusiveOneIndexed":219,"modifiedStartLineNumberOneIndexed":218,"modifiedEndLineNumberExclusiveOneIndexed":219,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/60 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all\""],"tokenizedAddedLines":[1000276]},{"originalStartLineNumberOneIndexed":235,"originalEndLineNumberExclusiveOneIndexed":236,"modifiedStartLineNumberOneIndexed":235,"modifiedEndLineNumberExclusiveOneIndexed":236,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/60 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all\""],"tokenizedAddedLines":[1000276]},{"originalStartLineNumberOneIndexed":300,"originalEndLineNumberExclusiveOneIndexed":301,"modifiedStartLineNumberOneIndexed":300,"modifiedEndLineNumberExclusiveOneIndexed":301,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/60 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all\""],"tokenizedAddedLines":[1000276]},{"originalStartLineNumberOneIndexed":313,"originalEndLineNumberExclusiveOneIndexed":314,"modifiedStartLineNumberOneIndexed":313,"modifiedEndLineNumberExclusiveOneIndexed":314,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/60 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all resize-y\""],"tokenizedAddedLines":[1000275]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: d7b3289c-b79d-453f-8d83-cb0c5132c8fb | Время: 11/25/2025 12:42:15 =====


--- METADATA ---

{"agentRequestId":"d7b3289c-b79d-453f-8d83-cb0c5132c8fb","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"800ae00d-5629-4844-95ed-ae422ff9dc96","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764070935600,"fileSizeBytes":9414,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 800ae00d-5629-4844-95ed-ae422ff9dc96
----------------------------------------

'use client'

import { useState, useRef, useEffect } from 'react'
import Image from 'next/image'
import { countries, Country, formatPhoneNumber } from '@/lib/countries'

interface CustomPhoneInputProps {
  value: string
  onChange: (value: string) => void
  className?: string
}

export function CustomPhoneInput({ value, onChange, className = '' }: CustomPhoneInputProps) {
  const [selectedCountry, setSelectedCountry] = useState<Country>(countries[0]) // ĐźĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ ĐŁĐşŃ€Đ°Đ¸Đ˝Đ°
  const [phoneNumber, setPhoneNumber] = useState('')
  const [isDropdownOpen, setIsDropdownOpen] = useState(false)
  const containerRef = useRef<HTMLDivElement>(null)
  const dropdownRef = useRef<HTMLDivElement>(null)
  const selectorRowRef = useRef<HTMLDivElement>(null)

  // ĐĐ˝Đ¸Ń†Đ¸Đ°Đ»Đ¸Đ·Đ°Ń†Đ¸ŃŹ: Đ¸Đ·Đ˛Đ»ĐµĐşĐ°ĐµĐĽ ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹ Đ¸ Đ˝ĐľĐĽĐµŃ€ Đ¸Đ· value
  useEffect(() => {
    if (value) {
      // ĐŃ‰ĐµĐĽ ŃŃ‚Ń€Đ°Đ˝Ń ĐżĐľ ĐşĐľĐ´Ń
      const country = countries.find(c => value.startsWith(c.dialCode))
      if (country) {
        setSelectedCountry(country)
        const number = value.replace(country.dialCode, '').trim()
        setPhoneNumber(number)
      } else {
        setPhoneNumber(value)
      }
    }
  }, [])

  // Đ—Đ°ĐşŃ€Ń‹Ń‚Đ¸Đµ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° ĐżŃ€Đ¸ ĐşĐ»Đ¸ĐşĐµ Đ˛Đ˝Đµ ĐşĐľĐĽĐżĐľĐ˝ĐµĐ˝Ń‚Đ°
  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {
        setIsDropdownOpen(false)
      }
    }

    document.addEventListener('mousedown', handleClickOutside)
    return () => {
      document.removeEventListener('mousedown', handleClickOutside)
    }
  }, [])

  const calculateMaxDropdownWidth = () => {
    // Đ¤Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝Đ°ŃŹ ŃĐ¸Ń€Đ¸Đ˝Đ° Đ˝Đ° ĐľŃĐ˝ĐľĐ˛Đµ ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝ĐľĐłĐľ ŃĐľĐ´ĐµŃ€Đ¶Đ¸ĐĽĐľĐłĐľ
    // Đ¤Đ»Đ°Đł (20px) + gap (8px) + ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝ĐľĐµ Đ˝Đ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ŃŃ‚Ń€Đ°Đ˝Ń‹ (~150px) + gap (8px) + ĐşĐľĐ´ (~50px) + ĐşĐ˝ĐľĐżĐşĐ° (20px) + padding (32px)
    return 280
  }
  const fixedDropdownWidth = calculateMaxDropdownWidth()

  const handleCountrySelect = (country: Country) => {
    setSelectedCountry(country)
    setIsDropdownOpen(false)
    setPhoneNumber('') // Clear phone number on country change
    onChange(country.dialCode ? country.dialCode : '') // Set only dial code
  }

  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    let inputValue = e.target.value
    
    // ĐŁĐ´Đ°Đ»ŃŹĐµĐĽ Đ˛ŃĐµ Đ˝ĐµŃ†Đ¸Ń„Ń€ĐľĐ˛Ń‹Đµ ŃĐ¸ĐĽĐ˛ĐľĐ»Ń‹
    const digits = inputValue.replace(/\D/g, '')
    
    // Đ•ŃĐ»Đ¸ Đ˛Ń‹Đ±Ń€Đ°Đ˝Đ° ŃŃ‚Ń€Đ°Đ˝Đ° "other", ĐżŃ€ĐľŃŃ‚Đľ ŃĐľŃ…Ń€Đ°Đ˝ŃŹĐµĐĽ ĐşĐ°Đş ĐµŃŃ‚ŃŚ
    if (selectedCountry.code === 'other') {
      setPhoneNumber(inputValue)
      onChange(inputValue)
      return
    }

    // ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡Đ¸Đ˛Đ°ĐµĐĽ Đ´Đ»Đ¸Đ˝Ń Đ˝ĐľĐĽĐµŃ€Đ°
    if (selectedCountry.phoneLength && digits.length > selectedCountry.phoneLength) {
      return
    }

    setPhoneNumber(digits)

    // Đ¤ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ŃĐµĐĽ Đ˝ĐľĐĽĐµŃ€, ĐµŃĐ»Đ¸ ĐµŃŃ‚ŃŚ Ń„ĐľŃ€ĐĽĐ°Ń‚
    let formatted = digits
    if (selectedCountry.phoneFormat && digits.length > 0) {
      formatted = formatPhoneNumber(digits, selectedCountry.phoneFormat)
    }

    // ĐžĐ±ŃŠĐµĐ´Đ¸Đ˝ŃŹĐµĐĽ ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹ Đ¸ Đ˝ĐľĐĽĐµŃ€
    const fullPhone = selectedCountry.dialCode ? `${selectedCountry.dialCode}${formatted}` : formatted
    onChange(fullPhone)
  }

  const getPlaceholder = () => {
    if (selectedCountry.code === 'other') {
      return 'WprowadĹş numer'
    }
    if (selectedCountry.phoneFormat) {
      return selectedCountry.phoneFormat
    }
    return 'xxx xxx xxx' // fallback
  }

  const displayName = selectedCountry.name.length > 12 
    ? selectedCountry.shortName 
    : selectedCountry.name

  return (
    <div ref={containerRef} className={`relative w-full flex items-start gap-0 ${className}`}>
      {/* ĐźĐµŃ€Đ˛Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: Đ¤Đ»Đ°Đł + ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ + ĐšĐľĐ´ (ŃĐżŃ€Đ°Đ˛Đ°) + ĐšĐ˝ĐľĐżĐşĐ° Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° */}
      <div 
        ref={selectorRowRef}
        className="flex items-center gap-2 border border-black/60 rounded-sm px-4 py-2"
        style={{ height: '42px', width: `${fixedDropdownWidth}px`, minWidth: `${fixedDropdownWidth}px` }}
      >
        <Image
          src={selectedCountry.flagImage}
          alt={selectedCountry.name}
          width={20}
          height={15}
          className="object-contain flex-shrink-0"
          style={{ width: '20px', height: '15px' }}
        />
        <span className="text-black font-sans font-medium text-base leading-tight whitespace-nowrap flex-1">
          {displayName || selectedCountry.name}
        </span>
        {selectedCountry.dialCode ? (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap flex-shrink-0">
            {selectedCountry.dialCode}
          </span>
        ) : (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap opacity-50 flex-shrink-0">
            +
          </span>
        )}
        <button
          type="button"
          onClick={() => setIsDropdownOpen(!isDropdownOpen)}
          className="hover:opacity-80 transition-opacity flex-shrink-0"
        >
          <span className="text-black text-lg">â–Ľ</span>
        </button>
      </div>

      {/* ĐźĐľĐ»Đµ Đ˛Đ˛ĐľĐ´Đ° (ĐłĐľŃ€Đ¸Đ·ĐľĐ˝Ń‚Đ°Đ»ŃŚĐ˝Đľ Ń€ŃŹĐ´ĐľĐĽ Ń ŃĐµĐ»ĐµĐşŃ‚ĐľŃ€ĐľĐĽ ŃŃ‚Ń€Đ°Đ˝Ń‹) */}
      <div className="flex-1">
        <input
          type="tel"
          value={phoneNumber} // Display only the number part
          onChange={handlePhoneChange}
          placeholder={getPlaceholder()}
          className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
          style={{ backgroundColor: 'transparent', height: '42px' }}
        />
      </div>

      {/* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş */}
      {isDropdownOpen && (
        <div
          ref={dropdownRef}
          className="absolute top-full left-0 mt-1 z-50 border border-black/20 rounded-lg shadow-lg max-h-64 overflow-y-auto custom-dropdown country-dropdown"
          style={{
            backgroundImage: 'linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)), url(/images/zmiety arkusz papieru 2.png)',
            backgroundSize: 'cover',
            backgroundPosition: 'center',
            backgroundRepeat: 'no-repeat',
            width: `${fixedDropdownWidth}px`,
            minWidth: `${fixedDropdownWidth}px`,
          }}
        >
          {countries.map((country) => (
            <button
              key={country.code}
              type="button"
              onClick={() => handleCountrySelect(country)}
              className="flex items-center gap-3 px-4 py-3 hover:bg-black/5 transition-colors text-left whitespace-nowrap w-full"
            >
              <Image
                src={country.flagImage}
                alt={country.name}
                width={24}
                height={18}
                className="object-contain flex-shrink-0"
              />
              <span className="flex-1 text-black font-sans font-medium text-base">
                {country.name}
              </span>
              {country.dialCode && (
                <span className="text-black font-sans text-sm opacity-70 whitespace-nowrap">
                  {country.dialCode}
                </span>
              )}
            </button>
          ))}
        </div>
      )}
    </div>
  )
}



--- DIFFS ---


💡 DIFF: 800ae00d-5629-4844-95ed-ae422ff9dc96
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"800ae00d-5629-4844-95ed-ae422ff9dc96","fileSizeBytes":7798,"numLines":209,"diffChanges":[{"originalStartLineNumberOneIndexed":14,"originalEndLineNumberExclusiveOneIndexed":15,"modifiedStartLineNumberOneIndexed":14,"modifiedEndLineNumberExclusiveOneIndexed":15,"addedLines":["  const [selectedCountry, setSelectedCountry] = useState<Country>(countries[1]) // ĐźĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ ĐźĐľĐ»ŃŚŃĐ°"],"tokenizedAddedLines":[1000162]},{"originalStartLineNumberOneIndexed":28,"originalEndLineNumberExclusiveOneIndexed":29,"modifiedStartLineNumberOneIndexed":28,"modifiedEndLineNumberExclusiveOneIndexed":34,"addedLines":["        const number = value.replace(country.dialCode, '').trim().replace(/\\D/g, '')","        // Đ¤ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ŃĐµĐĽ Đ˝ĐľĐĽĐµŃ€ ŃĐľĐłĐ»Đ°ŃĐ˝Đľ Ń„ĐľŃ€ĐĽĐ°Ń‚Ń ŃŃ‚Ń€Đ°Đ˝Ń‹","        if (country.phoneFormat && number.length > 0) {","          const formatted = formatPhoneNumber(number, country.phoneFormat)","          setPhoneNumber(formatted)","        } else {"],"tokenizedAddedLines":[1000163,1000164,1000165,1000166,1000167,1000168]},{"originalStartLineNumberOneIndexed":30,"originalEndLineNumberExclusiveOneIndexed":30,"modifiedStartLineNumberOneIndexed":35,"modifiedEndLineNumberExclusiveOneIndexed":36,"addedLines":["        }"],"tokenizedAddedLines":[1000169]},{"originalStartLineNumberOneIndexed":81,"originalEndLineNumberExclusiveOneIndexed":83,"modifiedStartLineNumberOneIndexed":87,"modifiedEndLineNumberExclusiveOneIndexed":87},{"originalStartLineNumberOneIndexed":90,"originalEndLineNumberExclusiveOneIndexed":92,"modifiedStartLineNumberOneIndexed":94,"modifiedEndLineNumberExclusiveOneIndexed":99,"addedLines":["    // ĐˇĐľŃ…Ń€Đ°Đ˝ŃŹĐµĐĽ ĐľŃ‚Ń„ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝Ń‹Đą Đ˝ĐľĐĽĐµŃ€ Đ´Đ»ŃŹ ĐľŃ‚ĐľĐ±Ń€Đ°Đ¶ĐµĐ˝Đ¸ŃŹ","    setPhoneNumber(formatted)","","    // ĐžĐ±ŃŠĐµĐ´Đ¸Đ˝ŃŹĐµĐĽ ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹ Đ¸ Đ˝ĐľĐĽĐµŃ€ Đ´Đ»ŃŹ ĐľŃ‚ĐżŃ€Đ°Đ˛ĐşĐ¸","    const fullPhone = selectedCountry.dialCode ? `${selectedCountry.dialCode}${formatted.replace(/\\s/g, '')}` : formatted"],"tokenizedAddedLines":[1000170,1000171,2,1000172,1000173]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: d8385de3-bcfe-4e26-be8f-b310d9b92f1a | Время: 11/25/2025 12:33:01 =====


--- METADATA ---

{"agentRequestId":"d8385de3-bcfe-4e26-be8f-b310d9b92f1a","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"684430d1-b8ec-4519-b31e-42aed2e558d0","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"a1035f53-4357-4933-8989-ffb7da3516fb","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764070381876,"fileSizeBytes":36604,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 684430d1-b8ec-4519-b31e-42aed2e558d0
----------------------------------------

'use client'

import { useState } from 'react'
import { useForm, Controller } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import PhoneInput from 'react-phone-input-2'
import 'react-phone-input-2/lib/style.css'
import { toast, Toaster } from 'sonner'
import { Loader2 } from 'lucide-react'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'

// Schemat walidacji Zod
const formSchema = z.object({
  name: z.string().min(2, { message: 'ImiÄ™ i nazwisko musi mieÄ‡ min. 2 znaki' }),
  phone: z.string().min(9, { message: 'Numer telefonu jest za krĂłtki' }),
  email: z.string().email({ message: 'Niepoprawny adres e-mail' }),
  address: z.string().min(5, { message: 'Adres musi mieÄ‡ min. 5 znakĂłw' }),
  deviceType: z.enum(['printer', 'computer'], { required_error: 'Wybierz typ urzÄ…dzenia' }),
  deviceModel: z.string().optional(),
  problemDescription: z.string().min(10, { message: 'Opis problemu musi mieÄ‡ min. 10 znakĂłw' }),
  replacementPrinter: z.boolean().default(false),
  agreements: z.literal(true, { errorMap: () => ({ message: 'Musisz zaakceptowaÄ‡ regulamin' }) }),
})

type FormValues = z.infer<typeof formSchema>

export function Contact() {
  const [isSubmitting, setIsSubmitting] = useState(false)

  const {
    register,
    control,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      name: '',
      phone: '',
      email: '',
      address: '',
      deviceType: undefined,
      deviceModel: '',
      problemDescription: '',
      replacementPrinter: false,
      agreements: undefined,
    },
  })

  const onSubmit = async (data: FormValues) => {
    setIsSubmitting(true)
    // Symulacja wysyĹ‚ki
    await new Promise((resolve) => setTimeout(resolve, 1500))
    console.log('Form data:', data)
    setIsSubmitting(false)
    toast.success('ZgĹ‚oszenie wysĹ‚ane pomyĹ›lnie!')
    reset()
  }

  return (
    <section id="kontakt" className="relative py-12 md:py-20">
      <Toaster position="bottom-center" />
      
      {/* TĹ‚o sekcji */}
      <div
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.services_background}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/50" />
      </div>

      <div className="relative z-10 container mx-auto px-4 flex flex-col items-center">
        
        {/* Tekst nad formularzem */}
        <p className="text-white/90 text-lg md:text-xl text-center mb-8 drop-shadow-md font-serif italic">
          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„"
        </p>

        {/* Karta formularza */}
        <div className="w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-6 md:p-10 border border-[#3a2e24]/20">
          
          {/* NagĹ‚Ăłwek formularza */}
          <h2 className="text-[#3a2e24] text-3xl md:text-4xl font-cormorant font-bold text-center mb-8 border-b border-[#3a2e24]/10 pb-4">
            Formularz zgĹ‚oszeniowy
          </h2>

          <form onSubmit={handleSubmit(onSubmit)} className="space-y-6">
            
            {/* ImiÄ™ i Telefon - Grid */}
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              {/* ImiÄ™ i nazwisko */}
              <div className="space-y-2">
                <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                  ImiÄ™ i nazwisko
                </label>
                <input
                  {...register('name')}
                  placeholder="Jan Kowalski"
                  className="w-full bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/50 focus:outline-none focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all"
                />
                {errors.name && (
                  <p className="text-red-600 text-sm">{errors.name.message}</p>
                )}
              </div>

              {/* Telefon */}
              <div className="space-y-2">
                <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                  Numer telefonu
                </label>
                <div className="phone-input-container">
                  <Controller
                    name="phone"
                    control={control}
                    render={({ field }) => (
                      <PhoneInput
                        country={'ua'}
                        value={field.value}
                        onChange={(phone) => field.onChange(phone)}
                        onlyCountries={['ua', 'pl', 'de', 'cz', 'sk', 'lt', 'gb']}
                        inputClass="!w-full !bg-transparent !border-[#3a2e24]/60 !text-[#3a2e24] !h-[42px] !rounded-sm !pl-[48px]"
                        buttonClass="!bg-transparent !border-[#3a2e24]/60 !rounded-l-sm !border-r-0"
                        dropdownClass="!bg-[#f5f5f0] !text-[#3a2e24]"
                      />
                    )}
                  />
                </div>
                {errors.phone && (
                  <p className="text-red-600 text-sm">{errors.phone.message}</p>
                )}
              </div>
            </div>

            {/* E-mail */}
            <div className="space-y-2">
              <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                Adres e-mail
              </label>
              <input
                {...register('email')}
                type="email"
                placeholder="jan.kowalski@example.com"
                className="w-full bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/50 focus:outline-none focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all"
              />
              {errors.email && (
                <p className="text-red-600 text-sm">{errors.email.message}</p>
              )}
            </div>

            {/* Adres */}
            <div className="space-y-2">
              <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                Adres
              </label>
              <input
                {...register('address')}
                placeholder="ul. PrzykĹ‚adowa 1, 50-001 WrocĹ‚aw"
                className="w-full bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/50 focus:outline-none focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all"
              />
              {errors.address && (
                <p className="text-red-600 text-sm">{errors.address.message}</p>
              )}
            </div>

            {/* Typ urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-[#3a2e24] font-bold font-cormorant text-lg mb-2">
                Typ urzÄ…dzenia
              </label>
              <div className="flex gap-6">
                <label className="flex items-center gap-2 cursor-pointer">
                  <input
                    type="radio"
                    value="printer"
                    {...register('deviceType')}
                    className="accent-[#bfa76a] w-5 h-5"
                  />
                  <span className="text-[#3a2e24]">Drukarka</span>
                </label>
                <label className="flex items-center gap-2 cursor-pointer">
                  <input
                    type="radio"
                    value="computer"
                    {...register('deviceType')}
                    className="accent-[#bfa76a] w-5 h-5"
                  />
                  <span className="text-[#3a2e24]">Komputer / Laptop</span>
                </label>
              </div>
              {errors.deviceType && (
                <p className="text-red-600 text-sm">{errors.deviceType.message}</p>
              )}
            </div>

            {/* Model urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                Model urzÄ…dzenia
              </label>
              <input
                {...register('deviceModel')}
                placeholder="np. HP LaserJet Pro M404dn"
                className="w-full bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/50 focus:outline-none focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all"
              />
            </div>

            {/* Opis problemu */}
            <div className="space-y-2">
              <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                Opis problemu
              </label>
              <textarea
                {...register('problemDescription')}
                rows={4}
                placeholder="ProszÄ™ opisaÄ‡ problem z urzÄ…dzeniem..."
                className="w-full bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/50 focus:outline-none focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all resize-y"
              />
              {errors.problemDescription && (
                <p className="text-red-600 text-sm">{errors.problemDescription.message}</p>
              )}
            </div>

            {/* Checkboxy */}
            <div className="space-y-4 pt-2">
              <label className="flex items-start gap-3 cursor-pointer group">
                <input
                  type="checkbox"
                  {...register('replacementPrinter')}
                  className="mt-1 accent-[#bfa76a] w-5 h-5"
                />
                <span className="text-[#3a2e24] group-hover:text-[#bfa76a] transition-colors">
                  PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy.
                </span>
              </label>

              <div className="space-y-1">
                <label className="flex items-start gap-3 cursor-pointer group">
                  <input
                    type="checkbox"
                    {...register('agreements')}
                    className="mt-1 accent-[#bfa76a] w-5 h-5"
                  />
                  <span className="text-[#3a2e24] text-sm">
                    OĹ›wiadczam, ĹĽe zapoznaĹ‚em/am siÄ™ z{' '}
                    <Link href="/polityka-prywatnosci" className="underline hover:text-[#bfa76a]">
                      PolitykÄ… PrywatnoĹ›ci
                    </Link>{' '}
                    oraz{' '}
                    <Link href="/regulamin" className="underline hover:text-[#bfa76a]">
                      Regulaminem
                    </Link>{' '}
                    i akceptujÄ™ ich postanowienia.
                  </span>
                </label>
                {errors.agreements && (
                  <p className="text-red-600 text-sm ml-8">{errors.agreements.message}</p>
                )}
              </div>
            </div>

            {/* Przycisk Submit */}
            <div className="pt-6 flex justify-center">
              <button
                type="submit"
                disabled={isSubmitting}
                className="relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-[#3a2e24]/30 shadow-[inset_0_0_20px_rgba(0,0,0,0.1)] hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.05)] rounded-sm transition-all duration-300"
              >
                <span className="font-cormorant font-bold text-2xl text-[#3a2e24] tracking-wide group-hover:text-black flex items-center gap-2">
                  {isSubmitting && <Loader2 className="animate-spin h-5 w-5" />}
                  WyĹ›lij zgĹ‚oszenie
                </span>
              </button>
            </div>

          </form>
        </div>
      </div>
    </section>
  )
}


🗂 FILE: a1035f53-4357-4933-8989-ffb7da3516fb
----------------------------------------

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 65px; /* wysokoĹ›Ä‡ headera */
  }

  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .bg-paper-texture {
    background-image: url('/images/zmiety arkusz papieru 2.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }

  /* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş ŃŃ‚Ń€Đ°Đ˝ - ĐżĐľĐ´Đ»ĐľĐ¶ĐşĐ° Đ¸Đ· ŃĐĽŃŹŃ‚ĐľĐłĐľ Đ»Đ¸ŃŃ‚Đ° */
  .custom-dropdown {
    background-image: 
      linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)),
      url('/images/zmiety arkusz papieru 2.png') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
  }

  /* ĐˇĐşŃ€ĐľĐ»Đ»Đ±Đ°Ń€ Đ´Đ»ŃŹ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° ŃŃ‚Ń€Đ°Đ˝ */
  .custom-dropdown::-webkit-scrollbar {
    width: 8px;
  }

  .custom-dropdown::-webkit-scrollbar-track {
    background-image: 
      linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)),
      url('/images/zmiety arkusz papieru 2.png') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    border-radius: 4px;
  }

  .custom-dropdown::-webkit-scrollbar-thumb {
    background: rgba(58, 46, 36, 0.3) !important;
    border-radius: 4px;
  }

  .custom-dropdown::-webkit-scrollbar-thumb:hover {
    background: rgba(58, 46, 36, 0.5) !important;
  }

  /* Đ”Đ»ŃŹ Firefox */
  .custom-dropdown {
    scrollbar-width: thin;
    scrollbar-color: rgba(58, 46, 36, 0.3) transparent;
  }

  /* ĐĐ˝Đ¸ĐĽĐ°Ń†Đ¸ŃŹ ĐżĐľŃŹĐ˛Đ»ĐµĐ˝Đ¸ŃŹ ĐĽĐľĐ´Đ°Đ»ŃŚĐ˝ĐľĐłĐľ ĐľĐşĐ˝Đ° */
  @keyframes modalAppear {
    from {
      opacity: 0;
      transform: scale(0.9) translateY(-10px);
    }
    to {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }

  .animate-modal-appear {
    animation: modalAppear 0.3s ease-out;
  }

  /* ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ Đ˛ŃĐµŃ… ĐżĐľĐ»ĐµĐą Đ˛Đ˛ĐľĐ´Đ° */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input:not([type="radio"]):not([type="checkbox"]):not([type="submit"]):not([type="button"]):not([type="hidden"]) {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }

  textarea {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }

  input[type="text"]:-webkit-autofill,
  input[type="text"]:-webkit-autofill:hover,
  input[type="text"]:-webkit-autofill:focus,
  input[type="text"]:-webkit-autofill:active,
  input[type="email"]:-webkit-autofill,
  input[type="email"]:-webkit-autofill:hover,
  input[type="email"]:-webkit-autofill:focus,
  input[type="email"]:-webkit-autofill:active,
  input[type="tel"]:-webkit-autofill,
  input[type="tel"]:-webkit-autofill:hover,
  input[type="tel"]:-webkit-autofill:focus,
  input[type="tel"]:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #000000 !important;
    color: #000000 !important;
  }

  /* ĐˇĐżĐµŃ†Đ¸Ń„Đ¸Ń‡Đ˝Ń‹Đµ ŃŃ‚Đ¸Đ»Đ¸ Đ´Đ»ŃŹ ĐżŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝ĐľĐłĐľ Ń„ĐľĐ˝Đ° Đ˛ #kontakt-test */
  #kontakt-test input[type="text"],
  #kontakt-test input[type="email"],
  #kontakt-test input[type="tel"],
  #kontakt-test input:not([type="radio"]):not([type="checkbox"]):not([type="submit"]):not([type="button"]):not([type="hidden"]) {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }

  #kontakt-test textarea {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }

  /* ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ Đ˛ŃĐµŃ… input Đ˛Đ˝ŃŃ‚Ń€Đ¸ #kontakt-test ĐżŃ€Đ¸ autofill */
  #kontakt-test input:-webkit-autofill,
  #kontakt-test input:-webkit-autofill:hover,
  #kontakt-test input:-webkit-autofill:focus,
  #kontakt-test input:-webkit-autofill:active,
  #kontakt-test input[type="text"]:-webkit-autofill,
  #kontakt-test input[type="text"]:-webkit-autofill:hover,
  #kontakt-test input[type="text"]:-webkit-autofill:focus,
  #kontakt-test input[type="text"]:-webkit-autofill:active,
  #kontakt-test input[type="email"]:-webkit-autofill,
  #kontakt-test input[type="email"]:-webkit-autofill:hover,
  #kontakt-test input[type="email"]:-webkit-autofill:focus,
  #kontakt-test input[type="email"]:-webkit-autofill:active,
  #kontakt-test input[type="tel"]:-webkit-autofill,
  #kontakt-test input[type="tel"]:-webkit-autofill:hover,
  #kontakt-test input[type="tel"]:-webkit-autofill:focus,
  #kontakt-test input[type="tel"]:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #000000 !important;
    color: #000000 !important;
    transition: background-color 5000s ease-in-out 0s !important;
  }
}

--- DIFFS ---


💡 DIFF: 684430d1-b8ec-4519-b31e-42aed2e558d0
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"684430d1-b8ec-4519-b31e-42aed2e558d0","fileSizeBytes":13347,"numLines":325,"diffChanges":[{"originalStartLineNumberOneIndexed":7,"originalEndLineNumberExclusiveOneIndexed":10,"modifiedStartLineNumberOneIndexed":7,"modifiedEndLineNumberExclusiveOneIndexed":7},{"originalStartLineNumberOneIndexed":13,"originalEndLineNumberExclusiveOneIndexed":13,"modifiedStartLineNumberOneIndexed":10,"modifiedEndLineNumberExclusiveOneIndexed":14,"addedLines":["import { CustomPhoneInput } from '@/components/ui/custom-phone-input'","import { CustomRadio } from '@/components/ui/custom-radio'","import { CustomCheckbox } from '@/components/ui/custom-checkbox'","import { SuccessModal } from '@/components/ui/success-modal'"],"tokenizedAddedLines":[1000212,1000213,1000214,1000215]},{"originalStartLineNumberOneIndexed":20,"originalEndLineNumberExclusiveOneIndexed":21,"modifiedStartLineNumberOneIndexed":21,"modifiedEndLineNumberExclusiveOneIndexed":22,"addedLines":["  deviceType: z.enum(['printer', 'computer', 'other'], { required_error: 'Wybierz typ urzÄ…dzenia' }),"],"tokenizedAddedLines":[1000216]},{"originalStartLineNumberOneIndexed":31,"originalEndLineNumberExclusiveOneIndexed":31,"modifiedStartLineNumberOneIndexed":32,"modifiedEndLineNumberExclusiveOneIndexed":33,"addedLines":["  const [showSuccessModal, setShowSuccessModal] = useState(false)"],"tokenizedAddedLines":[1000217]},{"originalStartLineNumberOneIndexed":55,"originalEndLineNumberExclusiveOneIndexed":58,"modifiedStartLineNumberOneIndexed":57,"modifiedEndLineNumberExclusiveOneIndexed":76,"addedLines":["    try {","      const response = await fetch('/api/send-email', {","        method: 'POST',","        headers: {","          'Content-Type': 'application/json',","        },","        body: JSON.stringify(data),","      })","","      if (!response.ok) {","        throw new Error('BĹ‚Ä…d podczas wysyĹ‚ania formularza')","      }","","      setShowSuccessModal(true)","      reset()","    } catch (error) {","      console.error('Error submitting form:', error)","      alert('WystÄ…piĹ‚ bĹ‚Ä…d podczas wysyĹ‚ania formularza. SprĂłbuj ponownie.')","    } finally {"],"tokenizedAddedLines":[1000218,1000219,1000220,1000221,1000222,1000223,1000224,1000225,2,1000226,1000227,1000228,2,1000229,1000230,1000231,1000232,1000233,1000234]},{"originalStartLineNumberOneIndexed":59,"originalEndLineNumberExclusiveOneIndexed":61,"modifiedStartLineNumberOneIndexed":77,"modifiedEndLineNumberExclusiveOneIndexed":82,"addedLines":["    }","  }","","  const onCloseSuccessModal = () => {","    setShowSuccessModal(false)"],"tokenizedAddedLines":[1000235,56,2,1000236,1000237]},{"originalStartLineNumberOneIndexed":64,"originalEndLineNumberExclusiveOneIndexed":67,"modifiedStartLineNumberOneIndexed":85,"modifiedEndLineNumberExclusiveOneIndexed":86,"addedLines":["    <section id=\"kontakt\" className=\"relative pb-6 md:pb-10 pt-0\">"],"tokenizedAddedLines":[1000238]},{"originalStartLineNumberOneIndexed":80,"originalEndLineNumberExclusiveOneIndexed":82,"modifiedStartLineNumberOneIndexed":99,"modifiedEndLineNumberExclusiveOneIndexed":101,"addedLines":["        <p className=\"text-white/90 text-lg md:text-xl text-center mb-8 drop-shadow-md font-serif italic pt-4 md:pt-6\">","          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„â€ť"],"tokenizedAddedLines":[1000239,1000240]},{"originalStartLineNumberOneIndexed":84,"originalEndLineNumberExclusiveOneIndexed":86,"modifiedStartLineNumberOneIndexed":103,"modifiedEndLineNumberExclusiveOneIndexed":105,"addedLines":["        {/* Karta formularza - ĐĽĐ°ŃŃŃ‚Đ°Đ±Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ° Đ˝Đ° 20% */}","        <div className=\"w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-4 md:p-6 border border-[#3a2e24]/20 scale-[0.8] origin-top\">"],"tokenizedAddedLines":[1000241,1000242]},{"originalStartLineNumberOneIndexed":88,"originalEndLineNumberExclusiveOneIndexed":89,"modifiedStartLineNumberOneIndexed":107,"modifiedEndLineNumberExclusiveOneIndexed":108,"addedLines":["          <h2 className=\"text-[#3a2e24] text-3xl md:text-4xl font-cormorant font-bold text-center mb-4 md:mb-5 border-b border-[#3a2e24]/10 pb-3\">"],"tokenizedAddedLines":[1000243]},{"originalStartLineNumberOneIndexed":92,"originalEndLineNumberExclusiveOneIndexed":93,"modifiedStartLineNumberOneIndexed":111,"modifiedEndLineNumberExclusiveOneIndexed":112,"addedLines":["          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-3 md:space-y-4\">"],"tokenizedAddedLines":[1000244]},{"originalStartLineNumberOneIndexed":95,"originalEndLineNumberExclusiveOneIndexed":96,"modifiedStartLineNumberOneIndexed":114,"modifiedEndLineNumberExclusiveOneIndexed":115,"addedLines":["            <div className=\"grid grid-cols-1 gap-3 md:gap-4\">"],"tokenizedAddedLines":[1000245]},{"originalStartLineNumberOneIndexed":98,"originalEndLineNumberExclusiveOneIndexed":99,"modifiedStartLineNumberOneIndexed":117,"modifiedEndLineNumberExclusiveOneIndexed":118,"addedLines":["                <label className=\"block text-black font-bold font-sans text-base md:text-lg\">"],"tokenizedAddedLines":[1000246]},{"originalStartLineNumberOneIndexed":104,"originalEndLineNumberExclusiveOneIndexed":105,"modifiedStartLineNumberOneIndexed":123,"modifiedEndLineNumberExclusiveOneIndexed":124,"addedLines":["                  className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all\""],"tokenizedAddedLines":[1000247]},{"originalStartLineNumberOneIndexed":113,"originalEndLineNumberExclusiveOneIndexed":114,"modifiedStartLineNumberOneIndexed":132,"modifiedEndLineNumberExclusiveOneIndexed":133,"addedLines":["                <label className=\"block text-black font-bold font-sans text-base md:text-lg\">"],"tokenizedAddedLines":[1000246]},{"originalStartLineNumberOneIndexed":116,"originalEndLineNumberExclusiveOneIndexed":117,"modifiedStartLineNumberOneIndexed":135,"modifiedEndLineNumberExclusiveOneIndexed":135},{"originalStartLineNumberOneIndexed":121,"originalEndLineNumberExclusiveOneIndexed":129,"modifiedStartLineNumberOneIndexed":139,"modifiedEndLineNumberExclusiveOneIndexed":142,"addedLines":["                    <CustomPhoneInput","                      value={field.value || ''}","                      onChange={field.onChange}"],"tokenizedAddedLines":[1000248,1000249,1000250]},{"originalStartLineNumberOneIndexed":132,"originalEndLineNumberExclusiveOneIndexed":133,"modifiedStartLineNumberOneIndexed":145,"modifiedEndLineNumberExclusiveOneIndexed":145},{"originalStartLineNumberOneIndexed":141,"originalEndLineNumberExclusiveOneIndexed":142,"modifiedStartLineNumberOneIndexed":153,"modifiedEndLineNumberExclusiveOneIndexed":154,"addedLines":["              <label className=\"block text-black font-bold font-sans text-base md:text-lg\">"],"tokenizedAddedLines":[1000251]},{"originalStartLineNumberOneIndexed":148,"originalEndLineNumberExclusiveOneIndexed":149,"modifiedStartLineNumberOneIndexed":160,"modifiedEndLineNumberExclusiveOneIndexed":161,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all\""],"tokenizedAddedLines":[1000252]},{"originalStartLineNumberOneIndexed":157,"originalEndLineNumberExclusiveOneIndexed":158,"modifiedStartLineNumberOneIndexed":169,"modifiedEndLineNumberExclusiveOneIndexed":170,"addedLines":["              <label className=\"block text-black font-bold font-sans text-base md:text-lg\">"],"tokenizedAddedLines":[1000251]},{"originalStartLineNumberOneIndexed":163,"originalEndLineNumberExclusiveOneIndexed":164,"modifiedStartLineNumberOneIndexed":175,"modifiedEndLineNumberExclusiveOneIndexed":176,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all\""],"tokenizedAddedLines":[1000252]},{"originalStartLineNumberOneIndexed":172,"originalEndLineNumberExclusiveOneIndexed":173,"modifiedStartLineNumberOneIndexed":184,"modifiedEndLineNumberExclusiveOneIndexed":185,"addedLines":["              <label className=\"block text-black font-bold font-sans text-base md:text-lg mb-2\">"],"tokenizedAddedLines":[1000253]},{"originalStartLineNumberOneIndexed":175,"originalEndLineNumberExclusiveOneIndexed":179,"modifiedStartLineNumberOneIndexed":187,"modifiedEndLineNumberExclusiveOneIndexed":196,"addedLines":["              <div className=\"flex flex-wrap gap-3\">","                <Controller","                  name=\"deviceType\"","                  control={control}","                  render={({ field }) => (","                    <>","                      <CustomRadio","                        id=\"device-printer\"","                        name=\"deviceType\""],"tokenizedAddedLines":[1000254,1000255,1000256,1000257,1000258,1000259,1000260,1000261,1000262]},{"originalStartLineNumberOneIndexed":180,"originalEndLineNumberExclusiveOneIndexed":188,"modifiedStartLineNumberOneIndexed":197,"modifiedEndLineNumberExclusiveOneIndexed":204,"addedLines":["                        checked={field.value === 'printer'}","                        onChange={field.onChange}","                        label=\"Drukarka\"","                      />","                      <CustomRadio","                        id=\"device-computer\"","                        name=\"deviceType\""],"tokenizedAddedLines":[1000263,1000264,1000265,116,1000260,1000266,1000262]},{"originalStartLineNumberOneIndexed":189,"originalEndLineNumberExclusiveOneIndexed":194,"modifiedStartLineNumberOneIndexed":205,"modifiedEndLineNumberExclusiveOneIndexed":220,"addedLines":["                        checked={field.value === 'computer'}","                        onChange={field.onChange}","                        label=\"Komputer / Laptop\"","                      />","                      <CustomRadio","                        id=\"device-other\"","                        name=\"deviceType\"","                        value=\"other\"","                        checked={field.value === 'other'}","                        onChange={field.onChange}","                        label=\"Inne urzÄ…dzenie\"","                      />","                    </>","                  )}","                />"],"tokenizedAddedLines":[1000267,1000264,1000268,116,1000260,1000269,1000262,1000270,1000271,1000264,1000272,116,1000273,1000274,96]},{"originalStartLineNumberOneIndexed":202,"originalEndLineNumberExclusiveOneIndexed":203,"modifiedStartLineNumberOneIndexed":228,"modifiedEndLineNumberExclusiveOneIndexed":229,"addedLines":["              <label className=\"block text-black font-bold font-sans text-base md:text-lg\">"],"tokenizedAddedLines":[1000251]},{"originalStartLineNumberOneIndexed":208,"originalEndLineNumberExclusiveOneIndexed":209,"modifiedStartLineNumberOneIndexed":234,"modifiedEndLineNumberExclusiveOneIndexed":235,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all\""],"tokenizedAddedLines":[1000252]},{"originalStartLineNumberOneIndexed":214,"originalEndLineNumberExclusiveOneIndexed":215,"modifiedStartLineNumberOneIndexed":240,"modifiedEndLineNumberExclusiveOneIndexed":241,"addedLines":["              <label className=\"block text-black font-bold font-sans text-base md:text-lg\">"],"tokenizedAddedLines":[1000251]},{"originalStartLineNumberOneIndexed":221,"originalEndLineNumberExclusiveOneIndexed":222,"modifiedStartLineNumberOneIndexed":247,"modifiedEndLineNumberExclusiveOneIndexed":248,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all resize-y\""],"tokenizedAddedLines":[1000275]},{"originalStartLineNumberOneIndexed":229,"originalEndLineNumberExclusiveOneIndexed":240,"modifiedStartLineNumberOneIndexed":255,"modifiedEndLineNumberExclusiveOneIndexed":269,"addedLines":["            <div className=\"space-y-3 pt-1\">","              <Controller","                name=\"replacementPrinter\"","                control={control}","                render={({ field }) => (","                  <CustomCheckbox","                    id=\"replacement-printer\"","                    name=\"replacementPrinter\"","                    checked={field.value}","                    onChange={field.onChange}","                    label=\"PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy.\"","                  />","                )}","              />"],"tokenizedAddedLines":[1000276,1000277,1000278,1000279,1000280,1000281,1000282,1000283,1000284,1000285,1000286,118,99,133]},{"originalStartLineNumberOneIndexed":242,"originalEndLineNumberExclusiveOneIndexed":249,"modifiedStartLineNumberOneIndexed":271,"modifiedEndLineNumberExclusiveOneIndexed":282,"addedLines":["                <Controller","                  name=\"agreements\"","                  control={control}","                  render={({ field }) => (","                    <CustomCheckbox","                      id=\"agreements\"","                      name=\"agreements\"","                      checked={field.value || false}","                      onChange={(e) => field.onChange(e.target.checked)}","                      label={","                        <>"],"tokenizedAddedLines":[1000255,1000287,1000257,1000258,1000288,1000289,1000290,1000291,1000292,1000293,1000294]},{"originalStartLineNumberOneIndexed":250,"originalEndLineNumberExclusiveOneIndexed":251,"modifiedStartLineNumberOneIndexed":283,"modifiedEndLineNumberExclusiveOneIndexed":284,"addedLines":["                          <Link href=\"/polityka-prywatnosci\" className=\"underline hover:text-black/70\">"],"tokenizedAddedLines":[1000295]},{"originalStartLineNumberOneIndexed":254,"originalEndLineNumberExclusiveOneIndexed":255,"modifiedStartLineNumberOneIndexed":287,"modifiedEndLineNumberExclusiveOneIndexed":288,"addedLines":["                          <Link href=\"/regulamin\" className=\"underline hover:text-black/70\">"],"tokenizedAddedLines":[1000296]},{"originalStartLineNumberOneIndexed":258,"originalEndLineNumberExclusiveOneIndexed":260,"modifiedStartLineNumberOneIndexed":291,"modifiedEndLineNumberExclusiveOneIndexed":296,"addedLines":["                        </>","                      }","                    />","                  )}","                />"],"tokenizedAddedLines":[1000297,1000298,1000299,1000274,96]},{"originalStartLineNumberOneIndexed":267,"originalEndLineNumberExclusiveOneIndexed":268,"modifiedStartLineNumberOneIndexed":303,"modifiedEndLineNumberExclusiveOneIndexed":304,"addedLines":["            <div className=\"pt-4 flex justify-center\">"],"tokenizedAddedLines":[1000300]},{"originalStartLineNumberOneIndexed":271,"originalEndLineNumberExclusiveOneIndexed":272,"modifiedStartLineNumberOneIndexed":307,"modifiedEndLineNumberExclusiveOneIndexed":308,"addedLines":["                className=\"relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-black/30 shadow-[inset_0_0_20px_rgba(0,0,0,0.1)] hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.05)] rounded-full transition-all duration-300\""],"tokenizedAddedLines":[1000301]},{"originalStartLineNumberOneIndexed":273,"originalEndLineNumberExclusiveOneIndexed":274,"modifiedStartLineNumberOneIndexed":309,"modifiedEndLineNumberExclusiveOneIndexed":310,"addedLines":["                <span className=\"font-cormorant font-bold text-2xl text-black tracking-wide group-hover:text-black/80 flex items-center gap-2\">"],"tokenizedAddedLines":[1000302]},{"originalStartLineNumberOneIndexed":283,"originalEndLineNumberExclusiveOneIndexed":283,"modifiedStartLineNumberOneIndexed":319,"modifiedEndLineNumberExclusiveOneIndexed":322,"addedLines":["","      {/* Success Modal */}","      <SuccessModal isOpen={showSuccessModal} onClose={onCloseSuccessModal} />"],"tokenizedAddedLines":[2,1000303,1000304]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

💡 DIFF: a1035f53-4357-4933-8989-ffb7da3516fb
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"a1035f53-4357-4933-8989-ffb7da3516fb","fileSizeBytes":6553,"numLines":182,"diffChanges":[{"originalStartLineNumberOneIndexed":118,"originalEndLineNumberExclusiveOneIndexed":119,"modifiedStartLineNumberOneIndexed":118,"modifiedEndLineNumberExclusiveOneIndexed":123,"addedLines":["  /* ĐˇĐżĐµŃ†Đ¸Ń„Đ¸Ń‡Đ˝Ń‹Đµ ŃŃ‚Đ¸Đ»Đ¸ Đ´Đ»ŃŹ ĐżŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝ĐľĐłĐľ Ń„ĐľĐ˝Đ° Đ˛ #kontakt Đ¸ #kontakt-test */","  #kontakt input[type=\"text\"],","  #kontakt input[type=\"email\"],","  #kontakt input[type=\"tel\"],","  #kontakt input:not([type=\"radio\"]):not([type=\"checkbox\"]):not([type=\"submit\"]):not([type=\"button\"]):not([type=\"hidden\"]),"],"tokenizedAddedLines":[1000097,1000098,1000099,1000100,1000101]},{"originalStartLineNumberOneIndexed":129,"originalEndLineNumberExclusiveOneIndexed":129,"modifiedStartLineNumberOneIndexed":133,"modifiedEndLineNumberExclusiveOneIndexed":134,"addedLines":["  #kontakt textarea,"],"tokenizedAddedLines":[1000102]},{"originalStartLineNumberOneIndexed":136,"originalEndLineNumberExclusiveOneIndexed":137,"modifiedStartLineNumberOneIndexed":141,"modifiedEndLineNumberExclusiveOneIndexed":158,"addedLines":["  /* ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ Đ˛ŃĐµŃ… input Đ˛Đ˝ŃŃ‚Ń€Đ¸ #kontakt Đ¸ #kontakt-test ĐżŃ€Đ¸ autofill */","  #kontakt input:-webkit-autofill,","  #kontakt input:-webkit-autofill:hover,","  #kontakt input:-webkit-autofill:focus,","  #kontakt input:-webkit-autofill:active,","  #kontakt input[type=\"text\"]:-webkit-autofill,","  #kontakt input[type=\"text\"]:-webkit-autofill:hover,","  #kontakt input[type=\"text\"]:-webkit-autofill:focus,","  #kontakt input[type=\"text\"]:-webkit-autofill:active,","  #kontakt input[type=\"email\"]:-webkit-autofill,","  #kontakt input[type=\"email\"]:-webkit-autofill:hover,","  #kontakt input[type=\"email\"]:-webkit-autofill:focus,","  #kontakt input[type=\"email\"]:-webkit-autofill:active,","  #kontakt input[type=\"tel\"]:-webkit-autofill,","  #kontakt input[type=\"tel\"]:-webkit-autofill:hover,","  #kontakt input[type=\"tel\"]:-webkit-autofill:focus,","  #kontakt input[type=\"tel\"]:-webkit-autofill:active,"],"tokenizedAddedLines":[1000103,1000104,1000105,1000106,1000107,1000108,1000109,1000110,1000111,1000112,1000113,1000114,1000115,1000116,1000117,1000118,1000119]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: dca0be36-e454-4124-9a76-57c14d0b24c7 | Время: 11/25/2025 10:15:36 =====


--- METADATA ---

{"agentRequestId":"dca0be36-e454-4124-9a76-57c14d0b24c7","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\api\\send-email\\route.ts","fileUuid":"fc960357-cc54-430e-ae91-3e11f7285aab","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact-test.tsx","fileUuid":"f5cd1467-a19e-4498-9dac-89f7dd022aba","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}],"startTrackingDateUnixMilliseconds":1764062136226,"fileSizeBytes":22291,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: f5cd1467-a19e-4498-9dac-89f7dd022aba
----------------------------------------

'use client'

import { useState, useEffect, useRef } from 'react'
import { useForm, Controller } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import { toast, Toaster } from 'sonner'
import { Loader2 } from 'lucide-react'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'
import { CustomRadio } from '@/components/ui/custom-radio'
import { CustomCheckbox } from '@/components/ui/custom-checkbox'
import { CustomPhoneInput } from '@/components/ui/custom-phone-input'
import { SuccessModal } from '@/components/ui/success-modal'

// Schemat walidacji Zod
const formSchema = z.object({
  name: z.string().min(2, { message: 'ImiÄ™ i nazwisko musi mieÄ‡ min. 2 znaki' }),
  phone: z.string().refine((val) => {
    // Đ•ŃĐ»Đ¸ Đ˝ĐľĐĽĐµŃ€ ŃĐľĐ´ĐµŃ€Đ¶Đ¸Ń‚ "other" Đ¸Đ»Đ¸ ĐżŃŃŃ‚ĐľĐą ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹, ĐżŃ€ĐľĐżŃŃĐşĐ°ĐµĐĽ Đ˛Đ°Đ»Đ¸Đ´Đ°Ń†Đ¸ŃŽ
    if (!val || val.trim() === '') return false
    // ĐźŃ€ĐľĐ˛ĐµŃ€ŃŹĐµĐĽ, ĐµŃŃ‚ŃŚ Đ»Đ¸ ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹ (Đ˝Đ°Ń‡Đ¸Đ˝Đ°ĐµŃ‚ŃŃŹ Ń +)
    if (!val.startsWith('+')) return false
    // ĐśĐ¸Đ˝Đ¸ĐĽĐ°Đ»ŃŚĐ˝Đ°ŃŹ Đ´Đ»Đ¸Đ˝Đ° Ń ĐşĐľĐ´ĐľĐĽ ŃŃ‚Ń€Đ°Đ˝Ń‹
    return val.replace(/\D/g, '').length >= 10
  }, { message: 'Numer telefonu jest niepoprawny' }),
  email: z.string().email({ message: 'Niepoprawny adres e-mail' }),
  address: z.string().min(5, { message: 'Adres musi mieÄ‡ min. 5 znakĂłw' }),
  deviceType: z.enum(['printer', 'computer', 'other'], { message: 'Wybierz typ urzÄ…dzenia' }),
  deviceModel: z.string().optional(),
  problemDescription: z.string().min(10, { message: 'Opis problemu musi mieÄ‡ min. 10 znakĂłw' }),
  replacementPrinter: z.boolean(),
  agreements: z.literal(true, { message: 'Musisz zaakceptowaÄ‡ regulamin' }),
})

type FormValues = z.infer<typeof formSchema>

export function ContactTest() {
  const [isSubmitting, setIsSubmitting] = useState(false)
  const [showSuccessModal, setShowSuccessModal] = useState(false)
  const formRef = useRef<HTMLFormElement>(null)

  const {
    register,
    control,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      name: '',
      phone: '',
      email: '',
      address: '',
      deviceType: undefined,
      deviceModel: '',
      problemDescription: '',
      replacementPrinter: false,
      agreements: undefined,
    },
  })

  // ĐźŃ€Đ¸Đ˝ŃĐ´Đ¸Ń‚ĐµĐ»ŃŚĐ˝ĐľĐµ ĐżŃ€Đ¸ĐĽĐµĐ˝ĐµĐ˝Đ¸Đµ ĐżŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝ĐľĐłĐľ Ń„ĐľĐ˝Đ° ĐżĐľŃĐ»Đµ Đ°Đ˛Ń‚ĐľĐ·Đ°ĐżĐľĐ»Đ˝ĐµĐ˝Đ¸ŃŹ
  useEffect(() => {
    const fixAutofillStyles = () => {
      if (formRef.current) {
        const inputs = formRef.current.querySelectorAll<HTMLInputElement>(
          'input[type="text"], input[type="email"], input[type="tel"]'
        )
        
        inputs.forEach((input) => {
          // Đ¤ŃĐ˝ĐşŃ†Đ¸ŃŹ Đ´Đ»ŃŹ ĐżŃ€Đ¸ĐĽĐµĐ˝ĐµĐ˝Đ¸ŃŹ ĐżŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝ĐľĐłĐľ Ń„ĐľĐ˝Đ°
          const applyTransparent = () => {
            input.style.setProperty('background-color', 'transparent', 'important')
            input.style.setProperty('background', 'transparent', 'important')
            input.style.setProperty('-webkit-box-shadow', '0 0 0 1000px transparent inset', 'important')
            input.style.setProperty('box-shadow', '0 0 0 1000px transparent inset', 'important')
          }
          
          // ĐźŃ€Đ¸ĐĽĐµĐ˝ŃŹĐµĐĽ ŃŃ€Đ°Đ·Ń
          applyTransparent()
          
          // ĐžĐ±Ń€Đ°Đ±ĐľŃ‚Ń‡Đ¸ĐşĐ¸ ŃĐľĐ±Ń‹Ń‚Đ¸Đą
          input.addEventListener('input', applyTransparent)
          input.addEventListener('change', applyTransparent)
          input.addEventListener('focus', applyTransparent)
          input.addEventListener('blur', applyTransparent)
          
          // ĐžĐ±Ń€Đ°Đ±ĐľŃ‚Ń‡Đ¸Đş Đ´Đ»ŃŹ Đ°Đ˛Ń‚ĐľĐ·Đ°ĐżĐľĐ»Đ˝ĐµĐ˝Đ¸ŃŹ (ĐşĐľĐłĐ´Đ° Đ±Ń€Đ°ŃĐ·ĐµŃ€ ĐżŃ€Đ¸ĐĽĐµĐ˝ŃŹĐµŃ‚ ŃŃ‚Đ¸Đ»Đ¸)
          const observer = new MutationObserver(() => {
            // ĐźŃ€ĐľĐ˛ĐµŃ€ŃŹĐµĐĽ, ĐµŃŃ‚ŃŚ Đ»Đ¸ ĐşĐ»Đ°ŃŃ Đ°Đ˛Ń‚ĐľĐ·Đ°ĐżĐľĐ»Đ˝ĐµĐ˝Đ¸ŃŹ
            if (input.matches(':-webkit-autofill')) {
              applyTransparent()
            }
          })
          
          observer.observe(input, {
            attributes: true,
            attributeFilter: ['style', 'class'],
            childList: false,
            subtree: false,
          })
          
          // ĐźŃ€ĐľĐ˛ĐµŃ€ŃŹĐµĐĽ ĐşĐ°Đ¶Đ´Ń‹Đµ 100ĐĽŃ Đ˛ Ń‚ĐµŃ‡ĐµĐ˝Đ¸Đµ ĐżĐµŃ€Đ˛Ń‹Ń… 2 ŃĐµĐşŃĐ˝Đ´ (Đ˛Ń€ĐµĐĽŃŹ, ĐşĐľĐłĐ´Đ° Đ±Ń€Đ°ŃĐ·ĐµŃ€ ĐżŃ€Đ¸ĐĽĐµĐ˝ŃŹĐµŃ‚ Đ°Đ˛Ń‚ĐľĐ·Đ°ĐżĐľĐ»Đ˝ĐµĐ˝Đ¸Đµ)
          let checkCount = 0
          const checkInterval = setInterval(() => {
            applyTransparent()
            checkCount++
            if (checkCount >= 20) {
              clearInterval(checkInterval)
            }
          }, 100)
        })
      }
    }

    // ĐźŃ€Đ¸ĐĽĐµĐ˝ŃŹĐµĐĽ Ń Đ·Đ°Đ´ĐµŃ€Đ¶ĐşĐľĐą, Ń‡Ń‚ĐľĐ±Ń‹ Ń„ĐľŃ€ĐĽĐ° ŃŃĐżĐµĐ»Đ° ĐľŃ‚Ń€ĐµĐ˝Đ´ĐµŃ€Đ¸Ń‚ŃŚŃŃŹ
    const timer = setTimeout(fixAutofillStyles, 100)
    const timer2 = setTimeout(fixAutofillStyles, 500)
    const timer3 = setTimeout(fixAutofillStyles, 1000)

    return () => {
      clearTimeout(timer)
      clearTimeout(timer2)
      clearTimeout(timer3)
    }
  }, [])

  const onSubmit = async (data: FormValues) => {
    setIsSubmitting(true)
    
    try {
      // ĐžŃ‚ĐżŃ€Đ°Đ˛Đ»ŃŹĐµĐĽ Đ´Đ°Đ˝Đ˝Ń‹Đµ Đ˝Đ° API
      const response = await fetch('/api/send-email', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      })

      if (!response.ok) {
        throw new Error('BĹ‚Ä…d podczas wysyĹ‚ania')
      }

      // ĐžŃ‡Đ¸Ń‰Đ°ĐµĐĽ Ń„ĐľŃ€ĐĽŃ
      reset()
      
      // ĐźĐľĐşĐ°Đ·Ń‹Đ˛Đ°ĐµĐĽ ĐĽĐľĐ´Đ°Đ»ŃŚĐ˝ĐľĐµ ĐľĐşĐ˝Đľ
      setShowSuccessModal(true)
    } catch (error) {
      console.error('Error sending email:', error)
      toast.error('WystÄ…piĹ‚ bĹ‚Ä…d podczas wysyĹ‚ania zgĹ‚oszenia. SprĂłbuj ponownie.')
    } finally {
      setIsSubmitting(false)
    }
  }

  return (
    <section id="kontakt-test" className="relative pb-6 md:pb-10 pt-0">
      <Toaster position="bottom-center" />
      
      {/* TĹ‚o sekcji */}
      <div
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.services_background}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/50" />
      </div>

      <div className="relative z-10 container mx-auto px-4 flex flex-col items-center">
        
        {/* Tekst nad formularzem */}
        <p className="text-[22px] text-[#fff8e7] font-cormorant italic font-semibold text-center mb-8 drop-shadow-2xl pt-4 md:pt-6">
          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„"
        </p>

        {/* Karta formularza */}
        <div className="w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-4 md:p-6 border border-black/20 scale-[0.8] origin-top">
          
          {/* NagĹ‚Ăłwek formularza */}
          <h2 className="text-black text-3xl md:text-4xl font-cormorant italic font-bold text-center mb-4 md:mb-5 border-b border-black/10 pb-3 md:pb-3">
            Formularz zgĹ‚oszeniowy (TEST - Nowa wersja)
          </h2>

          <form ref={formRef} onSubmit={handleSubmit(onSubmit)} className="space-y-3 md:space-y-4">
            
            {/* ImiÄ™ i nazwisko */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                ImiÄ™ i nazwisko
              </label>
              <input
                {...register('name')}
                type="text"
                placeholder="Jan Kowalski"
                autoComplete="off"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/60 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all resize-y"
              />
              {errors.name && (
                <p className="text-red-600 text-sm">{errors.name.message}</p>
              )}
            </div>

            {/* Telefon */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Numer telefonu
              </label>
              <div className="phone-input-container">
                <Controller
                  name="phone"
                  control={control}
                  render={({ field }) => (
                    <CustomPhoneInput
                      value={field.value || ''}
                      onChange={(phone) => field.onChange(phone)}
                      defaultCountry="pl"
                    />
                  )}
                />
              </div>
              {errors.phone && (
                <p className="text-red-600 text-sm">{errors.phone.message}</p>
              )}
            </div>

              {/* E-mail */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Adres e-mail
              </label>
              <input
                {...register('email')}
                type="email"
                placeholder="jan.kowalski@example.com"
                autoComplete="off"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/60 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.email && (
                <p className="text-red-600 text-sm">{errors.email.message}</p>
              )}
            </div>

            {/* Adres */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Adres
              </label>
              <input
                {...register('address')}
                type="text"
                placeholder="ul. PrzykĹ‚adowa 1, 50-001 WrocĹ‚aw"
                autoComplete="off"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/60 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.address && (
                <p className="text-red-600 text-sm">{errors.address.message}</p>
              )}
            </div>

            {/* Typ urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl mb-2">
                Typ urzÄ…dzenia
              </label>
              <div className="flex flex-wrap gap-6">
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <CustomRadio
                      {...field}
                      value="printer"
                      checked={field.value === 'printer'}
                      label="Drukarka"
                    />
                  )}
                />
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <CustomRadio
                      {...field}
                      value="computer"
                      checked={field.value === 'computer'}
                      label="Komputer / Laptop"
                    />
                  )}
                />
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <CustomRadio
                      {...field}
                      value="other"
                      checked={field.value === 'other'}
                      label="Inne urzÄ…dzenie"
                    />
                  )}
                />
              </div>
              {errors.deviceType && (
                <p className="text-red-600 text-sm">{errors.deviceType.message}</p>
              )}
            </div>

            {/* Model urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Model urzÄ…dzenia
              </label>
              <input
                {...register('deviceModel')}
                type="text"
                placeholder="np. HP LaserJet Pro M404dn"
                autoComplete="off"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/60 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
            </div>

            {/* Opis problemu */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Opis problemu
              </label>
              <textarea
                {...register('problemDescription')}
                rows={4}
                placeholder="ProszÄ™ opisaÄ‡ problem z urzÄ…dzeniem..."
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/60 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all resize-y"
              />
              {errors.problemDescription && (
                <p className="text-red-600 text-sm">{errors.problemDescription.message}</p>
              )}
            </div>

            {/* Checkboxy */}
            <div className="space-y-3 pt-1">
              <Controller
                name="replacementPrinter"
                control={control}
                render={({ field }) => (
                  <CustomCheckbox
                    checked={field.value || false}
                    onChange={(e) => field.onChange(e.target.checked)}
                    onBlur={field.onBlur}
                    name={field.name}
                    label="PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy."
                  />
                )}
              />

              <div className="space-y-1">
                <Controller
                  name="agreements"
                  control={control}
                  render={({ field }) => (
                    <CustomCheckbox
                      checked={field.value || false}
                      onChange={(e) => field.onChange(e.target.checked)}
                      onBlur={field.onBlur}
                      name={field.name}
                      label={
                        <span className="text-lg">
                          OĹ›wiadczam, ĹĽe zapoznaĹ‚em/am siÄ™ z{' '}
                          <Link href="/polityka-prywatnosci" className="underline hover:text-black hover:font-bold transition-all">
                            PolitykÄ… PrywatnoĹ›ci
                          </Link>{' '}
                          oraz{' '}
                          <Link href="/regulamin" className="underline hover:text-black hover:font-bold transition-all">
                            Regulaminem
                          </Link>{' '}
                          i akceptujÄ™ ich postanowienia.
                        </span>
                      }
                    />
                  )}
                />
                {errors.agreements && (
                  <p className="text-red-600 text-sm ml-8">{errors.agreements.message}</p>
                )}
              </div>
            </div>

            {/* Przycisk Submit */}
            <div className="pt-4 flex justify-center">
              <button
                type="submit"
                disabled={isSubmitting}
                className="relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-black/30 shadow-[inset_0_0_20px_rgba(0,0,0,0.1)] hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.05)] rounded-full transition-all duration-300"
              >
                <span className="font-cormorant font-bold text-2xl text-black tracking-wide group-hover:text-black flex items-center gap-2">
                  {isSubmitting && <Loader2 className="animate-spin h-5 w-5" />}
                  WyĹ›lij zgĹ‚oszenie
                </span>
              </button>
            </div>

          </form>
        </div>
      </div>

      {/* ĐśĐľĐ´Đ°Đ»ŃŚĐ˝ĐľĐµ ĐľĐşĐ˝Đľ ŃŃĐżĐµŃĐ˝ĐľĐą ĐľŃ‚ĐżŃ€Đ°Đ˛ĐşĐ¸ */}
      <SuccessModal 
        isOpen={showSuccessModal} 
        onClose={() => setShowSuccessModal(false)} 
      />
    </section>
  )
}


🗂 FILE: fc960357-cc54-430e-ae91-3e11f7285aab
----------------------------------------

import { Resend } from 'resend'
import { NextRequest, NextResponse } from 'next/server'

const resend = new Resend(process.env.RESEND_API_KEY)

export async function POST(request: NextRequest) {
  try {
    const body = await request.json()
    const { name, phone, email, address, deviceType, deviceModel, problemDescription, replacementPrinter } = body

    // Đ¤ĐľŃ€ĐĽĐ¸Ń€ŃĐµĐĽ ŃĐľĐľĐ±Ń‰ĐµĐ˝Đ¸Đµ
    const deviceTypeText = deviceType === 'printer' ? 'Drukarka' : deviceType === 'computer' ? 'Komputer / Laptop' : 'Inne urzÄ…dzenie'
    const replacementText = replacementPrinter ? 'Tak' : 'Nie'

    const emailContent = `
Nowe zgĹ‚oszenie z formularza kontaktowego:

ImiÄ™ i nazwisko: ${name}
Numer telefonu: ${phone}
Email: ${email}
Adres: ${address}

Typ urzÄ…dzenia: ${deviceTypeText}
${deviceModel ? `Model urzÄ…dzenia: ${deviceModel}` : ''}

Opis problemu:
${problemDescription}

PotrzebujÄ™ drukarki zastÄ™pczej: ${replacementText}

---
WiadomoĹ›Ä‡ wysĹ‚ana z formularza kontaktowego Omobonus Serwis
    `.trim()

    // ĐžŃ‚ĐżŃ€Đ°Đ˛Đ»ŃŹĐµĐĽ email
    const { data, error } = await resend.emails.send({
      from: 'Omobonus Serwis <noreply@omobonus.pl>', // Đ—Đ°ĐĽĐµĐ˝Đ¸Ń‚Đµ Đ˝Đ° Đ˛Đ°Ń Đ´ĐľĐĽĐµĐ˝
      to: ['omobonus.pl@gmail.com'],
      subject: `Nowe zgĹ‚oszenie od ${name}`,
      text: emailContent,
    })

    if (error) {
      console.error('Resend error:', error)
      return NextResponse.json({ error: 'BĹ‚Ä…d podczas wysyĹ‚ania email' }, { status: 500 })
    }

    return NextResponse.json({ success: true, data })
  } catch (error) {
    console.error('Email send error:', error)
    return NextResponse.json({ error: 'BĹ‚Ä…d serwera' }, { status: 500 })
  }
}


--- DIFFS ---


💡 DIFF: f5cd1467-a19e-4498-9dac-89f7dd022aba
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact-test.tsx","fileUuid":"f5cd1467-a19e-4498-9dac-89f7dd022aba","fileSizeBytes":16988,"numLines":418,"diffChanges":[{"originalStartLineNumberOneIndexed":144,"originalEndLineNumberExclusiveOneIndexed":145,"modifiedStartLineNumberOneIndexed":144,"modifiedEndLineNumberExclusiveOneIndexed":146,"addedLines":["        const errorData = await response.json().catch(() => ({}))","        throw new Error(errorData.error || 'BĹ‚Ä…d podczas wysyĹ‚ania')"],"tokenizedAddedLines":[1000298,1000299]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

💡 DIFF: fc960357-cc54-430e-ae91-3e11f7285aab
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\api\\send-email\\route.ts","fileUuid":"fc960357-cc54-430e-ae91-3e11f7285aab","fileSizeBytes":2714,"numLines":80,"diffChanges":[{"originalStartLineNumberOneIndexed":4,"originalEndLineNumberExclusiveOneIndexed":5,"modifiedStartLineNumberOneIndexed":4,"modifiedEndLineNumberExclusiveOneIndexed":6,"addedLines":["const resendApiKey = process.env.RESEND_API_KEY","const resend = resendApiKey ? new Resend(resendApiKey) : null"],"tokenizedAddedLines":[1000042,1000043]},{"originalStartLineNumberOneIndexed":35,"originalEndLineNumberExclusiveOneIndexed":36,"modifiedStartLineNumberOneIndexed":36,"modifiedEndLineNumberExclusiveOneIndexed":55,"addedLines":["    // Đ•ŃĐ»Đ¸ API ĐşĐ»ŃŽŃ‡ Đ˝Đµ Đ˝Đ°ŃŃ‚Ń€ĐľĐµĐ˝, ĐżŃ€ĐľŃŃ‚Đľ Đ»ĐľĐłĐ¸Ń€ŃĐµĐĽ Đ¸ Đ˛ĐľĐ·Đ˛Ń€Đ°Ń‰Đ°ĐµĐĽ ŃŃĐżĐµŃ… (Đ´Đ»ŃŹ Ń‚ĐµŃŃ‚Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ¸ŃŹ)","    if (!resend || !resendApiKey) {","      console.log('=== EMAIL (TEST MODE - API KEY NOT SET) ===')","      console.log('To:', 'omobonus.pl@gmail.com')","      console.log('Subject:', `Nowe zgĹ‚oszenie od ${name}`)","      console.log('Content:', emailContent)","      console.log('==========================================')","      ","      // Đ’ Ń€ĐµĐ¶Đ¸ĐĽĐµ Ń€Đ°Đ·Ń€Đ°Đ±ĐľŃ‚ĐşĐ¸ Đ˛ĐľĐ·Đ˛Ń€Đ°Ń‰Đ°ĐµĐĽ ŃŃĐżĐµŃ… Đ´Đ»ŃŹ Ń‚ĐµŃŃ‚Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ¸ŃŹ UI","      if (process.env.NODE_ENV === 'development') {","        return NextResponse.json({ success: true, testMode: true })","      } else {","        return NextResponse.json({ ","          error: 'API ĐşĐ»ŃŽŃ‡ Resend Đ˝Đµ Đ˝Đ°ŃŃ‚Ń€ĐľĐµĐ˝. ĐˇĐľĐ·Đ´Đ°ĐąŃ‚Đµ Ń„Đ°ĐąĐ» .env.local Ń RESEND_API_KEY' ","        }, { status: 500 })","      }","    }","","    // ĐžŃ‚ĐżŃ€Đ°Đ˛Đ»ŃŹĐµĐĽ email Ń‡ĐµŃ€ĐµĐ· Resend"],"tokenizedAddedLines":[1000044,1000045,1000046,1000047,1000048,1000049,1000050,1000051,1000052,1000053,1000054,1000055,1000056,1000057,1000058,1000059,36,3,1000060]},{"originalStartLineNumberOneIndexed":37,"originalEndLineNumberExclusiveOneIndexed":38,"modifiedStartLineNumberOneIndexed":56,"modifiedEndLineNumberExclusiveOneIndexed":57,"addedLines":["      from: 'onboarding@resend.dev', // Đ˘ĐµŃŃ‚ĐľĐ˛Ń‹Đą Đ´ĐľĐĽĐµĐ˝ Resend (Đ·Đ°ĐĽĐµĐ˝Đ¸Ń‚Đµ Đ˝Đ° ŃĐ˛ĐľĐą ĐżĐľŃĐ»Đµ Đ˝Đ°ŃŃ‚Ń€ĐľĐąĐşĐ¸)"],"tokenizedAddedLines":[1000061]},{"originalStartLineNumberOneIndexed":45,"originalEndLineNumberExclusiveOneIndexed":46,"modifiedStartLineNumberOneIndexed":64,"modifiedEndLineNumberExclusiveOneIndexed":68,"addedLines":["      return NextResponse.json({ ","        error: 'BĹ‚Ä…d podczas wysyĹ‚ania email',","        details: error.message || 'Nieznany bĹ‚Ä…d'","      }, { status: 500 })"],"tokenizedAddedLines":[1000062,1000063,1000064,1000065]},{"originalStartLineNumberOneIndexed":49,"originalEndLineNumberExclusiveOneIndexed":50,"modifiedStartLineNumberOneIndexed":71,"modifiedEndLineNumberExclusiveOneIndexed":72,"addedLines":["  } catch (error: any) {"],"tokenizedAddedLines":[1000066]},{"originalStartLineNumberOneIndexed":51,"originalEndLineNumberExclusiveOneIndexed":52,"modifiedStartLineNumberOneIndexed":73,"modifiedEndLineNumberExclusiveOneIndexed":77,"addedLines":["    return NextResponse.json({ ","      error: 'BĹ‚Ä…d serwera',","      details: error?.message || 'Nieznany bĹ‚Ä…d'","    }, { status: 500 })"],"tokenizedAddedLines":[1000067,1000068,1000069,1000070]},{"originalStartLineNumberOneIndexed":54,"originalEndLineNumberExclusiveOneIndexed":54,"modifiedStartLineNumberOneIndexed":79,"modifiedEndLineNumberExclusiveOneIndexed":80,"addedLines":[""],"tokenizedAddedLines":[3]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: df4f7252-7d90-447e-b5b7-a1fd16575055 | Время: 11/25/2025 08:55:56 =====


--- METADATA ---

{"agentRequestId":"df4f7252-7d90-447e-b5b7-a1fd16575055","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\check-contrast.js","fileUuid":"2cc2f45f-bfc8-492d-8855-bb18dee11d4e","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact-test.tsx","fileUuid":"56389496-f982-4251-ad30-06877cdd4259","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"b62d8acb-872b-4308-8443-3154a561947a","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\check-other-contrast.js","fileUuid":"2fdf60f5-ea33-429a-88b4-948edf94bfb1","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"d812b299-4219-4de2-b164-f20af68ef091","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\uslugi\\[slug]\\page.tsx","fileUuid":"12a28fc0-11c2-4ffc-b6a5-1278b1c6aa4f","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}],"startTrackingDateUnixMilliseconds":1764057356286,"fileSizeBytes":63697,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 12a28fc0-11c2-4ffc-b6a5-1278b1c6aa4f
----------------------------------------

import { notFound } from 'next/navigation'
import Image from 'next/image'
import { services } from '@/lib/services-data'
import { Header } from '@/components/header'
import { Footer } from '@/components/footer'
import manifest from '@/config/KANONICZNY_MANIFEST.json'
import {
  Accordion,
  AccordionContent,
  AccordionItem,
  AccordionTrigger,
} from '@/components/ui/accordion'
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from '@/components/ui/table'
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from '@/components/ui/tooltip'
import { Info, ArrowRight } from 'lucide-react'

// Helper do ikon (bo manifest ma pĹ‚askÄ… strukturÄ™)
const getIconForSection = (sectionId: string) => {
  switch (sectionId) {
    case 'diagnoza':
      return manifest.P1_Diagnoza_i_wycena
    case 'dojazd':
      return manifest.P2_Dojazd
    case 'konserwacja':
      return manifest.P3_Czyszczenie_i_konserwacja_pakiety
    case 'naprawy':
      return manifest.P4_Naprawy_i_uslugi_serwisowe
    case 'faq':
      return manifest.P5_FAQ_pytania_i_odpowiedzi
    default:
      return manifest.P5_FAQ_pytania_i_odpowiedzi
  }
}

// Funkcja pomocnicza do parsowania tekstu usĹ‚ugi (wydzielenie tekstu w nawiasach)
const parseServiceText = (text: string) => {
  // ĐžĐ±Ń€Đ°Đ±ĐľŃ‚ĐşĐ° ŃĐ»ŃŃ‡Đ°ŃŹ Ń Đ´Đ˛ŃĐĽŃŹ ĐżĐ°Ń€Đ°ĐĽĐ¸ ŃĐşĐľĐ±ĐľĐş: "Đ˘ĐµĐşŃŃ‚ (ŃĐşĐľĐ±ĐşĐ¸1) (ŃĐşĐľĐ±ĐşĐ¸2)"
  const matchTwo = text.match(/^(.+?)\s*\((.+?)\)\s*\((.+?)\)\s*$/)
  if (matchTwo) {
    return {
      main: `${matchTwo[1].trim()} (${matchTwo[2].trim()})`,
      parentheses: matchTwo[3].trim()
    }
  }
  // ĐžĐ±Ń€Đ°Đ±ĐľŃ‚ĐşĐ° ŃĐ»ŃŃ‡Đ°ŃŹ Ń ĐľĐ´Đ˝ĐľĐą ĐżĐ°Ń€ĐľĐą ŃĐşĐľĐ±ĐľĐş: "Đ˘ĐµĐşŃŃ‚ (ŃĐşĐľĐ±ĐşĐ¸)"
  const match = text.match(/^(.+?)\s*\((.+?)\)\s*$/)
  if (match) {
    return {
      main: match[1].trim(),
      parentheses: match[2].trim()
    }
  }
  return {
    main: text,
    parentheses: null
  }
}

export async function generateStaticParams() {
  return services.map((service) => ({
    slug: service.slug,
  }))
}

export default async function ServicePage({
  params,
}: {
  params: Promise<{ slug: string }>
}) {
  const { slug } = await params
  const service = services.find((s) => s.slug === slug)

  if (!service) {
    notFound()
  }

  return (
    <>
      <Header />
      <main className="min-h-screen pt-[65px] relative">
        {/* TĹ‚o z services_background i 50% Đ·Đ°Ń‚ĐµĐĽĐ˝ĐµĐ˝Đ¸ĐµĐĽ */}
        <div
          className="absolute inset-0 bg-cover bg-center"
          style={{
            backgroundImage: `url('${manifest.services_background}')`,
          }}
        >
          <div className="absolute inset-0 bg-black/50" />
        </div>

        {/* Hero Sekcja */}
        <div className="relative">
          <div className="container max-w-5xl mx-auto px-4 md:px-6 text-center relative z-10 mb-6">
            <h1 className="text-[40px] font-cormorant font-bold text-[#ffffff] leading-[1.1]">
              {service.title}
            </h1>
            <p className="mt-[6px] text-[18px] text-[#fff8e7] font-cormorant italic leading-tight max-w-3xl mx-auto font-semibold drop-shadow-2xl">
              PeĹ‚ny wykaz usĹ‚ug i cen, bez ukrytych kosztĂłw (nie &quot;naprawa od 50 zĹ‚&quot; lub &quot;cena do uzgodnienia&quot;)
            </p>
          </div>
        </div>

        {/* Sekcja Cennika (Accordion w stylu "Nasze UsĹ‚ugi") */}
        <div className="container max-w-4xl mx-auto px-4 md:px-6 pb-20 relative z-10">
          <div className="flex flex-col gap-4">
            <Accordion type="multiple" className="w-full">
              {service.pricingSections.map((section) => (
                <AccordionItem
                  key={section.id}
                  value={section.id}
                  className="border-0 group"
                >
                  <div className="group relative min-h-[90px] rounded-lg p-3 border-2 border-white/40 hover:border-white/60 transition-all duration-300 hover:shadow-xl bg-transparent hover:bg-white/5 w-full">
                    <AccordionTrigger className="hover:no-underline [&>svg]:hidden w-full group">
                      <div className="flex items-start w-full text-left">
                        {/* Lewa czÄ™Ĺ›Ä‡ - dokĹ‚adnie jak na stronie gĹ‚Ăłwnej */}
                        <div className="flex items-start flex-1">
                          {/* Ikona */}
                          <div className="mr-4 w-[50px] h-[50px] flex-shrink-0 flex items-center justify-center">
                            <Image
                              src={getIconForSection(section.id)}
                              alt={section.title}
                              width={50}
                              height={50}
                              className="object-contain w-full h-full opacity-90 group-hover:opacity-100 transition-opacity"
                              unoptimized
                            />
                          </div>

                          {/* TreĹ›Ä‡ */}
                          <div className="flex-1">
                            <h3 className="text-lg md:text-xl font-cormorant font-semibold text-[#ffffff] group-hover:text-white transition-colors mb-1 leading-tight">
                              {section.title}
                            </h3>
                            <div className="flex items-center gap-2 text-[#bfa76a] text-xs font-serif group-hover:translate-x-1 transition-transform group-data-[state=open]:hidden">
                              <span>{section.id === 'faq' ? 'Zobacz' : 'Zobacz cennik'}</span>
                              <ArrowRight className="w-3 h-3" />
                            </div>
                          </div>
                        </div>

                        {/* Prawa czÄ™Ĺ›Ä‡ - GRATIS / NagĹ‚Ăłwki kolumn (ukryte dla FAQ) */}
                        {section.id !== 'faq' && (
                          <div className="flex items-center gap-4 ml-4">
                            {/* GRATIS lub NagĹ‚Ăłwek "Cena, zĹ‚" */}
                            <div className="flex items-center justify-center min-w-[120px]">
                              {/* GRATIS - widoczne tylko gdy zamkniÄ™te */}
                              {(section.id === 'diagnoza' || section.id === 'dojazd') && (
                                <span className="text-lg md:text-xl font-cormorant font-semibold text-[#ffffff] group-data-[state=open]:hidden">
                                  GRATIS
                                </span>
                              )}
                              {/* NagĹ‚Ăłwek "Cena, zĹ‚" - widoczne tylko gdy otwarte */}
                              <div className="text-center hidden group-data-[state=open]:block">
                                <div className="flex items-center justify-center gap-2 text-[#ffffff] font-cormorant font-bold text-lg">
                                  Cena, zĹ‚
                                  <TooltipProvider>
                                    <Tooltip>
                                      <TooltipTrigger>
                                        <Info className="w-4 h-4 opacity-70" />
                                      </TooltipTrigger>
                                      <TooltipContent>
                                        <p>Ceny brutto (zawierajÄ… VAT)</p>
                                      </TooltipContent>
                                    </Tooltip>
                                  </TooltipProvider>
                                </div>
                                <span className="text-xs font-normal text-white/50 block mt-1">
                                  (kategorie urzÄ…dzeĹ„)
                                </span>
                              </div>
                            </div>

                            {/* NagĹ‚Ăłwek "Czas realizacji" - widoczne tylko gdy otwarte */}
                            <div className="flex items-center justify-center min-w-[120px] hidden md:flex">
                              <div className="text-[#ffffff] font-cormorant font-bold text-lg text-center hidden group-data-[state=open]:block">
                                <div>Czas</div>
                                <div>realizacji</div>
                              </div>
                            </div>
                          </div>
                        )}
                      </div>
                    </AccordionTrigger>

                    <AccordionContent className="pt-4">
                      {/* SprawdĹş czy sekcja ma subcategories (dla "naprawy" lub "faq") */}
                      {section.subcategories ? (
                        // WewnÄ™trzny Accordion dla podkategorii
                        <Accordion type="multiple" className="w-full">
                          {section.subcategories.map((subcategory, index) => (
                            <AccordionItem
                              key={subcategory.id}
                              value={subcategory.id}
                              className={`border-0 last:border-b-0 last:mb-0 group ${
                                section.id === 'faq' 
                                  ? `border-b border-[#bfa76a]/30 mb-1 pb-1 ${index === 0 ? 'border-t border-[#bfa76a]/30 pt-1' : ''}` 
                                  : `border-b border-white/20 mb-2 pb-2 ${index === 0 ? 'border-t border-white/20 pt-2' : ''}`
                              }`}
                            >
                              <AccordionTrigger className={`hover:no-underline text-left w-full !focus-visible:ring-0 !focus-visible:outline-none focus-visible:ring-transparent transition-all duration-200 ${
                                section.id === 'faq' 
                                  ? 'py-1.5 px-2 hover:bg-[#ffecb3]/10 rounded-lg hover:border-[#ffecb3]/20' 
                                  : 'py-3 px-3'
                              }`}>
                                <div className="flex-1 w-full min-w-0">
                                  <h4 className={`font-cormorant transition-colors ${
                                    section.id === 'faq'
                                      ? 'text-base md:text-lg font-semibold text-[#ffffff] mb-0'
                                      : 'text-lg font-semibold text-[#ffffff] mb-1'
                                  }`}>
                                    {subcategory.title}
                                  </h4>
                                  {/* ĐźĐľĐşĐ°Đ·Ń‹Đ˛Đ°ĐµĐĽ "Zobacz cennik" Ń‚ĐľĐ»ŃŚĐşĐľ Đ´Đ»ŃŹ Đ˝Đµ-FAQ ĐżĐľĐ´ĐşĐ°Ń‚ĐµĐłĐľŃ€Đ¸Đą */}
                                  {section.id !== 'faq' && (
                                    <div data-subcategory-link className="flex items-center gap-2 text-[#bfa76a] text-xs font-serif group-hover:translate-x-1 transition-transform whitespace-nowrap">
                                      <span>Zobacz cennik</span>
                                      <ArrowRight className="w-3 h-3 flex-shrink-0" />
                                    </div>
                                  )}
                                </div>
                              </AccordionTrigger>
                              <AccordionContent className={section.id === 'faq' ? 'pt-0.5' : 'pt-2'}>
                                {/* Đ•ŃĐ»Đ¸ ĐµŃŃ‚ŃŚ answer (FAQ), ĐżĐľĐşĐ°Đ·Ń‹Đ˛Đ°ĐµĐĽ ĐľŃ‚Đ˛ĐµŃ‚, Đ¸Đ˝Đ°Ń‡Đµ Ń‚Đ°Đ±Đ»Đ¸Ń†Ń */}
                                {subcategory.answer ? (
                                  <div className={`font-cormorant text-base whitespace-pre-line text-[#fff8e7] ${section.id === 'faq' ? 'pt-0.5 pl-8 leading-snug' : 'pt-3 pb-2 px-1 leading-relaxed'}`}>
                                    {subcategory.answer.split('\n').map((line, idx) => {
                                      // ĐźĐľĐ´Đ´ĐµŃ€Đ¶ĐşĐ° Đ¶Đ¸Ń€Đ˝ĐľĐłĐľ Ń‚ĐµĐşŃŃ‚Đ° Ń‡ĐµŃ€ĐµĐ· **Ń‚ĐµĐşŃŃ‚**
                                      const parts = line.split(/(\*\*.*?\*\*)/g)
                                      return (
                                        <div key={idx} className={idx > 0 ? 'mt-4' : ''}>
                                          {parts.map((part, partIdx) => {
                                            if (part.startsWith('**') && part.endsWith('**')) {
                                              const boldText = part.slice(2, -2)
                                              return (
                                                <strong key={partIdx} className="font-semibold text-[#ffffff]">
                                                  {boldText}
                                                </strong>
                                              )
                                            }
                                            return <span key={partIdx}>{part}</span>
                                          })}
                                        </div>
                                      )
                                    })}
                                  </div>
                                ) : (
                                  <div className="rounded-lg border border-[#bfa76a]/10 overflow-hidden">
                                    <Table className="md:table-fixed">
                                      <colgroup className="hidden md:table-column-group">
                                        <col style={{ width: '67%' }} />
                                        <col style={{ width: '16.5%' }} />
                                        <col style={{ width: '16.5%' }} />
                                      </colgroup>
                                      <TableBody>
                                        {subcategory.items.map((item, idx) => (
                                          <TableRow
                                            key={idx}
                                            className={`border-white/20 border-b border-white/30 hover:bg-white/5 transition-colors ${idx === 0 ? 'border-t border-white/30' : ''}`}
                                          >
                                            <TableCell className="font-cormorant text-[#ffffff] py-2 !whitespace-normal md:max-w-[67%]">
                                              {(() => {
                                                const parsed = parseServiceText(item.service)
                                                return (
                                                  <div className="service-description-text">
                                                    <div className="text-base md:text-lg service-description-text">
                                                      {parsed.main}
                                                    </div>
                                                    {parsed.parentheses && (
                                                      <div className="text-xs md:text-sm italic text-[#fff8e7] mt-0.5 hidden md:block line-clamp-2 service-description-text">
                                                        ({parsed.parentheses})
                                                      </div>
                                                    )}
                                                  </div>
                                                )
                                              })()}
                                            </TableCell>
                                            <TableCell className="font-cormorant text-[#ffffff] text-base md:text-lg text-center py-2 align-middle font-semibold min-w-[80px]">
                                              <div className="whitespace-pre-line leading-tight">{item.price}</div>
                                            </TableCell>
                                            <TableCell className="font-cormorant text-[#ffffff] text-lg text-center py-2 align-middle hidden md:table-cell">
                                              {item.duration}
                                            </TableCell>
                                          </TableRow>
                                        ))}
                                      </TableBody>
                                    </Table>
                                  </div>
                                )}
                              </AccordionContent>
                            </AccordionItem>
                          ))}
                        </Accordion>
                      ) : (
                        // Standardowa tabela dla sekcji bez subcategories
                        <div className="rounded-lg border border-[#bfa76a]/10 overflow-hidden">
                          <Table className="md:table-fixed">
                            <colgroup className="hidden md:table-column-group">
                              <col style={{ width: '67%' }} />
                              <col style={{ width: '16.5%' }} />
                              <col style={{ width: '16.5%' }} />
                            </colgroup>
                            <TableBody>
                              {section.items.map((item, idx) => (
                                <TableRow
                                  key={idx}
                                  className={`border-white/20 border-b border-white/30 hover:bg-white/5 transition-colors ${idx === 0 ? 'border-t border-white/30' : ''}`}
                                >
                                  <TableCell className="font-cormorant text-[#ffffff] py-2 !whitespace-normal md:max-w-[67%]">
                                    {(() => {
                                      const parsed = parseServiceText(item.service)
                                      return (
                                        <div className="service-description-text">
                                          <div className="text-base md:text-lg service-description-text">
                                            {parsed.main}
                                          </div>
                                          {parsed.parentheses && (
                                            <div className="text-xs md:text-sm italic text-[#fff8e7] mt-0.5 hidden md:block line-clamp-2 service-description-text">
                                              ({parsed.parentheses})
                                            </div>
                                          )}
                                        </div>
                                      )
                                    })()}
                                  </TableCell>
                                  <TableCell className="font-cormorant text-[#ffffff] text-base md:text-lg text-center py-2 align-middle font-semibold min-w-[80px]">
                                    <div className="whitespace-pre-line leading-tight">{item.price}</div>
                                  </TableCell>
                                  <TableCell className="font-cormorant text-[#ffffff] text-lg text-center py-2 align-middle hidden md:table-cell">
                                    {item.duration}
                                  </TableCell>
                                </TableRow>
                              ))}
                            </TableBody>
                          </Table>
                        </div>
                      )}
                    </AccordionContent>
                  </div>
                </AccordionItem>
              ))}
            </Accordion>
          </div>
        </div>
      </main>
      <Footer />
    </>
  )
}





🗂 FILE: 56389496-f982-4251-ad30-06877cdd4259
----------------------------------------

'use client'

import { useState, useEffect, useRef } from 'react'
import { useForm, Controller } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import { toast, Toaster } from 'sonner'
import { Loader2 } from 'lucide-react'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'
import { CustomRadio } from '@/components/ui/custom-radio'
import { CustomCheckbox } from '@/components/ui/custom-checkbox'
import { CustomPhoneInput } from '@/components/ui/custom-phone-input'

// Schemat walidacji Zod
const formSchema = z.object({
  name: z.string().min(2, { message: 'ImiÄ™ i nazwisko musi mieÄ‡ min. 2 znaki' }),
  phone: z.string().refine((val) => {
    // Đ•ŃĐ»Đ¸ Đ˝ĐľĐĽĐµŃ€ ŃĐľĐ´ĐµŃ€Đ¶Đ¸Ń‚ "other" Đ¸Đ»Đ¸ ĐżŃŃŃ‚ĐľĐą ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹, ĐżŃ€ĐľĐżŃŃĐşĐ°ĐµĐĽ Đ˛Đ°Đ»Đ¸Đ´Đ°Ń†Đ¸ŃŽ
    if (!val || val.trim() === '') return false
    // ĐźŃ€ĐľĐ˛ĐµŃ€ŃŹĐµĐĽ, ĐµŃŃ‚ŃŚ Đ»Đ¸ ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹ (Đ˝Đ°Ń‡Đ¸Đ˝Đ°ĐµŃ‚ŃŃŹ Ń +)
    if (!val.startsWith('+')) return false
    // ĐśĐ¸Đ˝Đ¸ĐĽĐ°Đ»ŃŚĐ˝Đ°ŃŹ Đ´Đ»Đ¸Đ˝Đ° Ń ĐşĐľĐ´ĐľĐĽ ŃŃ‚Ń€Đ°Đ˝Ń‹
    return val.replace(/\D/g, '').length >= 10
  }, { message: 'Numer telefonu jest niepoprawny' }),
  email: z.string().email({ message: 'Niepoprawny adres e-mail' }),
  address: z.string().min(5, { message: 'Adres musi mieÄ‡ min. 5 znakĂłw' }),
  deviceType: z.enum(['printer', 'computer', 'other'], { message: 'Wybierz typ urzÄ…dzenia' }),
  deviceModel: z.string().optional(),
  problemDescription: z.string().min(10, { message: 'Opis problemu musi mieÄ‡ min. 10 znakĂłw' }),
  replacementPrinter: z.boolean(),
  agreements: z.literal(true, { message: 'Musisz zaakceptowaÄ‡ regulamin' }),
})

type FormValues = z.infer<typeof formSchema>

export function ContactTest() {
  const [isSubmitting, setIsSubmitting] = useState(false)
  const formRef = useRef<HTMLFormElement>(null)

  const {
    register,
    control,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      name: '',
      phone: '',
      email: '',
      address: '',
      deviceType: undefined,
      deviceModel: '',
      problemDescription: '',
      replacementPrinter: false,
      agreements: undefined,
    },
  })

  // ĐźŃ€Đ¸Đ˝ŃĐ´Đ¸Ń‚ĐµĐ»ŃŚĐ˝ĐľĐµ ĐżŃ€Đ¸ĐĽĐµĐ˝ĐµĐ˝Đ¸Đµ ĐżŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝ĐľĐłĐľ Ń„ĐľĐ˝Đ° ĐżĐľŃĐ»Đµ Đ°Đ˛Ń‚ĐľĐ·Đ°ĐżĐľĐ»Đ˝ĐµĐ˝Đ¸ŃŹ
  useEffect(() => {
    const fixAutofillStyles = () => {
      if (formRef.current) {
        const inputs = formRef.current.querySelectorAll<HTMLInputElement>(
          'input[type="text"], input[type="email"], input[type="tel"]'
        )
        
        inputs.forEach((input) => {
          // Đ¤ŃĐ˝ĐşŃ†Đ¸ŃŹ Đ´Đ»ŃŹ ĐżŃ€Đ¸ĐĽĐµĐ˝ĐµĐ˝Đ¸ŃŹ ĐżŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝ĐľĐłĐľ Ń„ĐľĐ˝Đ°
          const applyTransparent = () => {
            input.style.setProperty('background-color', 'transparent', 'important')
            input.style.setProperty('background', 'transparent', 'important')
            input.style.setProperty('-webkit-box-shadow', '0 0 0 1000px transparent inset', 'important')
            input.style.setProperty('box-shadow', '0 0 0 1000px transparent inset', 'important')
          }
          
          // ĐźŃ€Đ¸ĐĽĐµĐ˝ŃŹĐµĐĽ ŃŃ€Đ°Đ·Ń
          applyTransparent()
          
          // ĐžĐ±Ń€Đ°Đ±ĐľŃ‚Ń‡Đ¸ĐşĐ¸ ŃĐľĐ±Ń‹Ń‚Đ¸Đą
          input.addEventListener('input', applyTransparent)
          input.addEventListener('change', applyTransparent)
          input.addEventListener('focus', applyTransparent)
          input.addEventListener('blur', applyTransparent)
          
          // ĐžĐ±Ń€Đ°Đ±ĐľŃ‚Ń‡Đ¸Đş Đ´Đ»ŃŹ Đ°Đ˛Ń‚ĐľĐ·Đ°ĐżĐľĐ»Đ˝ĐµĐ˝Đ¸ŃŹ (ĐşĐľĐłĐ´Đ° Đ±Ń€Đ°ŃĐ·ĐµŃ€ ĐżŃ€Đ¸ĐĽĐµĐ˝ŃŹĐµŃ‚ ŃŃ‚Đ¸Đ»Đ¸)
          const observer = new MutationObserver(() => {
            // ĐźŃ€ĐľĐ˛ĐµŃ€ŃŹĐµĐĽ, ĐµŃŃ‚ŃŚ Đ»Đ¸ ĐşĐ»Đ°ŃŃ Đ°Đ˛Ń‚ĐľĐ·Đ°ĐżĐľĐ»Đ˝ĐµĐ˝Đ¸ŃŹ
            if (input.matches(':-webkit-autofill')) {
              applyTransparent()
            }
          })
          
          observer.observe(input, {
            attributes: true,
            attributeFilter: ['style', 'class'],
            childList: false,
            subtree: false,
          })
          
          // ĐźŃ€ĐľĐ˛ĐµŃ€ŃŹĐµĐĽ ĐşĐ°Đ¶Đ´Ń‹Đµ 100ĐĽŃ Đ˛ Ń‚ĐµŃ‡ĐµĐ˝Đ¸Đµ ĐżĐµŃ€Đ˛Ń‹Ń… 2 ŃĐµĐşŃĐ˝Đ´ (Đ˛Ń€ĐµĐĽŃŹ, ĐşĐľĐłĐ´Đ° Đ±Ń€Đ°ŃĐ·ĐµŃ€ ĐżŃ€Đ¸ĐĽĐµĐ˝ŃŹĐµŃ‚ Đ°Đ˛Ń‚ĐľĐ·Đ°ĐżĐľĐ»Đ˝ĐµĐ˝Đ¸Đµ)
          let checkCount = 0
          const checkInterval = setInterval(() => {
            applyTransparent()
            checkCount++
            if (checkCount >= 20) {
              clearInterval(checkInterval)
            }
          }, 100)
        })
      }
    }

    // ĐźŃ€Đ¸ĐĽĐµĐ˝ŃŹĐµĐĽ Ń Đ·Đ°Đ´ĐµŃ€Đ¶ĐşĐľĐą, Ń‡Ń‚ĐľĐ±Ń‹ Ń„ĐľŃ€ĐĽĐ° ŃŃĐżĐµĐ»Đ° ĐľŃ‚Ń€ĐµĐ˝Đ´ĐµŃ€Đ¸Ń‚ŃŚŃŃŹ
    const timer = setTimeout(fixAutofillStyles, 100)
    const timer2 = setTimeout(fixAutofillStyles, 500)
    const timer3 = setTimeout(fixAutofillStyles, 1000)

    return () => {
      clearTimeout(timer)
      clearTimeout(timer2)
      clearTimeout(timer3)
    }
  }, [])

  const onSubmit = async (data: FormValues) => {
    setIsSubmitting(true)
    await new Promise((resolve) => setTimeout(resolve, 1500))
    console.log('Form data:', data)
    setIsSubmitting(false)
    toast.success('ZgĹ‚oszenie wysĹ‚ane pomyĹ›lnie!')
    reset()
  }

  return (
    <section id="kontakt-test" className="relative pb-6 md:pb-10 pt-0">
      <Toaster position="bottom-center" />
      
      {/* TĹ‚o sekcji */}
      <div
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.services_background}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/50" />
      </div>

      <div className="relative z-10 container mx-auto px-4 flex flex-col items-center">
        
        {/* Tekst nad formularzem */}
        <p className="text-[22px] text-[#fff8e7] font-cormorant italic font-semibold text-center mb-8 drop-shadow-2xl pt-4 md:pt-6">
          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„"
        </p>

        {/* Karta formularza */}
        <div className="w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-4 md:p-6 border border-black/20 scale-[0.8] origin-top">
          
          {/* NagĹ‚Ăłwek formularza */}
          <h2 className="text-black text-3xl md:text-4xl font-cormorant italic font-bold text-center mb-4 md:mb-5 border-b border-black/10 pb-3 md:pb-3">
            Formularz zgĹ‚oszeniowy (TEST - Nowa wersja)
          </h2>

          <form ref={formRef} onSubmit={handleSubmit(onSubmit)} className="space-y-3 md:space-y-4">
            
            {/* ImiÄ™ i nazwisko */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                ImiÄ™ i nazwisko
              </label>
              <input
                {...register('name')}
                type="text"
                placeholder="Jan Kowalski"
                autoComplete="off"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/50 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all resize-y"
              />
              {errors.name && (
                <p className="text-red-600 text-sm">{errors.name.message}</p>
              )}
            </div>

            {/* Telefon */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Numer telefonu
              </label>
              <div className="phone-input-container">
                <Controller
                  name="phone"
                  control={control}
                  render={({ field }) => (
                    <CustomPhoneInput
                      value={field.value || ''}
                      onChange={(phone) => field.onChange(phone)}
                      defaultCountry="pl"
                    />
                  )}
                />
              </div>
              {errors.phone && (
                <p className="text-red-600 text-sm">{errors.phone.message}</p>
              )}
            </div>

              {/* E-mail */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Adres e-mail
              </label>
              <input
                {...register('email')}
                type="email"
                placeholder="jan.kowalski@example.com"
                autoComplete="off"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/50 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.email && (
                <p className="text-red-600 text-sm">{errors.email.message}</p>
              )}
            </div>

            {/* Adres */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Adres
              </label>
              <input
                {...register('address')}
                type="text"
                placeholder="ul. PrzykĹ‚adowa 1, 50-001 WrocĹ‚aw"
                autoComplete="off"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/50 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.address && (
                <p className="text-red-600 text-sm">{errors.address.message}</p>
              )}
            </div>

            {/* Typ urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl mb-2">
                Typ urzÄ…dzenia
              </label>
              <div className="flex flex-wrap gap-6">
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <CustomRadio
                      {...field}
                      value="printer"
                      checked={field.value === 'printer'}
                      label="Drukarka"
                    />
                  )}
                />
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <CustomRadio
                      {...field}
                      value="computer"
                      checked={field.value === 'computer'}
                      label="Komputer / Laptop"
                    />
                  )}
                />
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <CustomRadio
                      {...field}
                      value="other"
                      checked={field.value === 'other'}
                      label="Inne urzÄ…dzenie"
                    />
                  )}
                />
              </div>
              {errors.deviceType && (
                <p className="text-red-600 text-sm">{errors.deviceType.message}</p>
              )}
            </div>

            {/* Model urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Model urzÄ…dzenia
              </label>
              <input
                {...register('deviceModel')}
                type="text"
                placeholder="np. HP LaserJet Pro M404dn"
                autoComplete="off"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/50 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
            </div>

            {/* Opis problemu */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-cormorant italic text-xl md:text-2xl">
                Opis problemu
              </label>
              <textarea
                {...register('problemDescription')}
                rows={4}
                placeholder="ProszÄ™ opisaÄ‡ problem z urzÄ…dzeniem..."
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/50 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all resize-y"
              />
              {errors.problemDescription && (
                <p className="text-red-600 text-sm">{errors.problemDescription.message}</p>
              )}
            </div>

            {/* Checkboxy */}
            <div className="space-y-3 pt-1">
              <Controller
                name="replacementPrinter"
                control={control}
                render={({ field }) => (
                  <CustomCheckbox
                    checked={field.value || false}
                    onChange={(e) => field.onChange(e.target.checked)}
                    onBlur={field.onBlur}
                    name={field.name}
                    label="PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy."
                  />
                )}
              />

              <div className="space-y-1">
                <Controller
                  name="agreements"
                  control={control}
                  render={({ field }) => (
                    <CustomCheckbox
                      checked={field.value || false}
                      onChange={(e) => field.onChange(e.target.checked)}
                      onBlur={field.onBlur}
                      name={field.name}
                      label={
                        <span className="text-lg">
                          OĹ›wiadczam, ĹĽe zapoznaĹ‚em/am siÄ™ z{' '}
                          <Link href="/polityka-prywatnosci" className="underline hover:text-black hover:font-bold transition-all">
                            PolitykÄ… PrywatnoĹ›ci
                          </Link>{' '}
                          oraz{' '}
                          <Link href="/regulamin" className="underline hover:text-black hover:font-bold transition-all">
                            Regulaminem
                          </Link>{' '}
                          i akceptujÄ™ ich postanowienia.
                        </span>
                      }
                    />
                  )}
                />
                {errors.agreements && (
                  <p className="text-red-600 text-sm ml-8">{errors.agreements.message}</p>
                )}
              </div>
            </div>

            {/* Przycisk Submit */}
            <div className="pt-4 flex justify-center">
              <button
                type="submit"
                disabled={isSubmitting}
                className="relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-black/30 shadow-[inset_0_0_20px_rgba(0,0,0,0.1)] hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.05)] rounded-full transition-all duration-300"
              >
                <span className="font-cormorant font-bold text-2xl text-black tracking-wide group-hover:text-black flex items-center gap-2">
                  {isSubmitting && <Loader2 className="animate-spin h-5 w-5" />}
                  WyĹ›lij zgĹ‚oszenie
                </span>
              </button>
            </div>

          </form>
        </div>
      </div>
    </section>
  )
}


🗂 FILE: b62d8acb-872b-4308-8443-3154a561947a
----------------------------------------

'use client'

import { useState, useRef, useEffect } from 'react'
import Image from 'next/image'
import { countries, Country, formatPhoneNumber } from '@/lib/countries'

interface CustomPhoneInputProps {
  value: string
  onChange: (phone: string) => void
  defaultCountry?: string
  className?: string
}

export function CustomPhoneInput({
  value,
  onChange,
  defaultCountry = 'pl',
  className = '',
}: CustomPhoneInputProps) {
  const [selectedCountry, setSelectedCountry] = useState<Country>(
    countries.find(c => c.code === defaultCountry) || countries[1] // ĐżĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ ĐźĐľĐ»ŃŚŃĐ°
  )
  const [isDropdownOpen, setIsDropdownOpen] = useState(false)
  const [phoneNumber, setPhoneNumber] = useState('')
  const dropdownRef = useRef<HTMLDivElement>(null)
  const containerRef = useRef<HTMLDivElement>(null)
  const selectorRowRef = useRef<HTMLDivElement>(null)
  
  // Đ’Ń‹Ń‡Đ¸ŃĐ»ŃŹĐµĐĽ ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝ŃŃŽ ŃĐ¸Ń€Đ¸Đ˝Ń Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° (Ń„Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝Đ°ŃŹ)
  const calculateMaxDropdownWidth = () => {
    // Đ¤Đ»Đ°Đł: 24px
    // Gap: 12px (gap-3)
    // ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ŃŃ‚Ń€Đ°Đ˝Ń‹ (ŃĐ°ĐĽĐľĐµ Đ´Đ»Đ¸Đ˝Đ˝ĐľĐµ "Wielka Brytania"): ~150px ĐżŃ€Đ¸ text-base
    // Gap: 12px
    // ĐšĐľĐ´ (ŃĐ°ĐĽŃ‹Đą Đ´Đ»Đ¸Đ˝Đ˝Ń‹Đą "+380"): ~40px
    // Padding: 32px (16px Ă— 2)
    // ĐŃ‚ĐľĐłĐľ: 24 + 12 + 150 + 12 + 40 + 32 = ~270px
    // Đ”ĐľĐ±Đ°Đ˛Đ»ŃŹĐµĐĽ Đ·Đ°ĐżĐ°Ń Đ´Đ»ŃŹ Đ±ĐµĐ·ĐľĐżĐ°ŃĐ˝ĐľŃŃ‚Đ¸
    return 280
  }
  
  const fixedDropdownWidth = calculateMaxDropdownWidth()

  // ĐĐ˝Đ¸Ń†Đ¸Đ°Đ»Đ¸Đ·Đ°Ń†Đ¸ŃŹ Đ¸Đ· value
  useEffect(() => {
    if (value) {
      // ĐźŃ‹Ń‚Đ°ĐµĐĽŃŃŹ ĐľĐżŃ€ĐµĐ´ĐµĐ»Đ¸Ń‚ŃŚ ŃŃ‚Ń€Đ°Đ˝Ń ĐżĐľ ĐşĐľĐ´Ń
      const dialCode = value.match(/^\+\d+/)?.[0]
      if (dialCode) {
        const country = countries.find(c => c.dialCode === dialCode)
        if (country) {
          setSelectedCountry(country)
          const number = value.replace(dialCode, '').trim().replace(/\s/g, '')
          setPhoneNumber(number)
        } else {
          // Đ•ŃĐ»Đ¸ ĐşĐľĐ´ Đ˝Đµ Đ˝Đ°ĐąĐ´ĐµĐ˝, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
          setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
          setPhoneNumber(value.replace(/^\+\d+\s*/, '').trim().replace(/\D/g, ''))
        }
      } else {
        // Đ•ŃĐ»Đ¸ Đ˝ĐµŃ‚ ĐşĐľĐ´Đ°, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
        setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
        setPhoneNumber(value.replace(/\D/g, ''))
      }
    }
  }, [value])

  // Đ—Đ°ĐşŃ€Ń‹Ń‚Đ¸Đµ dropdown ĐżŃ€Đ¸ ĐşĐ»Đ¸ĐşĐµ Đ˛Đ˝Đµ
  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (
        containerRef.current &&
        !containerRef.current.contains(event.target as Node)
      ) {
        setIsDropdownOpen(false)
      }
    }

    if (isDropdownOpen) {
      document.addEventListener('mousedown', handleClickOutside)
    }

    return () => {
      document.removeEventListener('mousedown', handleClickOutside)
    }
  }, [isDropdownOpen])

  // ĐŁŃŃ‚Đ°Đ˝Đ°Đ˛Đ»Đ¸Đ˛Đ°ĐµĐĽ Ń„Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝ŃŃŽ ŃĐ¸Ń€Đ¸Đ˝Ń Đ´Đ»ŃŹ ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐ¸ Đ¸ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ°
  useEffect(() => {
    if (selectorRowRef.current) {
      selectorRowRef.current.style.width = `${fixedDropdownWidth}px`
      selectorRowRef.current.style.minWidth = `${fixedDropdownWidth}px`
    }
  }, [fixedDropdownWidth])

  const handleCountrySelect = (country: Country) => {
    // ĐźŃ€Đ¸ ŃĐĽĐµĐ˝Đµ ŃŃ‚Ń€Đ°Đ˝Ń‹ ĐľŃ‡Đ¸Ń‰Đ°ĐµĐĽ Đ˛Đ˛ĐµĐ´ĐµĐ˝Đ˝Ń‹Đą Đ˝ĐľĐĽĐµŃ€
    setPhoneNumber('')
    setSelectedCountry(country)
    setIsDropdownOpen(false)
    
    // ĐŁŃŃ‚Đ°Đ˝Đ°Đ˛Đ»Đ¸Đ˛Đ°ĐµĐĽ Ń‚ĐľĐ»ŃŚĐşĐľ ĐşĐľĐ´ Đ˝ĐľĐ˛ĐľĐą ŃŃ‚Ń€Đ°Đ˝Ń‹ (Đ±ĐµĐ· Đ˝ĐľĐĽĐµŃ€Đ°)
    const newValue = country.dialCode ? country.dialCode : ''
    onChange(newValue)
  }

  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    let input = e.target.value.replace(/\D/g, '') // Ń‚ĐľĐ»ŃŚĐşĐľ Ń†Đ¸Ń„Ń€Ń‹
    
    // ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡Đ¸Đ˛Đ°ĐµĐĽ Đ´Đ»Đ¸Đ˝Ń Đ´Đ»ŃŹ Đ¸Đ·Đ˛ĐµŃŃ‚Đ˝Ń‹Ń… ŃŃ‚Ń€Đ°Đ˝
    if (selectedCountry.phoneLength && selectedCountry.code !== 'other') {
      input = input.slice(0, selectedCountry.phoneLength)
    }
    
    setPhoneNumber(input)
    
    // Đ¤ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ŃĐµĐĽ Đ˝ĐľĐĽĐµŃ€
    let formatted = input
    if (selectedCountry.phoneFormat && selectedCountry.code !== 'other') {
      formatted = formatPhoneNumber(input, selectedCountry.phoneFormat)
    }
    
    // ĐžĐ±Đ˝ĐľĐ˛Đ»ŃŹĐµĐĽ Đ·Đ˝Đ°Ń‡ĐµĐ˝Đ¸Đµ
    const newValue = selectedCountry.dialCode
      ? `${selectedCountry.dialCode} ${formatted}`.trim()
      : formatted
    onChange(newValue)
  }

  // ĐžĐżŃ€ĐµĐ´ĐµĐ»ŃŹĐµĐĽ, ĐşĐ°ĐşĐľĐµ Đ˝Đ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ĐżĐľĐşĐ°Đ·Ń‹Đ˛Đ°Ń‚ŃŚ (ĐżĐľĐ»Đ˝ĐľĐµ Đ¸Đ»Đ¸ ŃĐľĐşŃ€Đ°Ń‰ĐµĐ˝Đ˝ĐľĐµ)
  const displayName = selectedCountry.name.length > 12 
    ? selectedCountry.shortName 
    : selectedCountry.name

  // Đ“ĐµĐ˝ĐµŃ€Đ¸Ń€ŃĐµĐĽ placeholder Đ˝Đ° ĐľŃĐ˝ĐľĐ˛Đµ Ń„ĐľŃ€ĐĽĐ°Ń‚Đ° ŃŃ‚Ń€Đ°Đ˝Ń‹
  const getPlaceholder = () => {
    if (selectedCountry.code === 'other') {
      return 'WprowadĹş numer'
    }
    if (selectedCountry.phoneFormat) {
      return selectedCountry.phoneFormat
    }
    return 'xxx xxx xxx' // fallback
  }

  return (
    <div ref={containerRef} className={`relative w-full flex items-start gap-0 ${className}`}>
      {/* ĐźĐµŃ€Đ˛Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: Đ¤Đ»Đ°Đł + ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ + ĐšĐľĐ´ (ŃĐżŃ€Đ°Đ˛Đ°) + ĐšĐ˝ĐľĐżĐşĐ° Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° */}
      <div 
        ref={selectorRowRef}
        className="flex items-center gap-2 border border-black/60 rounded-sm px-4 py-2 country-selector-row"
        style={{ height: '42px', width: `${fixedDropdownWidth}px`, minWidth: `${fixedDropdownWidth}px` }}
      >
        <Image
          src={selectedCountry.flagImage}
          alt={selectedCountry.name}
          width={20}
          height={15}
          className="object-contain flex-shrink-0"
          style={{ width: '20px', height: '15px' }}
        />
        <span className="text-black font-sans font-medium text-base leading-tight whitespace-nowrap flex-1">
          {displayName || selectedCountry.name}
        </span>
        {selectedCountry.dialCode ? (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap flex-shrink-0">
            {selectedCountry.dialCode}
          </span>
        ) : (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap opacity-50 flex-shrink-0">
            +
          </span>
        )}
        <button
          type="button"
          onClick={() => setIsDropdownOpen(!isDropdownOpen)}
          className="hover:opacity-80 transition-opacity flex-shrink-0"
        >
          <span className="text-black text-lg">â–Ľ</span>
        </button>
      </div>

      {/* Đ’Ń‚ĐľŃ€Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: ĐźĐľĐ»Đµ Đ˛Đ˛ĐľĐ´Đ° (ĐłĐľŃ€Đ¸Đ·ĐľĐ˝Ń‚Đ°Đ»ŃŚĐ˝Đľ Đ·Đ° ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐľĐą) */}
      <div className="flex-1">
        <input
          type="tel"
          value={selectedCountry.phoneFormat && selectedCountry.code !== 'other' && phoneNumber
            ? formatPhoneNumber(phoneNumber, selectedCountry.phoneFormat)
            : phoneNumber}
          onChange={handlePhoneChange}
          placeholder={getPlaceholder()}
          className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/50 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
          style={{ backgroundColor: 'transparent', height: '42px' }}
        />
      </div>

      {/* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş */}
      {isDropdownOpen && (
        <div
          ref={dropdownRef}
          className="absolute top-full left-0 mt-1 z-50 border border-black/20 rounded-lg shadow-lg max-h-64 overflow-y-auto custom-dropdown country-dropdown"
          style={{
            backgroundImage: 'linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)), url(/images/zmiety arkusz papieru 2.png)',
            backgroundSize: 'cover',
            backgroundPosition: 'center',
            backgroundRepeat: 'no-repeat',
            width: `${fixedDropdownWidth}px`,
            minWidth: `${fixedDropdownWidth}px`,
          }}
        >
          {countries.map((country) => (
            <button
              key={country.code}
              type="button"
              onClick={() => handleCountrySelect(country)}
              className="flex items-center gap-3 px-4 py-3 hover:bg-black/5 transition-colors text-left whitespace-nowrap w-full"
            >
              <Image
                src={country.flagImage}
                alt={country.name}
                width={24}
                height={18}
                className="object-contain flex-shrink-0"
              />
              <span className="text-black font-sans font-medium text-base">
                {country.name}
              </span>
              {country.dialCode && (
                <span className="text-black font-sans text-sm opacity-70 whitespace-nowrap">
                  {country.dialCode}
                </span>
              )}
            </button>
          ))}
        </div>
      )}
    </div>
  )
}



🗂 FILE: d812b299-4219-4de2-b164-f20af68ef091
----------------------------------------

'use client'

import { useState } from 'react'
import { useForm, Controller } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import PhoneInput from 'react-phone-input-2'
import 'react-phone-input-2/lib/style.css'
import { toast, Toaster } from 'sonner'
import { Loader2 } from 'lucide-react'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'

// Schemat walidacji Zod
const formSchema = z.object({
  name: z.string().min(2, { message: 'ImiÄ™ i nazwisko musi mieÄ‡ min. 2 znaki' }),
  phone: z.string().min(9, { message: 'Numer telefonu jest za krĂłtki' }),
  email: z.string().email({ message: 'Niepoprawny adres e-mail' }),
  address: z.string().min(5, { message: 'Adres musi mieÄ‡ min. 5 znakĂłw' }),
  deviceType: z.enum(['printer', 'computer'], { required_error: 'Wybierz typ urzÄ…dzenia' }),
  deviceModel: z.string().optional(),
  problemDescription: z.string().min(10, { message: 'Opis problemu musi mieÄ‡ min. 10 znakĂłw' }),
  replacementPrinter: z.boolean().default(false),
  agreements: z.literal(true, { errorMap: () => ({ message: 'Musisz zaakceptowaÄ‡ regulamin' }) }),
})

type FormValues = z.infer<typeof formSchema>

export function Contact() {
  const [isSubmitting, setIsSubmitting] = useState(false)

  const {
    register,
    control,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      name: '',
      phone: '',
      email: '',
      address: '',
      deviceType: undefined,
      deviceModel: '',
      problemDescription: '',
      replacementPrinter: false,
      agreements: undefined,
    },
  })

  const onSubmit = async (data: FormValues) => {
    setIsSubmitting(true)
    // Symulacja wysyĹ‚ki
    await new Promise((resolve) => setTimeout(resolve, 1500))
    console.log('Form data:', data)
    setIsSubmitting(false)
    toast.success('ZgĹ‚oszenie wysĹ‚ane pomyĹ›lnie!')
    reset()
  }

  return (
    <section id="kontakt" className="relative py-12 md:py-20">
      <Toaster position="bottom-center" />
      
      {/* TĹ‚o sekcji */}
      <div
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.services_background}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/50" />
      </div>

      <div className="relative z-10 container mx-auto px-4 flex flex-col items-center">
        
        {/* Tekst nad formularzem */}
        <p className="text-[22px] text-[#fff8e7] font-cormorant italic font-semibold text-center mb-8 drop-shadow-2xl">
          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„"
        </p>

        {/* Karta formularza */}
        <div className="w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-6 md:p-10 border border-[#3a2e24]/20">
          
          {/* NagĹ‚Ăłwek formularza */}
          <h2 className="text-[#3a2e24] text-3xl md:text-4xl font-cormorant font-bold text-center mb-8 border-b border-[#3a2e24]/10 pb-4">
            Formularz zgĹ‚oszeniowy
          </h2>

          <form onSubmit={handleSubmit(onSubmit)} className="space-y-6">
            
            {/* ImiÄ™ i Telefon - Grid */}
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              {/* ImiÄ™ i nazwisko */}
              <div className="space-y-2">
                <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                  ImiÄ™ i nazwisko
                </label>
                <input
                  {...register('name')}
                  placeholder="Jan Kowalski"
                  className="w-full !bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/50 focus:outline-none focus:!bg-transparent focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all"
                  style={{ backgroundColor: 'transparent' }}
                />
                {errors.name && (
                  <p className="text-red-600 text-sm">{errors.name.message}</p>
                )}
              </div>

              {/* Telefon */}
              <div className="space-y-2">
                <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                  Numer telefonu
                </label>
                <div className="phone-input-container">
                  <Controller
                    name="phone"
                    control={control}
                    render={({ field }) => (
                      <PhoneInput
                        country={'pl'}
                        value={field.value}
                        onChange={(phone) => field.onChange(phone)}
                        onlyCountries={['ua', 'pl', 'de', 'cz', 'sk', 'lt', 'gb']}
                        preferredCountries={['ua']}
                        inputClass="!w-full !bg-transparent !border-[#3a2e24]/60 !text-[#3a2e24] !h-[42px] !rounded-sm !pl-[48px]"
                        buttonClass="!bg-transparent !border-[#3a2e24]/60 !rounded-l-sm !border-r-0"
                        dropdownClass="!text-[#3a2e24] paper-dropdown-bg"
                      />
                    )}
                  />
                </div>
                {errors.phone && (
                  <p className="text-red-600 text-sm">{errors.phone.message}</p>
                )}
              </div>
            </div>

            {/* E-mail */}
            <div className="space-y-2">
              <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                Adres e-mail
              </label>
              <input
                {...register('email')}
                type="email"
                placeholder="jan.kowalski@example.com"
                className="w-full !bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/50 focus:outline-none focus:!bg-transparent focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all"
                style={{ backgroundColor: 'transparent' }}
              />
              {errors.email && (
                <p className="text-red-600 text-sm">{errors.email.message}</p>
              )}
            </div>

            {/* Adres */}
            <div className="space-y-2">
              <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                Adres
              </label>
              <input
                {...register('address')}
                placeholder="ul. PrzykĹ‚adowa 1, 50-001 WrocĹ‚aw"
                className="w-full !bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/50 focus:outline-none focus:!bg-transparent focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all"
                style={{ backgroundColor: 'transparent' }}
              />
              {errors.address && (
                <p className="text-red-600 text-sm">{errors.address.message}</p>
              )}
            </div>

            {/* Typ urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-[#3a2e24] font-bold font-cormorant text-lg mb-2">
                Typ urzÄ…dzenia
              </label>
              <div className="flex gap-6">
                <label className="flex items-center gap-2 cursor-pointer">
                  <input
                    type="radio"
                    value="printer"
                    {...register('deviceType')}
                    className="accent-[#bfa76a] w-5 h-5"
                  />
                  <span className="text-[#3a2e24]">Drukarka</span>
                </label>
                <label className="flex items-center gap-2 cursor-pointer">
                  <input
                    type="radio"
                    value="computer"
                    {...register('deviceType')}
                    className="accent-[#bfa76a] w-5 h-5"
                  />
                  <span className="text-[#3a2e24]">Komputer / Laptop</span>
                </label>
              </div>
              {errors.deviceType && (
                <p className="text-red-600 text-sm">{errors.deviceType.message}</p>
              )}
            </div>

            {/* Model urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                Model urzÄ…dzenia
              </label>
              <input
                {...register('deviceModel')}
                placeholder="np. HP LaserJet Pro M404dn"
                className="w-full !bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/50 focus:outline-none focus:!bg-transparent focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all"
                style={{ backgroundColor: 'transparent' }}
              />
            </div>

            {/* Opis problemu */}
            <div className="space-y-2">
              <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                Opis problemu
              </label>
              <textarea
                {...register('problemDescription')}
                rows={4}
                placeholder="ProszÄ™ opisaÄ‡ problem z urzÄ…dzeniem..."
                className="w-full !bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/50 focus:outline-none focus:!bg-transparent focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all resize-y"
              />
              {errors.problemDescription && (
                <p className="text-red-600 text-sm">{errors.problemDescription.message}</p>
              )}
            </div>

            {/* Checkboxy */}
            <div className="space-y-4 pt-2">
              <label className="flex items-start gap-3 cursor-pointer group">
                <input
                  type="checkbox"
                  {...register('replacementPrinter')}
                  className="mt-1 accent-[#bfa76a] w-5 h-5"
                />
                <span className="text-[#3a2e24] group-hover:text-[#bfa76a] transition-colors">
                  PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy.
                </span>
              </label>

              <div className="space-y-1">
                <label className="flex items-start gap-3 cursor-pointer group">
                  <input
                    type="checkbox"
                    {...register('agreements')}
                    className="mt-1 accent-[#bfa76a] w-5 h-5"
                  />
                  <span className="text-[#3a2e24] text-sm">
                    OĹ›wiadczam, ĹĽe zapoznaĹ‚em/am siÄ™ z{' '}
                    <Link href="/polityka-prywatnosci" className="underline hover:text-[#bfa76a]">
                      PolitykÄ… PrywatnoĹ›ci
                    </Link>{' '}
                    oraz{' '}
                    <Link href="/regulamin" className="underline hover:text-[#bfa76a]">
                      Regulaminem
                    </Link>{' '}
                    i akceptujÄ™ ich postanowienia.
                  </span>
                </label>
                {errors.agreements && (
                  <p className="text-red-600 text-sm ml-8">{errors.agreements.message}</p>
                )}
              </div>
            </div>

            {/* Przycisk Submit */}
            <div className="pt-6 flex justify-center">
              <button
                type="submit"
                disabled={isSubmitting}
                className="relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-[#3a2e24]/30 shadow-[inset_0_0_20px_rgba(0,0,0,0.1)] hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.05)] rounded-sm transition-all duration-300"
              >
                <span className="font-cormorant font-bold text-2xl text-[#3a2e24] tracking-wide group-hover:text-black flex items-center gap-2">
                  {isSubmitting && <Loader2 className="animate-spin h-5 w-5" />}
                  WyĹ›lij zgĹ‚oszenie
                </span>
              </button>
            </div>

          </form>
        </div>
      </div>
    </section>
  )
}


--- DIFFS ---


💡 DIFF: 12a28fc0-11c2-4ffc-b6a5-1278b1c6aa4f
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\uslugi\\[slug]\\page.tsx","fileUuid":"12a28fc0-11c2-4ffc-b6a5-1278b1c6aa4f","fileSizeBytes":19765,"numLines":365,"diffChanges":[{"originalStartLineNumberOneIndexed":180,"originalEndLineNumberExclusiveOneIndexed":181,"modifiedStartLineNumberOneIndexed":180,"modifiedEndLineNumberExclusiveOneIndexed":181,"addedLines":["                                <span className=\"text-xs font-normal text-white/70 block mt-1\">"],"tokenizedAddedLines":[1000316]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

💡 DIFF: 2cc2f45f-bfc8-492d-8855-bb18dee11d4e
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\check-contrast.js","fileUuid":"2cc2f45f-bfc8-492d-8855-bb18dee11d4e","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_ADDED"}

💡 DIFF: 2fdf60f5-ea33-429a-88b4-948edf94bfb1
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\check-other-contrast.js","fileUuid":"2fdf60f5-ea33-429a-88b4-948edf94bfb1","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_ADDED"}

💡 DIFF: 56389496-f982-4251-ad30-06877cdd4259
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact-test.tsx","fileUuid":"56389496-f982-4251-ad30-06877cdd4259","fileSizeBytes":16115,"numLines":388,"diffChanges":[{"originalStartLineNumberOneIndexed":178,"originalEndLineNumberExclusiveOneIndexed":179,"modifiedStartLineNumberOneIndexed":178,"modifiedEndLineNumberExclusiveOneIndexed":179,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/70 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all resize-y\""],"tokenizedAddedLines":[1000275]},{"originalStartLineNumberOneIndexed":218,"originalEndLineNumberExclusiveOneIndexed":219,"modifiedStartLineNumberOneIndexed":218,"modifiedEndLineNumberExclusiveOneIndexed":219,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/70 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all\""],"tokenizedAddedLines":[1000276]},{"originalStartLineNumberOneIndexed":235,"originalEndLineNumberExclusiveOneIndexed":236,"modifiedStartLineNumberOneIndexed":235,"modifiedEndLineNumberExclusiveOneIndexed":236,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/70 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all\""],"tokenizedAddedLines":[1000276]},{"originalStartLineNumberOneIndexed":300,"originalEndLineNumberExclusiveOneIndexed":301,"modifiedStartLineNumberOneIndexed":300,"modifiedEndLineNumberExclusiveOneIndexed":301,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/70 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all\""],"tokenizedAddedLines":[1000276]},{"originalStartLineNumberOneIndexed":313,"originalEndLineNumberExclusiveOneIndexed":314,"modifiedStartLineNumberOneIndexed":313,"modifiedEndLineNumberExclusiveOneIndexed":314,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-lg md:text-xl text-black font-sans font-medium placeholder:text-black/70 focus:outline-none focus:!bg-transparent focus:border-black focus:ring-1 focus:ring-black transition-all resize-y\""],"tokenizedAddedLines":[1000275]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

💡 DIFF: b62d8acb-872b-4308-8443-3154a561947a
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"b62d8acb-872b-4308-8443-3154a561947a","fileSizeBytes":8759,"numLines":241,"diffChanges":[{"originalStartLineNumberOneIndexed":192,"originalEndLineNumberExclusiveOneIndexed":193,"modifiedStartLineNumberOneIndexed":192,"modifiedEndLineNumberExclusiveOneIndexed":193,"addedLines":["          className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/70 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all\""],"tokenizedAddedLines":[1000199]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

💡 DIFF: d812b299-4219-4de2-b164-f20af68ef091
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"d812b299-4219-4de2-b164-f20af68ef091","fileSizeBytes":12656,"numLines":291,"diffChanges":[{"originalStartLineNumberOneIndexed":104,"originalEndLineNumberExclusiveOneIndexed":105,"modifiedStartLineNumberOneIndexed":104,"modifiedEndLineNumberExclusiveOneIndexed":105,"addedLines":["                  className=\"w-full !bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/70 focus:outline-none focus:!bg-transparent focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all\""],"tokenizedAddedLines":[1000215]},{"originalStartLineNumberOneIndexed":150,"originalEndLineNumberExclusiveOneIndexed":151,"modifiedStartLineNumberOneIndexed":150,"modifiedEndLineNumberExclusiveOneIndexed":151,"addedLines":["                className=\"w-full !bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/70 focus:outline-none focus:!bg-transparent focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all\""],"tokenizedAddedLines":[1000216]},{"originalStartLineNumberOneIndexed":166,"originalEndLineNumberExclusiveOneIndexed":167,"modifiedStartLineNumberOneIndexed":166,"modifiedEndLineNumberExclusiveOneIndexed":167,"addedLines":["                className=\"w-full !bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/70 focus:outline-none focus:!bg-transparent focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all\""],"tokenizedAddedLines":[1000216]},{"originalStartLineNumberOneIndexed":212,"originalEndLineNumberExclusiveOneIndexed":213,"modifiedStartLineNumberOneIndexed":212,"modifiedEndLineNumberExclusiveOneIndexed":213,"addedLines":["                className=\"w-full !bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/70 focus:outline-none focus:!bg-transparent focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all\""],"tokenizedAddedLines":[1000216]},{"originalStartLineNumberOneIndexed":226,"originalEndLineNumberExclusiveOneIndexed":227,"modifiedStartLineNumberOneIndexed":226,"modifiedEndLineNumberExclusiveOneIndexed":227,"addedLines":["                className=\"w-full !bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/70 focus:outline-none focus:!bg-transparent focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all resize-y\""],"tokenizedAddedLines":[1000217]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: e546ce0f-a258-4ddd-984e-4de769977268 | Время: 11/25/2025 08:15:54 =====


--- METADATA ---

{"agentRequestId":"e546ce0f-a258-4ddd-984e-4de769977268","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"95ea291b-b5d5-4582-8634-01d15a0f7e68","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}],"startTrackingDateUnixMilliseconds":1764054954123,"fileSizeBytes":9330,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 95ea291b-b5d5-4582-8634-01d15a0f7e68
----------------------------------------

'use client'

import { useState, useRef, useEffect } from 'react'
import Image from 'next/image'
import { countries, Country, formatPhoneNumber } from '@/lib/countries'

interface CustomPhoneInputProps {
  value: string
  onChange: (phone: string) => void
  defaultCountry?: string
  className?: string
}

export function CustomPhoneInput({
  value,
  onChange,
  defaultCountry = 'pl',
  className = '',
}: CustomPhoneInputProps) {
  const [selectedCountry, setSelectedCountry] = useState<Country>(
    countries.find(c => c.code === defaultCountry) || countries[1] // ĐżĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ ĐźĐľĐ»ŃŚŃĐ°
  )
  const [isDropdownOpen, setIsDropdownOpen] = useState(false)
  const [phoneNumber, setPhoneNumber] = useState('')
  const dropdownRef = useRef<HTMLDivElement>(null)
  const containerRef = useRef<HTMLDivElement>(null)

  // ĐĐ˝Đ¸Ń†Đ¸Đ°Đ»Đ¸Đ·Đ°Ń†Đ¸ŃŹ Đ¸Đ· value
  useEffect(() => {
    if (value) {
      // ĐźŃ‹Ń‚Đ°ĐµĐĽŃŃŹ ĐľĐżŃ€ĐµĐ´ĐµĐ»Đ¸Ń‚ŃŚ ŃŃ‚Ń€Đ°Đ˝Ń ĐżĐľ ĐşĐľĐ´Ń
      const dialCode = value.match(/^\+\d+/)?.[0]
      if (dialCode) {
        const country = countries.find(c => c.dialCode === dialCode)
        if (country) {
          setSelectedCountry(country)
          const number = value.replace(dialCode, '').trim().replace(/\s/g, '')
          setPhoneNumber(number)
        } else {
          // Đ•ŃĐ»Đ¸ ĐşĐľĐ´ Đ˝Đµ Đ˝Đ°ĐąĐ´ĐµĐ˝, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
          setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
          setPhoneNumber(value.replace(/^\+\d+\s*/, '').trim().replace(/\D/g, ''))
        }
      } else {
        // Đ•ŃĐ»Đ¸ Đ˝ĐµŃ‚ ĐşĐľĐ´Đ°, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
        setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
        setPhoneNumber(value.replace(/\D/g, ''))
      }
    }
  }, [value])

  // Đ—Đ°ĐşŃ€Ń‹Ń‚Đ¸Đµ dropdown ĐżŃ€Đ¸ ĐşĐ»Đ¸ĐşĐµ Đ˛Đ˝Đµ
  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (
        containerRef.current &&
        !containerRef.current.contains(event.target as Node)
      ) {
        setIsDropdownOpen(false)
      }
    }

    if (isDropdownOpen) {
      document.addEventListener('mousedown', handleClickOutside)
    }

    return () => {
      document.removeEventListener('mousedown', handleClickOutside)
    }
  }, [isDropdownOpen])

  const handleCountrySelect = (country: Country) => {
    setSelectedCountry(country)
    setIsDropdownOpen(false)
    // ĐžĐ±Đ˝ĐľĐ˛Đ»ŃŹĐµĐĽ Đ·Đ˝Đ°Ń‡ĐµĐ˝Đ¸Đµ Ń Đ˝ĐľĐ˛Ń‹ĐĽ ĐşĐľĐ´ĐľĐĽ ŃŃ‚Ń€Đ°Đ˝Ń‹
    const newValue = country.dialCode 
      ? `${country.dialCode} ${phoneNumber}`.trim()
      : phoneNumber
    onChange(newValue)
  }

  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    let input = e.target.value.replace(/\D/g, '') // Ń‚ĐľĐ»ŃŚĐşĐľ Ń†Đ¸Ń„Ń€Ń‹
    
    // ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡Đ¸Đ˛Đ°ĐµĐĽ Đ´Đ»Đ¸Đ˝Ń Đ´Đ»ŃŹ Đ¸Đ·Đ˛ĐµŃŃ‚Đ˝Ń‹Ń… ŃŃ‚Ń€Đ°Đ˝
    if (selectedCountry.phoneLength && selectedCountry.code !== 'other') {
      input = input.slice(0, selectedCountry.phoneLength)
    }
    
    setPhoneNumber(input)
    
    // Đ¤ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ŃĐµĐĽ Đ˝ĐľĐĽĐµŃ€
    let formatted = input
    if (selectedCountry.phoneFormat && selectedCountry.code !== 'other') {
      formatted = formatPhoneNumber(input, selectedCountry.phoneFormat)
    }
    
    // ĐžĐ±Đ˝ĐľĐ˛Đ»ŃŹĐµĐĽ Đ·Đ˝Đ°Ń‡ĐµĐ˝Đ¸Đµ
    const newValue = selectedCountry.dialCode
      ? `${selectedCountry.dialCode} ${formatted}`.trim()
      : formatted
    onChange(newValue)
  }

  // ĐžĐżŃ€ĐµĐ´ĐµĐ»ŃŹĐµĐĽ, ĐşĐ°ĐşĐľĐµ Đ˝Đ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ĐżĐľĐşĐ°Đ·Ń‹Đ˛Đ°Ń‚ŃŚ (ĐżĐľĐ»Đ˝ĐľĐµ Đ¸Đ»Đ¸ ŃĐľĐşŃ€Đ°Ń‰ĐµĐ˝Đ˝ĐľĐµ)
  const displayName = selectedCountry.name.length > 12 
    ? selectedCountry.shortName 
    : selectedCountry.name

  return (
    <div ref={containerRef} className={`relative w-full ${className}`}>
      {/* ĐžĐ´Đ˝Đ° ŃŃ‚Ń€ĐľĐşĐ°: Đ¤Đ»Đ°Đł + ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ + ĐšĐľĐ´ + ĐźĐľĐ»Đµ Đ˛Đ˛ĐľĐ´Đ° */}
      <div className="flex items-center gap-2 w-full" style={{ height: '42px' }}>
        {/* Đ¤Đ»Đ°Đł Đ¸ ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ŃŃ‚Ń€Đ°Đ˝Ń‹ */}
        <button
          type="button"
          onClick={() => setIsDropdownOpen(!isDropdownOpen)}
          className="flex items-center gap-2 hover:opacity-80 transition-opacity h-full flex-shrink-0 border border-black/60 rounded-sm px-4 py-2"
        >
          <Image
            src={selectedCountry.flagImage}
            alt={selectedCountry.name}
            width={20}
            height={15}
            className="object-contain flex-shrink-0"
            style={{ width: '20px', height: '15px' }}
          />
          <span className="text-black font-sans font-medium text-base leading-tight whitespace-nowrap">
            {displayName || selectedCountry.name}
          </span>
        </button>

        {/* ĐšĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹ */}
        {selectedCountry.dialCode ? (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap flex-shrink-0">
            {selectedCountry.dialCode}
          </span>
        ) : (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap opacity-50 flex-shrink-0">
            +
          </span>
        )}

        {/* ĐźĐľĐ»Đµ Đ˛Đ˛ĐľĐ´Đ° */}
        <input
          type="tel"
          value={selectedCountry.phoneFormat && selectedCountry.code !== 'other' && phoneNumber
            ? formatPhoneNumber(phoneNumber, selectedCountry.phoneFormat)
            : phoneNumber}
          onChange={handlePhoneChange}
          placeholder={selectedCountry.code === 'other' ? 'WprowadĹş numer' : 'xxx xxx xxx'}
          className="flex-1 !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all h-full"
          style={{ backgroundColor: 'transparent', height: '100%' }}
        />
      </div>

      {/* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş */}
      {isDropdownOpen && (
        <div
          ref={dropdownRef}
          className="absolute top-full left-0 mt-1 z-50 bg-white border border-black/20 rounded-lg shadow-lg max-h-64 overflow-y-auto"
          style={{
            backgroundImage: 'linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)), url(/images/zmiety arkusz papieru 2.png)',
            backgroundSize: 'cover',
            backgroundPosition: 'center',
            backgroundRepeat: 'no-repeat',
            minWidth: '280px',
          }}
        >
          {countries.map((country) => (
            <button
              key={country.code}
              type="button"
              onClick={() => handleCountrySelect(country)}
              className="w-full flex items-center gap-3 px-4 py-3 hover:bg-black/5 transition-colors text-left"
            >
              <Image
                src={country.flagImage}
                alt={country.name}
                width={24}
                height={18}
                className="object-contain flex-shrink-0"
              />
              <span className="flex-1 text-black font-sans font-medium text-base">
                {country.name}
              </span>
              {country.dialCode && (
                <span className="text-black font-sans text-sm opacity-70 whitespace-nowrap">
                  {country.dialCode}
                </span>
              )}
            </button>
          ))}
        </div>
      )}
    </div>
  )
}



--- DIFFS ---


💡 DIFF: 95ea291b-b5d5-4582-8634-01d15a0f7e68
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"95ea291b-b5d5-4582-8634-01d15a0f7e68","fileSizeBytes":7306,"numLines":203,"diffChanges":[{"originalStartLineNumberOneIndexed":111,"originalEndLineNumberExclusiveOneIndexed":119,"modifiedStartLineNumberOneIndexed":111,"modifiedEndLineNumberExclusiveOneIndexed":116,"addedLines":["    <div ref={containerRef} className={`relative w-full flex flex-col gap-2 ${className}`}>","      {/* ĐźĐµŃ€Đ˛Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: Đ¤Đ»Đ°Đł + ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ + ĐšĐľĐ´ + ĐšĐ˝ĐľĐżĐşĐ° Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° */}","      <div ","        className=\"flex items-center gap-2 border border-black/60 rounded-sm px-4 py-2\"","        style={{ minWidth: '280px', height: '42px' }}"],"tokenizedAddedLines":[1000168,1000169,1000170,1000171,1000172]},{"originalStartLineNumberOneIndexed":131,"originalEndLineNumberExclusiveOneIndexed":134,"modifiedStartLineNumberOneIndexed":128,"modifiedEndLineNumberExclusiveOneIndexed":128},{"originalStartLineNumberOneIndexed":143,"originalEndLineNumberExclusiveOneIndexed":145,"modifiedStartLineNumberOneIndexed":137,"modifiedEndLineNumberExclusiveOneIndexed":148,"addedLines":["        <button","          type=\"button\"","          onClick={() => setIsDropdownOpen(!isDropdownOpen)}","          className=\"ml-auto hover:opacity-80 transition-opacity flex-shrink-0\"","        >","          <span className=\"text-black text-lg\">â–Ľ</span>","        </button>","      </div>","","      {/* Đ’Ń‚ĐľŃ€Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: ĐźĐľĐ»Đµ Đ˛Đ˛ĐľĐ´Đ° */}","      <div className=\"w-full\">"],"tokenizedAddedLines":[93,94,95,1000173,97,1000174,109,129,2,1000175,1000176]},{"originalStartLineNumberOneIndexed":152,"originalEndLineNumberExclusiveOneIndexed":154,"modifiedStartLineNumberOneIndexed":155,"modifiedEndLineNumberExclusiveOneIndexed":157,"addedLines":["          className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all\"","          style={{ backgroundColor: 'transparent', height: '42px' }}"],"tokenizedAddedLines":[1000177,1000178]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: e6d29871-8531-43b3-8e97-571ad19af8c9 | Время: 11/25/2025 08:27:25 =====


--- METADATA ---

{"agentRequestId":"e6d29871-8531-43b3-8e97-571ad19af8c9","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"365062ed-4dea-4576-9aca-6418850f7f8b","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"9e32a514-b7e5-42a1-a8b5-847e760f6aec","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}],"startTrackingDateUnixMilliseconds":1764055645464,"fileSizeBytes":23068,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 365062ed-4dea-4576-9aca-6418850f7f8b
----------------------------------------

'use client'

import { useState, useRef, useEffect } from 'react'
import Image from 'next/image'
import { countries, Country, formatPhoneNumber } from '@/lib/countries'

interface CustomPhoneInputProps {
  value: string
  onChange: (phone: string) => void
  defaultCountry?: string
  className?: string
}

export function CustomPhoneInput({
  value,
  onChange,
  defaultCountry = 'pl',
  className = '',
}: CustomPhoneInputProps) {
  const [selectedCountry, setSelectedCountry] = useState<Country>(
    countries.find(c => c.code === defaultCountry) || countries[1] // ĐżĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ ĐźĐľĐ»ŃŚŃĐ°
  )
  const [isDropdownOpen, setIsDropdownOpen] = useState(false)
  const [phoneNumber, setPhoneNumber] = useState('')
  const dropdownRef = useRef<HTMLDivElement>(null)
  const containerRef = useRef<HTMLDivElement>(null)

  // ĐĐ˝Đ¸Ń†Đ¸Đ°Đ»Đ¸Đ·Đ°Ń†Đ¸ŃŹ Đ¸Đ· value
  useEffect(() => {
    if (value) {
      // ĐźŃ‹Ń‚Đ°ĐµĐĽŃŃŹ ĐľĐżŃ€ĐµĐ´ĐµĐ»Đ¸Ń‚ŃŚ ŃŃ‚Ń€Đ°Đ˝Ń ĐżĐľ ĐşĐľĐ´Ń
      const dialCode = value.match(/^\+\d+/)?.[0]
      if (dialCode) {
        const country = countries.find(c => c.dialCode === dialCode)
        if (country) {
          setSelectedCountry(country)
          const number = value.replace(dialCode, '').trim().replace(/\s/g, '')
          setPhoneNumber(number)
        } else {
          // Đ•ŃĐ»Đ¸ ĐşĐľĐ´ Đ˝Đµ Đ˝Đ°ĐąĐ´ĐµĐ˝, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
          setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
          setPhoneNumber(value.replace(/^\+\d+\s*/, '').trim().replace(/\D/g, ''))
        }
      } else {
        // Đ•ŃĐ»Đ¸ Đ˝ĐµŃ‚ ĐşĐľĐ´Đ°, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
        setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
        setPhoneNumber(value.replace(/\D/g, ''))
      }
    }
  }, [value])

  // Đ—Đ°ĐşŃ€Ń‹Ń‚Đ¸Đµ dropdown ĐżŃ€Đ¸ ĐşĐ»Đ¸ĐşĐµ Đ˛Đ˝Đµ
  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (
        containerRef.current &&
        !containerRef.current.contains(event.target as Node)
      ) {
        setIsDropdownOpen(false)
      }
    }

    if (isDropdownOpen) {
      document.addEventListener('mousedown', handleClickOutside)
    }

    return () => {
      document.removeEventListener('mousedown', handleClickOutside)
    }
  }, [isDropdownOpen])

  const handleCountrySelect = (country: Country) => {
    setSelectedCountry(country)
    setIsDropdownOpen(false)
    // ĐžĐ±Đ˝ĐľĐ˛Đ»ŃŹĐµĐĽ Đ·Đ˝Đ°Ń‡ĐµĐ˝Đ¸Đµ Ń Đ˝ĐľĐ˛Ń‹ĐĽ ĐşĐľĐ´ĐľĐĽ ŃŃ‚Ń€Đ°Đ˝Ń‹
    const newValue = country.dialCode 
      ? `${country.dialCode} ${phoneNumber}`.trim()
      : phoneNumber
    onChange(newValue)
  }

  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    let input = e.target.value.replace(/\D/g, '') // Ń‚ĐľĐ»ŃŚĐşĐľ Ń†Đ¸Ń„Ń€Ń‹
    
    // ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡Đ¸Đ˛Đ°ĐµĐĽ Đ´Đ»Đ¸Đ˝Ń Đ´Đ»ŃŹ Đ¸Đ·Đ˛ĐµŃŃ‚Đ˝Ń‹Ń… ŃŃ‚Ń€Đ°Đ˝
    if (selectedCountry.phoneLength && selectedCountry.code !== 'other') {
      input = input.slice(0, selectedCountry.phoneLength)
    }
    
    setPhoneNumber(input)
    
    // Đ¤ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ŃĐµĐĽ Đ˝ĐľĐĽĐµŃ€
    let formatted = input
    if (selectedCountry.phoneFormat && selectedCountry.code !== 'other') {
      formatted = formatPhoneNumber(input, selectedCountry.phoneFormat)
    }
    
    // ĐžĐ±Đ˝ĐľĐ˛Đ»ŃŹĐµĐĽ Đ·Đ˝Đ°Ń‡ĐµĐ˝Đ¸Đµ
    const newValue = selectedCountry.dialCode
      ? `${selectedCountry.dialCode} ${formatted}`.trim()
      : formatted
    onChange(newValue)
  }

  // ĐžĐżŃ€ĐµĐ´ĐµĐ»ŃŹĐµĐĽ, ĐşĐ°ĐşĐľĐµ Đ˝Đ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ĐżĐľĐşĐ°Đ·Ń‹Đ˛Đ°Ń‚ŃŚ (ĐżĐľĐ»Đ˝ĐľĐµ Đ¸Đ»Đ¸ ŃĐľĐşŃ€Đ°Ń‰ĐµĐ˝Đ˝ĐľĐµ)
  const displayName = selectedCountry.name.length > 12 
    ? selectedCountry.shortName 
    : selectedCountry.name

  return (
    <div ref={containerRef} className={`relative w-full flex items-start gap-0 ${className}`}>
      {/* ĐźĐµŃ€Đ˛Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: Đ¤Đ»Đ°Đł + ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ + ĐšĐľĐ´ (ŃĐżŃ€Đ°Đ˛Đ°) + ĐšĐ˝ĐľĐżĐşĐ° Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° */}
      <div 
        className="flex items-center gap-2 border border-black/60 rounded-sm px-4 py-2"
        style={{ minWidth: '280px', height: '42px' }}
      >
        <Image
          src={selectedCountry.flagImage}
          alt={selectedCountry.name}
          width={20}
          height={15}
          className="object-contain flex-shrink-0"
          style={{ width: '20px', height: '15px' }}
        />
        <span className="text-black font-sans font-medium text-base leading-tight whitespace-nowrap flex-1">
          {displayName || selectedCountry.name}
        </span>
        {selectedCountry.dialCode ? (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap flex-shrink-0">
            {selectedCountry.dialCode}
          </span>
        ) : (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap opacity-50 flex-shrink-0">
            +
          </span>
        )}
        <button
          type="button"
          onClick={() => setIsDropdownOpen(!isDropdownOpen)}
          className="hover:opacity-80 transition-opacity flex-shrink-0"
        >
          <span className="text-black text-lg">â–Ľ</span>
        </button>
      </div>

      {/* Đ’Ń‚ĐľŃ€Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: ĐźĐľĐ»Đµ Đ˛Đ˛ĐľĐ´Đ° (ĐłĐľŃ€Đ¸Đ·ĐľĐ˝Ń‚Đ°Đ»ŃŚĐ˝Đľ Đ·Đ° ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐľĐą) */}
      <div className="flex-1">
        <input
          type="tel"
          value={selectedCountry.phoneFormat && selectedCountry.code !== 'other' && phoneNumber
            ? formatPhoneNumber(phoneNumber, selectedCountry.phoneFormat)
            : phoneNumber}
          onChange={handlePhoneChange}
          placeholder={selectedCountry.code === 'other' ? 'WprowadĹş numer' : 'xxx xxx xxx'}
          className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
          style={{ backgroundColor: 'transparent', height: '42px' }}
        />
      </div>

      {/* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş */}
      {isDropdownOpen && (
        <div
          ref={dropdownRef}
          className="absolute top-full left-0 mt-1 z-50 bg-white border border-black/20 rounded-lg shadow-lg max-h-64 overflow-y-auto"
          style={{
            backgroundImage: 'linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)), url(/images/zmiety arkusz papieru 2.png)',
            backgroundSize: 'cover',
            backgroundPosition: 'center',
            backgroundRepeat: 'no-repeat',
            width: 'auto',
            minWidth: 'auto',
          }}
        >
          {countries.map((country) => (
            <button
              key={country.code}
              type="button"
              onClick={() => handleCountrySelect(country)}
              className="flex items-center gap-3 px-4 py-3 hover:bg-black/5 transition-colors text-left whitespace-nowrap w-full"
            >
              <Image
                src={country.flagImage}
                alt={country.name}
                width={24}
                height={18}
                className="object-contain flex-shrink-0"
              />
              <span className="text-black font-sans font-medium text-base">
                {country.name}
              </span>
              {country.dialCode && (
                <span className="text-black font-sans text-sm opacity-70 whitespace-nowrap">
                  {country.dialCode}
                </span>
              )}
            </button>
          ))}
        </div>
      )}
    </div>
  )
}



🗂 FILE: 9e32a514-b7e5-42a1-a8b5-847e760f6aec
----------------------------------------

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 5rem; /* wysokoĹ›Ä‡ headera */
  }

  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .bg-paper-texture {
    background-image: url('/images/zmiety arkusz papieru 2.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }
  
  .service-description-text {
    word-break: break-word;
    overflow-wrap: anywhere;
  }
  
  /* ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡ĐµĐ˝Đ¸Đµ ŃĐ¸Ń€Đ¸Đ˝Ń‹ ĐżĐµŃ€Đ˛ĐľĐą ĐşĐľĐ»ĐľĐ˝ĐşĐ¸ Ń‚Đ°Đ±Đ»Đ¸Ń†Ń‹ Ń‡ĐµŃ€ĐµĐ· max-width */
  table[data-slot="table"] tbody tr td:first-child {
    max-width: 850px;
  }
  
  /* Đ¤Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝ĐľĐµ Đ˛Ń‹Ń€Đ°Đ˛Đ˝Đ¸Đ˛Đ°Đ˝Đ¸Đµ ĐşĐľĐ»ĐľĐ˝ĐşĐ¸ Ń Ń†ĐµĐ˝Đ°ĐĽĐ¸ */
  table[data-slot="table"] tbody tr td:nth-child(2) {
    text-align: center !important;
    vertical-align: middle !important;
  }
  
  /* ĐťĐ° Đ´ĐµŃĐşŃ‚ĐľĐżĐµ Ń„Đ¸ĐşŃĐ¸Ń€ŃĐµĐĽ ŃĐ¸Ń€Đ¸Đ˝Ń ĐşĐľĐ»ĐľĐ˝ĐşĐ¸ Ń Ń†ĐµĐ˝Đ°ĐĽĐ¸ */
  @media (min-width: 768px) {
    table[data-slot="table"] {
      table-layout: fixed;
    }
    
    table[data-slot="table"] tbody tr td:nth-child(2) {
      width: 16.5% !important;
      min-width: 120px;
    }
  }
  
  /* ĐŁĐ±Đ¸Ń€Đ°ĐµĐĽ ŃĐ¸Đ˝ŃŽŃŽ Ń€Đ°ĐĽĐşŃ Đ´Đ»ŃŹ ĐżĐľĐ´ĐşĐ°Ń‚ĐµĐłĐľŃ€Đ¸Đą Đ˛ ŃĐµĐşŃ†Đ¸Đ¸ naprawy */
  [data-slot="accordion"] [data-slot="accordion-item"] [data-slot="accordion-trigger"]:focus-visible {
    outline: none !important;
    box-shadow: none !important;
  }
  
  /* ĐžĐ±ĐµŃĐżĐµŃ‡Đ¸Đ˛Đ°ĐµĐĽ Đ˛Đ¸Đ´Đ¸ĐĽĐľŃŃ‚ŃŚ Đ˝Đ°Đ´ĐżĐ¸ŃĐ¸ "Zobacz cennik" Đ˛ ĐżĐľĐ´ĐşĐ°Ń‚ĐµĐłĐľŃ€Đ¸ŃŹŃ… */
  [data-subcategory-link] {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  /* ĐˇĐşŃ€Ń‹Đ˛Đ°ĐµĐĽ Đ˝Đ°Đ´ĐżĐ¸ŃŃŚ ĐşĐľĐłĐ´Đ° ĐżĐľĐ´ĐşĐ°Ń‚ĐµĐłĐľŃ€Đ¸ŃŹ ĐľŃ‚ĐşŃ€Ń‹Ń‚Đ° */
  [data-slot="accordion-trigger"][data-state="open"] [data-subcategory-link] {
    display: none !important;
  }
  
  /* ĐĐ˝Đ¸ĐĽĐ°Ń†Đ¸ŃŹ ĐżŃ€Đ¸ ĐľŃ‚ĐşŃ€Ń‹Ń‚Đ¸Đ¸ FAQ ĐľŃ‚Đ˛ĐµŃ‚Đ° */
  [data-slot="accordion-content"] {
    animation: fadeIn 0.3s ease-in-out;
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-5px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  
  /* ĐˇĐşŃ€ĐľĐ»Đ»Đ±Đ°Ń€ - ŃĐ±Ń€Đ°Đ»Đ¸ Đ˛ŃĐµ ŃŃ‚Đ¸Đ»Đ¸, ĐľŃŃ‚Đ°Đ˛Đ»ŃŹĐµĐĽ ĐżĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ */
  
  /* ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ Đ˛ŃĐµŃ… ĐżĐľĐ»ĐµĐą Đ˛Đ˛ĐľĐ´Đ° - ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝Đ°ŃŹ ŃĐżĐµŃ†Đ¸Ń„Đ¸Ń‡Đ˝ĐľŃŃ‚ŃŚ Đ¸ ĐżŃ€Đ¸ĐľŃ€Đ¸Ń‚ĐµŃ‚ */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input:not([type="radio"]):not([type="checkbox"]):not([type="submit"]):not([type="button"]) {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  input[type="text"]:-webkit-autofill,
  input[type="text"]:-webkit-autofill:hover,
  input[type="text"]:-webkit-autofill:focus,
  input[type="text"]:-webkit-autofill:active,
  input[type="email"]:-webkit-autofill,
  input[type="email"]:-webkit-autofill:hover,
  input[type="email"]:-webkit-autofill:focus,
  input[type="email"]:-webkit-autofill:active,
  input[type="tel"]:-webkit-autofill,
  input[type="tel"]:-webkit-autofill:hover,
  input[type="tel"]:-webkit-autofill:focus,
  input[type="tel"]:-webkit-autofill:active,
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  input:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #3a2e24 !important;
    color: #3a2e24 !important;
  }
  
  input[type="text"]:focus,
  input[type="text"]:active,
  input[type="text"]:hover,
  input[type="email"]:focus,
  input[type="email"]:active,
  input[type="email"]:hover,
  input[type="tel"]:focus,
  input[type="tel"]:active,
  input[type="tel"]:hover,
  input:focus,
  input:active,
  input:hover {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  #kontakt input[type="text"]:-webkit-autofill,
  #kontakt input[type="text"]:-webkit-autofill:hover,
  #kontakt input[type="text"]:-webkit-autofill:focus,
  #kontakt input[type="text"]:-webkit-autofill:active,
  #kontakt input[type="email"]:-webkit-autofill,
  #kontakt input[type="email"]:-webkit-autofill:hover,
  #kontakt input[type="email"]:-webkit-autofill:focus,
  #kontakt input[type="email"]:-webkit-autofill:active,
  #kontakt input[type="tel"]:-webkit-autofill,
  #kontakt input[type="tel"]:-webkit-autofill:hover,
  #kontakt input[type="tel"]:-webkit-autofill:focus,
  #kontakt input[type="tel"]:-webkit-autofill:active,
  #kontakt textarea:-webkit-autofill,
  #kontakt textarea:-webkit-autofill:hover,
  #kontakt textarea:-webkit-autofill:focus,
  #kontakt textarea:-webkit-autofill:active,
  section#kontakt input[type="text"]:-webkit-autofill,
  section#kontakt input[type="text"]:-webkit-autofill:hover,
  section#kontakt input[type="text"]:-webkit-autofill:focus,
  section#kontakt input[type="text"]:-webkit-autofill:active,
  section#kontakt input[type="email"]:-webkit-autofill,
  section#kontakt input[type="email"]:-webkit-autofill:hover,
  section#kontakt input[type="email"]:-webkit-autofill:focus,
  section#kontakt input[type="email"]:-webkit-autofill:active,
  section#kontakt input[type="tel"]:-webkit-autofill,
  section#kontakt input[type="tel"]:-webkit-autofill:hover,
  section#kontakt input[type="tel"]:-webkit-autofill:focus,
  section#kontakt input[type="tel"]:-webkit-autofill:active,
  section#kontakt textarea:-webkit-autofill,
  section#kontakt textarea:-webkit-autofill:hover,
  section#kontakt textarea:-webkit-autofill:focus,
  section#kontakt textarea:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #3a2e24 !important;
    color: #3a2e24 !important;
  }
  
  #kontakt input[type="text"]:focus,
  #kontakt input[type="text"]:active,
  #kontakt input[type="text"]:hover,
  #kontakt input[type="email"]:focus,
  #kontakt input[type="email"]:active,
  #kontakt input[type="email"]:hover,
  #kontakt input[type="tel"]:focus,
  #kontakt input[type="tel"]:active,
  #kontakt input[type="tel"]:hover,
  #kontakt textarea:focus,
  #kontakt textarea:active,
  #kontakt textarea:hover,
  section#kontakt input[type="text"]:focus,
  section#kontakt input[type="text"]:active,
  section#kontakt input[type="text"]:hover,
  section#kontakt input[type="email"]:focus,
  section#kontakt input[type="email"]:active,
  section#kontakt input[type="email"]:hover,
  section#kontakt input[type="tel"]:focus,
  section#kontakt input[type="tel"]:active,
  section#kontakt input[type="tel"]:hover,
  section#kontakt textarea:focus,
  section#kontakt textarea:active,
  section#kontakt textarea:hover {
    background-color: transparent !important;
    background: transparent !important;
  }
  

  /* ĐĐ´Đ°ĐżŃ‚Đ¸Đ˛Đ˝Ń‹Đµ ŃŃ‚Đ¸Đ»Đ¸ Đ´Đ»ŃŹ ĐĽĐľĐ±Đ¸Đ»ŃŚĐ˝Ń‹Ń… ŃŃŃ‚Ń€ĐľĐąŃŃ‚Đ˛ */
  @media (max-width: 768px) {
    table[data-slot="table"] {
      table-layout: fixed;
      width: 100%;
      max-width: 100%;
    }
    
    table[data-slot="table"] colgroup {
      display: none;
    }
    
    table[data-slot="table"] tbody tr td:first-child {
      max-width: none;
      width: 80%;
      padding-right: 0.5rem;
    }
    
    table[data-slot="table"] tbody tr td:nth-child(2) {
      min-width: 70px;
      width: 20% !important;
      padding-left: 0.5rem;
      padding-right: 0.5rem;
      white-space: nowrap;
      text-align: center !important;
      vertical-align: middle !important;
    }
    
    /* ĐšĐľĐ˝Ń‚ĐµĐąĐ˝ĐµŃ€ Ń‚Đ°Đ±Đ»Đ¸Ń†Ń‹ Đ˝Đ° ĐĽĐľĐ±Đ¸Đ»ŃŚĐ˝Ń‹Ń… - ŃĐ±Đ¸Ń€Đ°ĐµĐĽ ĐłĐľŃ€Đ¸Đ·ĐľĐ˝Ń‚Đ°Đ»ŃŚĐ˝ŃŃŽ ĐżŃ€ĐľĐşŃ€ŃŃ‚ĐşŃ */
    div[data-slot="table-container"] {
      overflow-x: visible !important;
      width: 100%;
    }
    
    /* ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡Đ¸Đ˛Đ°ĐµĐĽ ŃĐ¸Ń€Đ¸Đ˝Ń Ń‚Đ°Đ±Đ»Đ¸Ń†Ń‹ Đ˝Đ° ĐĽĐľĐ±Đ¸Đ»ŃŚĐ˝Ń‹Ń… */
    div[data-slot="table-container"] table {
      width: 100% !important;
      max-width: 100% !important;
    }
  }
  
  /* ĐšĐ ĐĐ˘ĐĐ§Đ•ĐˇĐšĐ Đ’ĐĐ–ĐťĐž: ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ input - Đ˛ ĐşĐľĐ˝Ń†Đµ Ń„Đ°ĐąĐ»Đ° Ń ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝Ń‹ĐĽ ĐżŃ€Đ¸ĐľŃ€Đ¸Ń‚ĐµŃ‚ĐľĐĽ */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input:not([type="radio"]):not([type="checkbox"]):not([type="submit"]):not([type="button"]):not([type="hidden"]) {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  input[type="text"]:-webkit-autofill,
  input[type="text"]:-webkit-autofill:hover,
  input[type="text"]:-webkit-autofill:focus,
  input[type="text"]:-webkit-autofill:active,
  input[type="email"]:-webkit-autofill,
  input[type="email"]:-webkit-autofill:hover,
  input[type="email"]:-webkit-autofill:focus,
  input[type="email"]:-webkit-autofill:active,
  input[type="tel"]:-webkit-autofill,
  input[type="tel"]:-webkit-autofill:hover,
  input[type="tel"]:-webkit-autofill:focus,
  input[type="tel"]:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #3a2e24 !important;
    color: #3a2e24 !important;
  }
  
  input[type="text"]:focus,
  input[type="text"]:active,
  input[type="text"]:hover,
  input[type="email"]:focus,
  input[type="email"]:active,
  input[type="email"]:hover,
  input[type="tel"]:focus,
  input[type="tel"]:active,
  input[type="tel"]:hover {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  /* ĐˇĐżĐµŃ†Đ¸Đ°Đ»ŃŚĐ˝Ń‹Đµ ĐżŃ€Đ°Đ˛Đ¸Đ»Đ° Đ´Đ»ŃŹ Ń‚ĐµŃŃ‚ĐľĐ˛ĐľĐą ŃŃ‚Ń€Đ°Đ˝Đ¸Ń†Ń‹ kontakt-test */
  #kontakt-test input[type="text"],
  #kontakt-test input[type="email"],
  #kontakt-test input[type="tel"] {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  #kontakt-test input[type="text"]:-webkit-autofill,
  #kontakt-test input[type="text"]:-webkit-autofill:hover,
  #kontakt-test input[type="text"]:-webkit-autofill:focus,
  #kontakt-test input[type="text"]:-webkit-autofill:active,
  #kontakt-test input[type="email"]:-webkit-autofill,
  #kontakt-test input[type="email"]:-webkit-autofill:hover,
  #kontakt-test input[type="email"]:-webkit-autofill:focus,
  #kontakt-test input[type="email"]:-webkit-autofill:active,
  #kontakt-test input[type="tel"]:-webkit-autofill,
  #kontakt-test input[type="tel"]:-webkit-autofill:hover,
  #kontakt-test input[type="tel"]:-webkit-autofill:focus,
  #kontakt-test input[type="tel"]:-webkit-autofill:active {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: #000000 !important;
    color: #000000 !important;
    transition: background-color 5000s ease-in-out 0s !important;
  }
  
  #kontakt-test input[type="text"]:focus,
  #kontakt-test input[type="text"]:active,
  #kontakt-test input[type="text"]:hover,
  #kontakt-test input[type="email"]:focus,
  #kontakt-test input[type="email"]:active,
  #kontakt-test input[type="email"]:hover,
  #kontakt-test input[type="tel"]:focus,
  #kontakt-test input[type="tel"]:active,
  #kontakt-test input[type="tel"]:hover {
    background-color: transparent !important;
    background: transparent !important;
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    box-shadow: 0 0 0 1000px transparent inset !important;
  }
  
  
  /* ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ radio Đ¸ checkbox Đ˝Đ° Ń‚ĐµŃŃ‚ĐľĐ˛ĐľĐą ŃŃ‚Ń€Đ°Đ˝Đ¸Ń†Đµ */
  #kontakt-test input[type="radio"],
  #kontakt-test input[type="checkbox"] {
    background-color: transparent !important;
    background: transparent !important;
  }
  
  #kontakt-test input[type="radio"]:checked,
  #kontakt-test input[type="checkbox"]:checked {
    background-color: transparent !important;
    background: transparent !important;
  }
  
  /* ĐšĐľĐ˝Ń‚ĐµĐąĐ˝ĐµŃ€Ń‹ Đ´Đ»ŃŹ radio Đ¸ checkbox */
  #kontakt-test label:has(input[type="radio"]),
  #kontakt-test label:has(input[type="checkbox"]) {
    background-color: transparent !important;
    background: transparent !important;
  }
}


--- DIFFS ---


💡 DIFF: 365062ed-4dea-4576-9aca-6418850f7f8b
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"365062ed-4dea-4576-9aca-6418850f7f8b","fileSizeBytes":7422,"numLines":204,"diffChanges":[{"originalStartLineNumberOneIndexed":155,"originalEndLineNumberExclusiveOneIndexed":156,"modifiedStartLineNumberOneIndexed":155,"modifiedEndLineNumberExclusiveOneIndexed":156,"addedLines":["          className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/50 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all\""],"tokenizedAddedLines":[1000172]},{"originalStartLineNumberOneIndexed":164,"originalEndLineNumberExclusiveOneIndexed":165,"modifiedStartLineNumberOneIndexed":164,"modifiedEndLineNumberExclusiveOneIndexed":165,"addedLines":["          className=\"absolute top-full left-0 mt-1 z-50 border border-black/20 rounded-lg shadow-lg max-h-64 overflow-y-auto custom-dropdown\""],"tokenizedAddedLines":[1000173]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

💡 DIFF: 9e32a514-b7e5-42a1-a8b5-847e760f6aec
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"9e32a514-b7e5-42a1-a8b5-847e760f6aec","fileSizeBytes":13816,"numLines":405,"diffChanges":[{"originalStartLineNumberOneIndexed":364,"originalEndLineNumberExclusiveOneIndexed":364,"modifiedStartLineNumberOneIndexed":364,"modifiedEndLineNumberExclusiveOneIndexed":404,"addedLines":["  ","  /* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş ŃŃ‚Ń€Đ°Đ˝ - ĐżĐľĐ´Đ»ĐľĐ¶ĐşĐ° Đ¸Đ· ŃĐĽŃŹŃ‚ĐľĐłĐľ Đ»Đ¸ŃŃ‚Đ° */","  .custom-dropdown {","    background-image: ","      linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)),","      url('/images/zmiety arkusz papieru 2.png') !important;","    background-size: cover !important;","    background-position: center !important;","    background-repeat: no-repeat !important;","  }","  ","  /* ĐˇĐşŃ€ĐľĐ»Đ»Đ±Đ°Ń€ Đ´Đ»ŃŹ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° ŃŃ‚Ń€Đ°Đ˝ */","  .custom-dropdown::-webkit-scrollbar {","    width: 8px;","  }","  ","  .custom-dropdown::-webkit-scrollbar-track {","    background-image: ","      linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)),","      url('/images/zmiety arkusz papieru 2.png') !important;","    background-size: cover !important;","    background-position: center !important;","    background-repeat: no-repeat !important;","    border-radius: 4px;","  }","  ","  .custom-dropdown::-webkit-scrollbar-thumb {","    background: rgba(58, 46, 36, 0.3) !important;","    border-radius: 4px;","  }","  ","  .custom-dropdown::-webkit-scrollbar-thumb:hover {","    background: rgba(58, 46, 36, 0.5) !important;","  }","  ","  /* Đ”Đ»ŃŹ Firefox */","  .custom-dropdown {","    scrollbar-width: thin;","    scrollbar-color: rgba(58, 46, 36, 0.3) transparent;","  }"],"tokenizedAddedLines":[19,1000219,1000220,1000221,1000222,1000223,1000224,1000225,1000226,9,19,1000227,1000228,1000229,9,19,1000230,1000221,1000222,1000223,1000224,1000225,1000226,1000231,9,19,1000232,1000233,1000231,9,19,1000234,1000235,9,19,1000236,1000220,1000237,1000238,9]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: e7416528-675e-4b1e-b677-c50d3ad2131a | Время: 11/25/2025 08:24:06 =====


--- METADATA ---

{"agentRequestId":"e7416528-675e-4b1e-b677-c50d3ad2131a","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"2ae03c01-37f6-4a41-a8de-a93b7c7b836d","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}}],"startTrackingDateUnixMilliseconds":1764055445982,"fileSizeBytes":8767,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 2ae03c01-37f6-4a41-a8de-a93b7c7b836d
----------------------------------------

'use client'

import { useState, useRef, useEffect } from 'react'
import Image from 'next/image'
import { countries, Country, formatPhoneNumber } from '@/lib/countries'

interface CustomPhoneInputProps {
  value: string
  onChange: (phone: string) => void
  defaultCountry?: string
  className?: string
}

export function CustomPhoneInput({
  value,
  onChange,
  defaultCountry = 'pl',
  className = '',
}: CustomPhoneInputProps) {
  const [selectedCountry, setSelectedCountry] = useState<Country>(
    countries.find(c => c.code === defaultCountry) || countries[1] // ĐżĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ ĐźĐľĐ»ŃŚŃĐ°
  )
  const [isDropdownOpen, setIsDropdownOpen] = useState(false)
  const [phoneNumber, setPhoneNumber] = useState('')
  const dropdownRef = useRef<HTMLDivElement>(null)
  const containerRef = useRef<HTMLDivElement>(null)

  // ĐĐ˝Đ¸Ń†Đ¸Đ°Đ»Đ¸Đ·Đ°Ń†Đ¸ŃŹ Đ¸Đ· value
  useEffect(() => {
    if (value) {
      // ĐźŃ‹Ń‚Đ°ĐµĐĽŃŃŹ ĐľĐżŃ€ĐµĐ´ĐµĐ»Đ¸Ń‚ŃŚ ŃŃ‚Ń€Đ°Đ˝Ń ĐżĐľ ĐşĐľĐ´Ń
      const dialCode = value.match(/^\+\d+/)?.[0]
      if (dialCode) {
        const country = countries.find(c => c.dialCode === dialCode)
        if (country) {
          setSelectedCountry(country)
          const number = value.replace(dialCode, '').trim().replace(/\s/g, '')
          setPhoneNumber(number)
        } else {
          // Đ•ŃĐ»Đ¸ ĐşĐľĐ´ Đ˝Đµ Đ˝Đ°ĐąĐ´ĐµĐ˝, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
          setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
          setPhoneNumber(value.replace(/^\+\d+\s*/, '').trim().replace(/\D/g, ''))
        }
      } else {
        // Đ•ŃĐ»Đ¸ Đ˝ĐµŃ‚ ĐşĐľĐ´Đ°, Đ˛ĐľĐ·ĐĽĐľĐ¶Đ˝Đľ ŃŤŃ‚Đľ "other"
        setSelectedCountry(countries[countries.length - 1]) // "Inny kraj"
        setPhoneNumber(value.replace(/\D/g, ''))
      }
    }
  }, [value])

  // Đ—Đ°ĐşŃ€Ń‹Ń‚Đ¸Đµ dropdown ĐżŃ€Đ¸ ĐşĐ»Đ¸ĐşĐµ Đ˛Đ˝Đµ
  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (
        containerRef.current &&
        !containerRef.current.contains(event.target as Node)
      ) {
        setIsDropdownOpen(false)
      }
    }

    if (isDropdownOpen) {
      document.addEventListener('mousedown', handleClickOutside)
    }

    return () => {
      document.removeEventListener('mousedown', handleClickOutside)
    }
  }, [isDropdownOpen])

  const handleCountrySelect = (country: Country) => {
    setSelectedCountry(country)
    setIsDropdownOpen(false)
    // ĐžĐ±Đ˝ĐľĐ˛Đ»ŃŹĐµĐĽ Đ·Đ˝Đ°Ń‡ĐµĐ˝Đ¸Đµ Ń Đ˝ĐľĐ˛Ń‹ĐĽ ĐşĐľĐ´ĐľĐĽ ŃŃ‚Ń€Đ°Đ˝Ń‹
    const newValue = country.dialCode 
      ? `${country.dialCode} ${phoneNumber}`.trim()
      : phoneNumber
    onChange(newValue)
  }

  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    let input = e.target.value.replace(/\D/g, '') // Ń‚ĐľĐ»ŃŚĐşĐľ Ń†Đ¸Ń„Ń€Ń‹
    
    // ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡Đ¸Đ˛Đ°ĐµĐĽ Đ´Đ»Đ¸Đ˝Ń Đ´Đ»ŃŹ Đ¸Đ·Đ˛ĐµŃŃ‚Đ˝Ń‹Ń… ŃŃ‚Ń€Đ°Đ˝
    if (selectedCountry.phoneLength && selectedCountry.code !== 'other') {
      input = input.slice(0, selectedCountry.phoneLength)
    }
    
    setPhoneNumber(input)
    
    // Đ¤ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ŃĐµĐĽ Đ˝ĐľĐĽĐµŃ€
    let formatted = input
    if (selectedCountry.phoneFormat && selectedCountry.code !== 'other') {
      formatted = formatPhoneNumber(input, selectedCountry.phoneFormat)
    }
    
    // ĐžĐ±Đ˝ĐľĐ˛Đ»ŃŹĐµĐĽ Đ·Đ˝Đ°Ń‡ĐµĐ˝Đ¸Đµ
    const newValue = selectedCountry.dialCode
      ? `${selectedCountry.dialCode} ${formatted}`.trim()
      : formatted
    onChange(newValue)
  }

  // ĐžĐżŃ€ĐµĐ´ĐµĐ»ŃŹĐµĐĽ, ĐşĐ°ĐşĐľĐµ Đ˝Đ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ĐżĐľĐşĐ°Đ·Ń‹Đ˛Đ°Ń‚ŃŚ (ĐżĐľĐ»Đ˝ĐľĐµ Đ¸Đ»Đ¸ ŃĐľĐşŃ€Đ°Ń‰ĐµĐ˝Đ˝ĐľĐµ)
  const displayName = selectedCountry.name.length > 12 
    ? selectedCountry.shortName 
    : selectedCountry.name

  return (
    <div ref={containerRef} className={`relative w-full flex items-start gap-2 ${className}`}>
      {/* ĐźĐµŃ€Đ˛Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: Đ¤Đ»Đ°Đł + ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ + ĐšĐľĐ´ (ŃĐżŃ€Đ°Đ˛Đ°) + ĐšĐ˝ĐľĐżĐşĐ° Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° */}
      <div 
        className="flex items-center gap-2 border border-black/60 rounded-sm px-4 py-2"
        style={{ minWidth: '280px', height: '42px' }}
      >
        <Image
          src={selectedCountry.flagImage}
          alt={selectedCountry.name}
          width={20}
          height={15}
          className="object-contain flex-shrink-0"
          style={{ width: '20px', height: '15px' }}
        />
        <span className="text-black font-sans font-medium text-base leading-tight whitespace-nowrap flex-1">
          {displayName || selectedCountry.name}
        </span>
        {selectedCountry.dialCode ? (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap flex-shrink-0">
            {selectedCountry.dialCode}
          </span>
        ) : (
          <span className="text-black font-sans font-medium text-base whitespace-nowrap opacity-50 flex-shrink-0">
            +
          </span>
        )}
        <button
          type="button"
          onClick={() => setIsDropdownOpen(!isDropdownOpen)}
          className="hover:opacity-80 transition-opacity flex-shrink-0"
        >
          <span className="text-black text-lg">â–Ľ</span>
        </button>
      </div>

      {/* Đ’Ń‚ĐľŃ€Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: ĐźĐľĐ»Đµ Đ˛Đ˛ĐľĐ´Đ° (ĐłĐľŃ€Đ¸Đ·ĐľĐ˝Ń‚Đ°Đ»ŃŚĐ˝Đľ Đ·Đ° ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐľĐą) */}
      <div className="flex-1">
        <input
          type="tel"
          value={selectedCountry.phoneFormat && selectedCountry.code !== 'other' && phoneNumber
            ? formatPhoneNumber(phoneNumber, selectedCountry.phoneFormat)
            : phoneNumber}
          onChange={handlePhoneChange}
          placeholder={selectedCountry.code === 'other' ? 'WprowadĹş numer' : 'xxx xxx xxx'}
          className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
          style={{ backgroundColor: 'transparent', height: '42px' }}
        />
      </div>

      {/* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş */}
      {isDropdownOpen && (
        <div
          ref={dropdownRef}
          className="absolute top-full left-0 mt-1 z-50 bg-white border border-black/20 rounded-lg shadow-lg max-h-64 overflow-y-auto"
          style={{
            backgroundImage: 'linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)), url(/images/zmiety arkusz papieru 2.png)',
            backgroundSize: 'cover',
            backgroundPosition: 'center',
            backgroundRepeat: 'no-repeat',
            minWidth: '280px',
          }}
        >
          {countries.map((country) => (
            <button
              key={country.code}
              type="button"
              onClick={() => handleCountrySelect(country)}
              className="w-full flex items-center gap-3 px-4 py-3 hover:bg-black/5 transition-colors text-left"
            >
              <Image
                src={country.flagImage}
                alt={country.name}
                width={24}
                height={18}
                className="object-contain flex-shrink-0"
              />
              <span className="flex-1 text-black font-sans font-medium text-base">
                {country.name}
              </span>
              {country.dialCode && (
                <span className="text-black font-sans text-sm opacity-70 whitespace-nowrap">
                  {country.dialCode}
                </span>
              )}
            </button>
          ))}
        </div>
      )}
    </div>
  )
}



--- DIFFS ---


💡 DIFF: 2ae03c01-37f6-4a41-a8de-a93b7c7b836d
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"2ae03c01-37f6-4a41-a8de-a93b7c7b836d","fileSizeBytes":7389,"numLines":204,"diffChanges":[{"originalStartLineNumberOneIndexed":111,"originalEndLineNumberExclusiveOneIndexed":112,"modifiedStartLineNumberOneIndexed":111,"modifiedEndLineNumberExclusiveOneIndexed":112,"addedLines":["    <div ref={containerRef} className={`relative w-full flex items-start gap-0 ${className}`}>"],"tokenizedAddedLines":[1000171]},{"originalStartLineNumberOneIndexed":170,"originalEndLineNumberExclusiveOneIndexed":171,"modifiedStartLineNumberOneIndexed":170,"modifiedEndLineNumberExclusiveOneIndexed":172,"addedLines":["            width: 'auto',","            minWidth: 'auto',"],"tokenizedAddedLines":[1000172,1000173]},{"originalStartLineNumberOneIndexed":178,"originalEndLineNumberExclusiveOneIndexed":179,"modifiedStartLineNumberOneIndexed":179,"modifiedEndLineNumberExclusiveOneIndexed":180,"addedLines":["              className=\"flex items-center gap-3 px-4 py-3 hover:bg-black/5 transition-colors text-left whitespace-nowrap w-full\""],"tokenizedAddedLines":[1000174]},{"originalStartLineNumberOneIndexed":187,"originalEndLineNumberExclusiveOneIndexed":188,"modifiedStartLineNumberOneIndexed":188,"modifiedEndLineNumberExclusiveOneIndexed":189,"addedLines":["              <span className=\"text-black font-sans font-medium text-base\">"],"tokenizedAddedLines":[1000175]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"b1e458b40cda2e8cae7c4a908eb2a998e6f1a778"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: ebba0288-7263-4bd5-aced-741df46a59a7 | Время: 11/25/2025 11:28:35 =====


--- METADATA ---

{"agentRequestId":"ebba0288-7263-4bd5-aced-741df46a59a7","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\lib\\countries.ts","fileUuid":"d140dc5d-eca8-466a-8424-46d6866e0b11","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"d42bb503-8e5f-4f25-8c53-e5f8dffb7607","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-radio.tsx","fileUuid":"aa4e544c-ac3f-4be7-8e4c-99fbc0f5ddaf","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-checkbox.tsx","fileUuid":"2b6b1a4e-f9fa-4e93-9d60-3e564450131c","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\success-modal.tsx","fileUuid":"c8ce60e9-6b79-4072-8d5b-ac0b397e34a2","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\api\\send-email\\route.ts","fileUuid":"f23c08a7-3d4d-4096-ad5c-186d5c22bf63","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"04ee4c62-4c45-4f0e-81f9-91b639b96e1e","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"de69416d-5945-44c3-ac22-c59fe350258a","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764066515125,"fileSizeBytes":57016,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 04ee4c62-4c45-4f0e-81f9-91b639b96e1e
----------------------------------------

'use client'

import { useState } from 'react'
import { useForm, Controller } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import PhoneInput from 'react-phone-input-2'
import 'react-phone-input-2/lib/style.css'
import { toast, Toaster } from 'sonner'
import { Loader2 } from 'lucide-react'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'

// Schemat walidacji Zod
const formSchema = z.object({
  name: z.string().min(2, { message: 'ImiÄ™ i nazwisko musi mieÄ‡ min. 2 znaki' }),
  phone: z.string().min(9, { message: 'Numer telefonu jest za krĂłtki' }),
  email: z.string().email({ message: 'Niepoprawny adres e-mail' }),
  address: z.string().min(5, { message: 'Adres musi mieÄ‡ min. 5 znakĂłw' }),
  deviceType: z.enum(['printer', 'computer'], { required_error: 'Wybierz typ urzÄ…dzenia' }),
  deviceModel: z.string().optional(),
  problemDescription: z.string().min(10, { message: 'Opis problemu musi mieÄ‡ min. 10 znakĂłw' }),
  replacementPrinter: z.boolean().default(false),
  agreements: z.literal(true, { errorMap: () => ({ message: 'Musisz zaakceptowaÄ‡ regulamin' }) }),
})

type FormValues = z.infer<typeof formSchema>

export function Contact() {
  const [isSubmitting, setIsSubmitting] = useState(false)

  const {
    register,
    control,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      name: '',
      phone: '',
      email: '',
      address: '',
      deviceType: undefined,
      deviceModel: '',
      problemDescription: '',
      replacementPrinter: false,
      agreements: undefined,
    },
  })

  const onSubmit = async (data: FormValues) => {
    setIsSubmitting(true)
    // Symulacja wysyĹ‚ki
    await new Promise((resolve) => setTimeout(resolve, 1500))
    console.log('Form data:', data)
    setIsSubmitting(false)
    toast.success('ZgĹ‚oszenie wysĹ‚ane pomyĹ›lnie!')
    reset()
  }

  return (
    <section id="kontakt" className="relative py-12 md:py-20">
      <Toaster position="bottom-center" />
      
      {/* TĹ‚o sekcji */}
      <div
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.services_background}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/50" />
      </div>

      <div className="relative z-10 container mx-auto px-4 flex flex-col items-center">
        
        {/* Tekst nad formularzem */}
        <p className="text-white/90 text-lg md:text-xl text-center mb-8 drop-shadow-md font-serif italic">
          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„â€ť
        </p>

        {/* Karta formularza */}
        <div className="w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-6 md:p-10 border border-[#3a2e24]/20">
          
          {/* NagĹ‚Ăłwek formularza */}
          <h2 className="text-[#3a2e24] text-3xl md:text-4xl font-cormorant font-bold text-center mb-8 border-b border-[#3a2e24]/10 pb-4">
            Formularz zgĹ‚oszeniowy
          </h2>

          <form onSubmit={handleSubmit(onSubmit)} className="space-y-6">
            
            {/* ImiÄ™ i Telefon - Grid */}
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              {/* ImiÄ™ i nazwisko */}
              <div className="space-y-2">
                <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                  ImiÄ™ i nazwisko
                </label>
                <input
                  {...register('name')}
                  placeholder="Jan Kowalski"
                  className="w-full bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/50 focus:outline-none focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all"
                />
                {errors.name && (
                  <p className="text-red-600 text-sm">{errors.name.message}</p>
                )}
              </div>

              {/* Telefon */}
              <div className="space-y-2">
                <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                  Numer telefonu
                </label>
                <div className="phone-input-container">
                  <Controller
                    name="phone"
                    control={control}
                    render={({ field }) => (
                      <PhoneInput
                        country={'ua'}
                        value={field.value}
                        onChange={(phone) => field.onChange(phone)}
                        onlyCountries={['ua', 'pl', 'de', 'cz', 'sk', 'lt', 'gb']}
                        inputClass="!w-full !bg-transparent !border-[#3a2e24]/60 !text-[#3a2e24] !h-[42px] !rounded-sm !pl-[48px]"
                        buttonClass="!bg-transparent !border-[#3a2e24]/60 !rounded-l-sm !border-r-0"
                        dropdownClass="!bg-[#f5f5f0] !text-[#3a2e24]"
                      />
                    )}
                  />
                </div>
                {errors.phone && (
                  <p className="text-red-600 text-sm">{errors.phone.message}</p>
                )}
              </div>
            </div>

            {/* E-mail */}
            <div className="space-y-2">
              <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                Adres e-mail
              </label>
              <input
                {...register('email')}
                type="email"
                placeholder="jan.kowalski@example.com"
                className="w-full bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/50 focus:outline-none focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all"
              />
              {errors.email && (
                <p className="text-red-600 text-sm">{errors.email.message}</p>
              )}
            </div>

            {/* Adres */}
            <div className="space-y-2">
              <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                Adres
              </label>
              <input
                {...register('address')}
                placeholder="ul. PrzykĹ‚adowa 1, 50-001 WrocĹ‚aw"
                className="w-full bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/50 focus:outline-none focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all"
              />
              {errors.address && (
                <p className="text-red-600 text-sm">{errors.address.message}</p>
              )}
            </div>

            {/* Typ urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-[#3a2e24] font-bold font-cormorant text-lg mb-2">
                Typ urzÄ…dzenia
              </label>
              <div className="flex gap-6">
                <label className="flex items-center gap-2 cursor-pointer">
                  <input
                    type="radio"
                    value="printer"
                    {...register('deviceType')}
                    className="accent-[#bfa76a] w-5 h-5"
                  />
                  <span className="text-[#3a2e24]">Drukarka</span>
                </label>
                <label className="flex items-center gap-2 cursor-pointer">
                  <input
                    type="radio"
                    value="computer"
                    {...register('deviceType')}
                    className="accent-[#bfa76a] w-5 h-5"
                  />
                  <span className="text-[#3a2e24]">Komputer / Laptop</span>
                </label>
              </div>
              {errors.deviceType && (
                <p className="text-red-600 text-sm">{errors.deviceType.message}</p>
              )}
            </div>

            {/* Model urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                Model urzÄ…dzenia
              </label>
              <input
                {...register('deviceModel')}
                placeholder="np. HP LaserJet Pro M404dn"
                className="w-full bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/50 focus:outline-none focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all"
              />
            </div>

            {/* Opis problemu */}
            <div className="space-y-2">
              <label className="block text-[#3a2e24] font-bold font-cormorant text-lg">
                Opis problemu
              </label>
              <textarea
                {...register('problemDescription')}
                rows={4}
                placeholder="ProszÄ™ opisaÄ‡ problem z urzÄ…dzeniem..."
                className="w-full bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/50 focus:outline-none focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all resize-y"
              />
              {errors.problemDescription && (
                <p className="text-red-600 text-sm">{errors.problemDescription.message}</p>
              )}
            </div>

            {/* Checkboxy */}
            <div className="space-y-4 pt-2">
              <label className="flex items-start gap-3 cursor-pointer group">
                <input
                  type="checkbox"
                  {...register('replacementPrinter')}
                  className="mt-1 accent-[#bfa76a] w-5 h-5"
                />
                <span className="text-[#3a2e24] group-hover:text-[#bfa76a] transition-colors">
                  PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy.
                </span>
              </label>

              <div className="space-y-1">
                <label className="flex items-start gap-3 cursor-pointer group">
                  <input
                    type="checkbox"
                    {...register('agreements')}
                    className="mt-1 accent-[#bfa76a] w-5 h-5"
                  />
                  <span className="text-[#3a2e24] text-sm">
                    OĹ›wiadczam, ĹĽe zapoznaĹ‚em/am siÄ™ z{' '}
                    <Link href="/polityka-prywatnosci" className="underline hover:text-[#bfa76a]">
                      PolitykÄ… PrywatnoĹ›ci
                    </Link>{' '}
                    oraz{' '}
                    <Link href="/regulamin" className="underline hover:text-[#bfa76a]">
                      Regulaminem
                    </Link>{' '}
                    i akceptujÄ™ ich postanowienia.
                  </span>
                </label>
                {errors.agreements && (
                  <p className="text-red-600 text-sm ml-8">{errors.agreements.message}</p>
                )}
              </div>
            </div>

            {/* Przycisk Submit */}
            <div className="pt-6 flex justify-center">
              <button
                type="submit"
                disabled={isSubmitting}
                className="relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-[#3a2e24]/30 shadow-[inset_0_0_20px_rgba(0,0,0,0.1)] hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.05)] rounded-sm transition-all duration-300"
              >
                <span className="font-cormorant font-bold text-2xl text-[#3a2e24] tracking-wide group-hover:text-black flex items-center gap-2">
                  {isSubmitting && <Loader2 className="animate-spin h-5 w-5" />}
                  WyĹ›lij zgĹ‚oszenie
                </span>
              </button>
            </div>

          </form>
        </div>
      </div>
    </section>
  )
}


🗂 FILE: 2b6b1a4e-f9fa-4e93-9d60-3e564450131c
----------------------------------------


🗂 FILE: aa4e544c-ac3f-4be7-8e4c-99fbc0f5ddaf
----------------------------------------


🗂 FILE: c8ce60e9-6b79-4072-8d5b-ac0b397e34a2
----------------------------------------


🗂 FILE: d140dc5d-eca8-466a-8424-46d6866e0b11
----------------------------------------


🗂 FILE: d42bb503-8e5f-4f25-8c53-e5f8dffb7607
----------------------------------------


🗂 FILE: de69416d-5945-44c3-ac22-c59fe350258a
----------------------------------------

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 65px; /* wysokoĹ›Ä‡ headera */
  }

  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .bg-paper-texture {
    background-image: url('/images/zmiety arkusz papieru 2.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }
}

🗂 FILE: f23c08a7-3d4d-4096-ad5c-186d5c22bf63
----------------------------------------


--- DIFFS ---


💡 DIFF: 04ee4c62-4c45-4f0e-81f9-91b639b96e1e
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"04ee4c62-4c45-4f0e-81f9-91b639b96e1e","fileSizeBytes":13362,"numLines":325,"diffChanges":[{"originalStartLineNumberOneIndexed":7,"originalEndLineNumberExclusiveOneIndexed":10,"modifiedStartLineNumberOneIndexed":7,"modifiedEndLineNumberExclusiveOneIndexed":7},{"originalStartLineNumberOneIndexed":13,"originalEndLineNumberExclusiveOneIndexed":13,"modifiedStartLineNumberOneIndexed":10,"modifiedEndLineNumberExclusiveOneIndexed":14,"addedLines":["import { CustomPhoneInput } from '@/components/ui/custom-phone-input'","import { CustomRadio } from '@/components/ui/custom-radio'","import { CustomCheckbox } from '@/components/ui/custom-checkbox'","import { SuccessModal } from '@/components/ui/success-modal'"],"tokenizedAddedLines":[1000212,1000213,1000214,1000215]},{"originalStartLineNumberOneIndexed":20,"originalEndLineNumberExclusiveOneIndexed":21,"modifiedStartLineNumberOneIndexed":21,"modifiedEndLineNumberExclusiveOneIndexed":22,"addedLines":["  deviceType: z.enum(['printer', 'computer', 'other'], { required_error: 'Wybierz typ urzÄ…dzenia' }),"],"tokenizedAddedLines":[1000216]},{"originalStartLineNumberOneIndexed":31,"originalEndLineNumberExclusiveOneIndexed":31,"modifiedStartLineNumberOneIndexed":32,"modifiedEndLineNumberExclusiveOneIndexed":33,"addedLines":["  const [showSuccessModal, setShowSuccessModal] = useState(false)"],"tokenizedAddedLines":[1000217]},{"originalStartLineNumberOneIndexed":55,"originalEndLineNumberExclusiveOneIndexed":58,"modifiedStartLineNumberOneIndexed":57,"modifiedEndLineNumberExclusiveOneIndexed":76,"addedLines":["    try {","      const response = await fetch('/api/send-email', {","        method: 'POST',","        headers: {","          'Content-Type': 'application/json',","        },","        body: JSON.stringify(data),","      })","","      if (!response.ok) {","        throw new Error('BĹ‚Ä…d podczas wysyĹ‚ania formularza')","      }","","      setShowSuccessModal(true)","      reset()","    } catch (error) {","      console.error('Error submitting form:', error)","      alert('WystÄ…piĹ‚ bĹ‚Ä…d podczas wysyĹ‚ania formularza. SprĂłbuj ponownie.')","    } finally {"],"tokenizedAddedLines":[1000218,1000219,1000220,1000221,1000222,1000223,1000224,1000225,2,1000226,1000227,1000228,2,1000229,1000230,1000231,1000232,1000233,1000234]},{"originalStartLineNumberOneIndexed":59,"originalEndLineNumberExclusiveOneIndexed":61,"modifiedStartLineNumberOneIndexed":77,"modifiedEndLineNumberExclusiveOneIndexed":82,"addedLines":["    }","  }","","  const onCloseSuccessModal = () => {","    setShowSuccessModal(false)"],"tokenizedAddedLines":[1000235,56,2,1000236,1000237]},{"originalStartLineNumberOneIndexed":64,"originalEndLineNumberExclusiveOneIndexed":67,"modifiedStartLineNumberOneIndexed":85,"modifiedEndLineNumberExclusiveOneIndexed":86,"addedLines":["    <section id=\"kontakt\" className=\"relative pb-6 md:pb-10 pt-0\">"],"tokenizedAddedLines":[1000238]},{"originalStartLineNumberOneIndexed":80,"originalEndLineNumberExclusiveOneIndexed":81,"modifiedStartLineNumberOneIndexed":99,"modifiedEndLineNumberExclusiveOneIndexed":100,"addedLines":["        <p className=\"text-white/90 text-lg md:text-xl text-center mb-8 drop-shadow-md font-serif italic pt-4 md:pt-6\">"],"tokenizedAddedLines":[1000239]},{"originalStartLineNumberOneIndexed":84,"originalEndLineNumberExclusiveOneIndexed":86,"modifiedStartLineNumberOneIndexed":103,"modifiedEndLineNumberExclusiveOneIndexed":105,"addedLines":["        {/* Karta formularza - ĐĽĐ°ŃŃŃ‚Đ°Đ±Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ° Đ˝Đ° 20% */}","        <div className=\"w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-4 md:p-6 border border-[#3a2e24]/20 scale-[0.8] origin-top\">"],"tokenizedAddedLines":[1000240,1000241]},{"originalStartLineNumberOneIndexed":88,"originalEndLineNumberExclusiveOneIndexed":89,"modifiedStartLineNumberOneIndexed":107,"modifiedEndLineNumberExclusiveOneIndexed":108,"addedLines":["          <h2 className=\"text-[#3a2e24] text-3xl md:text-4xl font-cormorant font-bold text-center mb-4 md:mb-5 border-b border-[#3a2e24]/10 pb-3\">"],"tokenizedAddedLines":[1000242]},{"originalStartLineNumberOneIndexed":92,"originalEndLineNumberExclusiveOneIndexed":93,"modifiedStartLineNumberOneIndexed":111,"modifiedEndLineNumberExclusiveOneIndexed":112,"addedLines":["          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-3 md:space-y-4\">"],"tokenizedAddedLines":[1000243]},{"originalStartLineNumberOneIndexed":95,"originalEndLineNumberExclusiveOneIndexed":96,"modifiedStartLineNumberOneIndexed":114,"modifiedEndLineNumberExclusiveOneIndexed":115,"addedLines":["            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4\">"],"tokenizedAddedLines":[1000244]},{"originalStartLineNumberOneIndexed":98,"originalEndLineNumberExclusiveOneIndexed":99,"modifiedStartLineNumberOneIndexed":117,"modifiedEndLineNumberExclusiveOneIndexed":118,"addedLines":["                <label className=\"block text-black font-bold font-sans text-base md:text-lg\">"],"tokenizedAddedLines":[1000245]},{"originalStartLineNumberOneIndexed":104,"originalEndLineNumberExclusiveOneIndexed":105,"modifiedStartLineNumberOneIndexed":123,"modifiedEndLineNumberExclusiveOneIndexed":124,"addedLines":["                  className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all\""],"tokenizedAddedLines":[1000246]},{"originalStartLineNumberOneIndexed":113,"originalEndLineNumberExclusiveOneIndexed":114,"modifiedStartLineNumberOneIndexed":132,"modifiedEndLineNumberExclusiveOneIndexed":133,"addedLines":["                <label className=\"block text-black font-bold font-sans text-base md:text-lg\">"],"tokenizedAddedLines":[1000245]},{"originalStartLineNumberOneIndexed":116,"originalEndLineNumberExclusiveOneIndexed":117,"modifiedStartLineNumberOneIndexed":135,"modifiedEndLineNumberExclusiveOneIndexed":135},{"originalStartLineNumberOneIndexed":121,"originalEndLineNumberExclusiveOneIndexed":129,"modifiedStartLineNumberOneIndexed":139,"modifiedEndLineNumberExclusiveOneIndexed":142,"addedLines":["                    <CustomPhoneInput","                      value={field.value || ''}","                      onChange={field.onChange}"],"tokenizedAddedLines":[1000247,1000248,1000249]},{"originalStartLineNumberOneIndexed":132,"originalEndLineNumberExclusiveOneIndexed":133,"modifiedStartLineNumberOneIndexed":145,"modifiedEndLineNumberExclusiveOneIndexed":145},{"originalStartLineNumberOneIndexed":141,"originalEndLineNumberExclusiveOneIndexed":142,"modifiedStartLineNumberOneIndexed":153,"modifiedEndLineNumberExclusiveOneIndexed":154,"addedLines":["              <label className=\"block text-black font-bold font-sans text-base md:text-lg\">"],"tokenizedAddedLines":[1000250]},{"originalStartLineNumberOneIndexed":148,"originalEndLineNumberExclusiveOneIndexed":149,"modifiedStartLineNumberOneIndexed":160,"modifiedEndLineNumberExclusiveOneIndexed":161,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all\""],"tokenizedAddedLines":[1000251]},{"originalStartLineNumberOneIndexed":157,"originalEndLineNumberExclusiveOneIndexed":158,"modifiedStartLineNumberOneIndexed":169,"modifiedEndLineNumberExclusiveOneIndexed":170,"addedLines":["              <label className=\"block text-black font-bold font-sans text-base md:text-lg\">"],"tokenizedAddedLines":[1000250]},{"originalStartLineNumberOneIndexed":163,"originalEndLineNumberExclusiveOneIndexed":164,"modifiedStartLineNumberOneIndexed":175,"modifiedEndLineNumberExclusiveOneIndexed":176,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all\""],"tokenizedAddedLines":[1000251]},{"originalStartLineNumberOneIndexed":172,"originalEndLineNumberExclusiveOneIndexed":173,"modifiedStartLineNumberOneIndexed":184,"modifiedEndLineNumberExclusiveOneIndexed":185,"addedLines":["              <label className=\"block text-black font-bold font-sans text-base md:text-lg mb-2\">"],"tokenizedAddedLines":[1000252]},{"originalStartLineNumberOneIndexed":175,"originalEndLineNumberExclusiveOneIndexed":179,"modifiedStartLineNumberOneIndexed":187,"modifiedEndLineNumberExclusiveOneIndexed":196,"addedLines":["              <div className=\"flex flex-wrap gap-3\">","                <Controller","                  name=\"deviceType\"","                  control={control}","                  render={({ field }) => (","                    <>","                      <CustomRadio","                        id=\"device-printer\"","                        name=\"deviceType\""],"tokenizedAddedLines":[1000253,1000254,1000255,1000256,1000257,1000258,1000259,1000260,1000261]},{"originalStartLineNumberOneIndexed":180,"originalEndLineNumberExclusiveOneIndexed":188,"modifiedStartLineNumberOneIndexed":197,"modifiedEndLineNumberExclusiveOneIndexed":204,"addedLines":["                        checked={field.value === 'printer'}","                        onChange={field.onChange}","                        label=\"Drukarka\"","                      />","                      <CustomRadio","                        id=\"device-computer\"","                        name=\"deviceType\""],"tokenizedAddedLines":[1000262,1000263,1000264,116,1000259,1000265,1000261]},{"originalStartLineNumberOneIndexed":189,"originalEndLineNumberExclusiveOneIndexed":194,"modifiedStartLineNumberOneIndexed":205,"modifiedEndLineNumberExclusiveOneIndexed":220,"addedLines":["                        checked={field.value === 'computer'}","                        onChange={field.onChange}","                        label=\"Komputer / Laptop\"","                      />","                      <CustomRadio","                        id=\"device-other\"","                        name=\"deviceType\"","                        value=\"other\"","                        checked={field.value === 'other'}","                        onChange={field.onChange}","                        label=\"Inne urzÄ…dzenie\"","                      />","                    </>","                  )}","                />"],"tokenizedAddedLines":[1000266,1000263,1000267,116,1000259,1000268,1000261,1000269,1000270,1000263,1000271,116,1000272,1000273,96]},{"originalStartLineNumberOneIndexed":202,"originalEndLineNumberExclusiveOneIndexed":203,"modifiedStartLineNumberOneIndexed":228,"modifiedEndLineNumberExclusiveOneIndexed":229,"addedLines":["              <label className=\"block text-black font-bold font-sans text-base md:text-lg\">"],"tokenizedAddedLines":[1000250]},{"originalStartLineNumberOneIndexed":208,"originalEndLineNumberExclusiveOneIndexed":209,"modifiedStartLineNumberOneIndexed":234,"modifiedEndLineNumberExclusiveOneIndexed":235,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all\""],"tokenizedAddedLines":[1000251]},{"originalStartLineNumberOneIndexed":214,"originalEndLineNumberExclusiveOneIndexed":215,"modifiedStartLineNumberOneIndexed":240,"modifiedEndLineNumberExclusiveOneIndexed":241,"addedLines":["              <label className=\"block text-black font-bold font-sans text-base md:text-lg\">"],"tokenizedAddedLines":[1000250]},{"originalStartLineNumberOneIndexed":221,"originalEndLineNumberExclusiveOneIndexed":222,"modifiedStartLineNumberOneIndexed":247,"modifiedEndLineNumberExclusiveOneIndexed":248,"addedLines":["                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all resize-y\""],"tokenizedAddedLines":[1000274]},{"originalStartLineNumberOneIndexed":229,"originalEndLineNumberExclusiveOneIndexed":240,"modifiedStartLineNumberOneIndexed":255,"modifiedEndLineNumberExclusiveOneIndexed":269,"addedLines":["            <div className=\"space-y-3 pt-1\">","              <Controller","                name=\"replacementPrinter\"","                control={control}","                render={({ field }) => (","                  <CustomCheckbox","                    id=\"replacement-printer\"","                    name=\"replacementPrinter\"","                    checked={field.value}","                    onChange={field.onChange}","                    label=\"PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy.\"","                  />","                )}","              />"],"tokenizedAddedLines":[1000275,1000276,1000277,1000278,1000279,1000280,1000281,1000282,1000283,1000284,1000285,118,99,133]},{"originalStartLineNumberOneIndexed":242,"originalEndLineNumberExclusiveOneIndexed":249,"modifiedStartLineNumberOneIndexed":271,"modifiedEndLineNumberExclusiveOneIndexed":282,"addedLines":["                <Controller","                  name=\"agreements\"","                  control={control}","                  render={({ field }) => (","                    <CustomCheckbox","                      id=\"agreements\"","                      name=\"agreements\"","                      checked={field.value || false}","                      onChange={(e) => field.onChange(e.target.checked)}","                      label={","                        <>"],"tokenizedAddedLines":[1000254,1000286,1000256,1000257,1000287,1000288,1000289,1000290,1000291,1000292,1000293]},{"originalStartLineNumberOneIndexed":250,"originalEndLineNumberExclusiveOneIndexed":251,"modifiedStartLineNumberOneIndexed":283,"modifiedEndLineNumberExclusiveOneIndexed":284,"addedLines":["                          <Link href=\"/polityka-prywatnosci\" className=\"underline hover:text-black/70\">"],"tokenizedAddedLines":[1000294]},{"originalStartLineNumberOneIndexed":254,"originalEndLineNumberExclusiveOneIndexed":255,"modifiedStartLineNumberOneIndexed":287,"modifiedEndLineNumberExclusiveOneIndexed":288,"addedLines":["                          <Link href=\"/regulamin\" className=\"underline hover:text-black/70\">"],"tokenizedAddedLines":[1000295]},{"originalStartLineNumberOneIndexed":258,"originalEndLineNumberExclusiveOneIndexed":260,"modifiedStartLineNumberOneIndexed":291,"modifiedEndLineNumberExclusiveOneIndexed":296,"addedLines":["                        </>","                      }","                    />","                  )}","                />"],"tokenizedAddedLines":[1000296,1000297,1000298,1000273,96]},{"originalStartLineNumberOneIndexed":267,"originalEndLineNumberExclusiveOneIndexed":268,"modifiedStartLineNumberOneIndexed":303,"modifiedEndLineNumberExclusiveOneIndexed":304,"addedLines":["            <div className=\"pt-4 flex justify-center\">"],"tokenizedAddedLines":[1000299]},{"originalStartLineNumberOneIndexed":271,"originalEndLineNumberExclusiveOneIndexed":272,"modifiedStartLineNumberOneIndexed":307,"modifiedEndLineNumberExclusiveOneIndexed":308,"addedLines":["                className=\"relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-black/30 shadow-[inset_0_0_20px_rgba(0,0,0,0.1)] hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.05)] rounded-full transition-all duration-300\""],"tokenizedAddedLines":[1000300]},{"originalStartLineNumberOneIndexed":273,"originalEndLineNumberExclusiveOneIndexed":274,"modifiedStartLineNumberOneIndexed":309,"modifiedEndLineNumberExclusiveOneIndexed":310,"addedLines":["                <span className=\"font-cormorant font-bold text-2xl text-black tracking-wide group-hover:text-black/80 flex items-center gap-2\">"],"tokenizedAddedLines":[1000301]},{"originalStartLineNumberOneIndexed":283,"originalEndLineNumberExclusiveOneIndexed":283,"modifiedStartLineNumberOneIndexed":319,"modifiedEndLineNumberExclusiveOneIndexed":322,"addedLines":["","      {/* Success Modal */}","      <SuccessModal isOpen={showSuccessModal} onClose={onCloseSuccessModal} />"],"tokenizedAddedLines":[2,1000302,1000303]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

💡 DIFF: 2b6b1a4e-f9fa-4e93-9d60-3e564450131c
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-checkbox.tsx","fileUuid":"2b6b1a4e-f9fa-4e93-9d60-3e564450131c","fileSizeBytes":1463,"numLines":52,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":2,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":53,"addedLines":["'use client'","","interface CustomCheckboxProps {","  id: string","  name: string","  checked: boolean","  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void","  label: string | React.ReactNode","}","","export function CustomCheckbox({ id, name, checked, onChange, label }: CustomCheckboxProps) {","  return (","    <label htmlFor={id} className=\"flex items-start gap-4 cursor-pointer group\">","      <div className=\"flex-shrink-0 relative mt-0.5\">","        <input","          type=\"checkbox\"","          id={id}","          name={name}","          checked={checked}","          onChange={onChange}","          className=\"sr-only\"","        />","        <div","          className={`w-5 h-5 border-2 flex items-center justify-center transition-all ${","            checked","              ? 'border-black bg-black'","              : 'border-black/60 bg-transparent group-hover:border-black'","          }`}","        >","          {checked && (","            <svg","              className=\"w-3 h-3 text-white\"","              fill=\"none\"","              strokeLinecap=\"round\"","              strokeLinejoin=\"round\"","              strokeWidth=\"2\"","              viewBox=\"0 0 24 24\"","              stroke=\"currentColor\"","            >","              <path d=\"M5 13l4 4L19 7\" />","            </svg>","          )}","        </div>","      </div>","      <span className=\"text-black font-sans font-medium text-base leading-tight flex-1\">","        {label}","      </span>","    </label>","  )","}","",""],"tokenizedAddedLines":[1000001,1,1000002,1000003,1000004,1000005,1000006,1000007,1000008,1,1000009,1000010,1000011,1000012,1000013,1000014,1000015,1000016,1000017,1000018,1000019,1000020,1000021,1000022,1000023,1000024,1000025,1000026,1000027,1000028,1000029,1000030,1000031,1000032,1000033,1000034,1000035,1000036,1000037,1000038,1000039,1000040,1000041,1000042,1000043,1000044,1000045,1000046,1000047,1000008,1,1]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

💡 DIFF: aa4e544c-ac3f-4be7-8e4c-99fbc0f5ddaf
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-radio.tsx","fileUuid":"aa4e544c-ac3f-4be7-8e4c-99fbc0f5ddaf","fileSizeBytes":1202,"numLines":44,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":2,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":45,"addedLines":["'use client'","","interface CustomRadioProps {","  id: string","  name: string","  value: string","  checked: boolean","  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void","  label: string","}","","export function CustomRadio({ id, name, value, checked, onChange, label }: CustomRadioProps) {","  return (","    <label htmlFor={id} className=\"flex items-center gap-3 cursor-pointer group\">","      <div className=\"flex-shrink-0 relative\">","        <input","          type=\"radio\"","          id={id}","          name={name}","          value={value}","          checked={checked}","          onChange={onChange}","          className=\"sr-only\"","        />","        <div","          className={`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all ${","            checked","              ? 'border-black bg-black'","              : 'border-black/60 bg-transparent group-hover:border-black'","          }`}","        >","          {checked && (","            <div className=\"w-2.5 h-2.5 rounded-full bg-white\" />","          )}","        </div>","      </div>","      <span className=\"text-black font-sans font-medium text-base leading-tight\">","        {label}","      </span>","    </label>","  )","}","",""],"tokenizedAddedLines":[1000001,1,1000002,1000003,1000004,1000005,1000006,1000007,1000008,1000009,1,1000010,1000011,1000012,1000013,1000014,1000015,1000016,1000017,1000018,1000019,1000020,1000021,1000022,1000023,1000024,1000025,1000026,1000027,1000028,1000029,1000030,1000031,1000032,1000033,1000034,1000035,1000036,1000037,1000038,1000039,1000009,1,1]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

💡 DIFF: c8ce60e9-6b79-4072-8d5b-ac0b397e34a2
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\success-modal.tsx","fileUuid":"c8ce60e9-6b79-4072-8d5b-ac0b397e34a2","fileSizeBytes":2268,"numLines":72,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":2,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":73,"addedLines":["'use client'","","import { useEffect } from 'react'","import Image from 'next/image'","","interface SuccessModalProps {","  isOpen: boolean","  onClose: () => void","}","","export function SuccessModal({ isOpen, onClose }: SuccessModalProps) {","  useEffect(() => {","    if (isOpen) {","      const timer = setTimeout(() => {","        onClose()","      }, 10000) // Auto-close after 10 seconds","","      return () => clearTimeout(timer)","    }","  }, [isOpen, onClose])","","  if (!isOpen) return null","","  return (","    <div","      className=\"fixed inset-0 z-50 flex items-center justify-center p-4\"","      onClick={onClose}","    >","      {/* Background overlay */}","      <div className=\"absolute inset-0 bg-black/50\" />","","      {/* Modal content */}","      <div","        className=\"relative z-10 w-full max-w-md rounded-lg shadow-2xl overflow-hidden animate-modal-appear\"","        onClick={(e) => e.stopPropagation()}","        style={{","          backgroundImage: 'url(/images/Background_1.png)',","          backgroundSize: 'cover',","          backgroundPosition: 'center',","          backgroundRepeat: 'no-repeat',","        }}","      >","        {/* Overlay for better text readability */}","        <div className=\"absolute inset-0 bg-black/50\" />","","        <div className=\"relative z-10 p-8 md:p-10 text-center\">","          {/* Success message */}","          <h3 className=\"text-white text-3xl md:text-4xl font-cormorant font-bold mb-4 drop-shadow-lg\">","            DziÄ™kujemy za zgĹ‚oszenie!","          </h3>","","          <p className=\"text-white/90 text-base md:text-lg font-sans mb-2 drop-shadow-md\">","            Twoja wiadomoĹ›Ä‡ zostaĹ‚a pomyĹ›lnie wysĹ‚ana. Skontaktujemy siÄ™ z TobÄ… w najbliĹĽszym czasie, aby potwierdziÄ‡ szczegĂłĹ‚y.{' '}","            <span className=\"italic\">","              Prosimy o cierpliwoĹ›Ä‡ â€” Twoje zgĹ‚oszenie jest juĹĽ w dobrych rÄ™kach.","            </span>","          </p>","","          {/* OK button */}","          <button","            onClick={onClose}","            className=\"mt-6 px-8 py-3 bg-white/20 hover:bg-white/30 border border-white/50 rounded-full text-white font-cormorant font-semibold text-lg transition-all duration-300 hover:scale-105\"","          >","            OK","          </button>","        </div>","      </div>","    </div>","  )","}","",""],"tokenizedAddedLines":[1000001,1,1000002,1000003,1,1000004,1000005,1000006,1000007,1,1000008,1000009,1000010,1000011,1000012,1000013,1,1000014,1000015,1000016,1,1000017,1,1000018,1000019,1000020,1000021,1000022,1000023,1000024,1,1000025,1000026,1000027,1000028,1000029,1000030,1000031,1000032,1000033,1000034,1000035,1000036,1000037,1,1000038,1000039,1000040,1000041,1000042,1,1000043,1000044,1000045,1000046,1000047,1000048,1,1000049,1000050,1000051,1000052,1000053,1000054,1000055,1000056,1000057,1000058,1000059,1000007,1,1]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

💡 DIFF: d140dc5d-eca8-466a-8424-46d6866e0b11
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\lib\\countries.ts","fileUuid":"d140dc5d-eca8-466a-8424-46d6866e0b11","fileSizeBytes":2208,"numLines":44,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":2,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":45,"addedLines":["export interface Country {","  code: string","  name: string","  shortName: string // Đ´Đ»ŃŹ ŃĐ»ŃŃ‡Đ°ĐµĐ˛, ĐşĐľĐłĐ´Đ° ĐżĐľĐ»Đ˝ĐľĐµ Đ˝Đµ ĐżĐľĐĽĐµŃ‰Đ°ĐµŃ‚ŃŃŹ","  dialCode: string","  flagImage: string // ĐżŃŃ‚ŃŚ Đş Đ¸Đ·ĐľĐ±Ń€Đ°Đ¶ĐµĐ˝Đ¸ŃŽ Đ¸Đ· /images/","  phoneFormat?: string // Ń„ĐľŃ€ĐĽĐ°Ń‚ Đ´Đ»ŃŹ Ń„ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ¸ŃŹ (Đ˝Đ°ĐżŃ€Đ¸ĐĽĐµŃ€, \"xxx xxx xxx\" Đ´Đ»ŃŹ ĐźĐľĐ»ŃŚŃĐ¸)","  phoneLength?: number // Đ´Đ»Đ¸Đ˝Đ° Đ˝ĐľĐĽĐµŃ€Đ° Đ´Đ»ŃŹ Đ˛Đ°Đ»Đ¸Đ´Đ°Ń†Đ¸Đ¸","}","","export const countries: Country[] = [","  { code: 'ua', name: 'Ukraina', shortName: 'Ukraina', dialCode: '+380', flagImage: '/images/ua.png', phoneFormat: 'xxx xxx xxxx', phoneLength: 9 },","  { code: 'pl', name: 'Polska', shortName: 'Polska', dialCode: '+48', flagImage: '/images/pl.png', phoneFormat: 'xxx xxx xxx', phoneLength: 9 },","  { code: 'de', name: 'Niemcy', shortName: 'Niemcy', dialCode: '+49', flagImage: '/images/de.png', phoneFormat: 'xxx xxxxxxx', phoneLength: 11 },","  { code: 'cz', name: 'Czechy', shortName: 'Czechia', dialCode: '+420', flagImage: '/images/cz.png', phoneFormat: 'xxx xxx xxx', phoneLength: 9 },","  { code: 'sk', name: 'SĹ‚owacja', shortName: 'SĹ‚owacja', dialCode: '+421', flagImage: '/images/sk.png', phoneFormat: 'xxx xxx xxx', phoneLength: 9 },","  { code: 'lt', name: 'Litwa', shortName: 'Litwa', dialCode: '+370', flagImage: '/images/lt.png', phoneFormat: 'xxx xxxxx', phoneLength: 8 },","  { code: 'gb', name: 'Wielka Brytania', shortName: 'Wielka Brytania', dialCode: '+44', flagImage: '/images/gb.png', phoneFormat: 'xxxx xxxxxx', phoneLength: 10 },","  { code: 'other', name: 'Inny kraj', shortName: 'Inny kraj', dialCode: '', flagImage: '/images/other.png' },","]","","export function formatPhoneNumber(phone: string, format?: string): string {","  if (!format || !phone) return phone","  const digits = phone.replace(/\\D/g, '')","  if (digits.length === 0) return ''","  let formatted = ''","  let digitIndex = 0","  for (let i = 0; i < format.length && digitIndex < digits.length; i++) {","    if (format[i] === 'x') {","      formatted += digits[digitIndex]","      digitIndex++","    } else {","      if (digitIndex < digits.length) {","        formatted += format[i]","      }","    }","  }","  if (digitIndex < digits.length) {","    formatted += (formatted ? ' ' : '') + digits.slice(digitIndex)","  }","  return formatted.trim()","}","",""],"tokenizedAddedLines":[1000001,1000002,1000003,1000004,1000005,1000006,1000007,1000008,1000009,1,1000010,1000011,1000012,1000013,1000014,1000015,1000016,1000017,1000018,1000019,1,1000020,1000021,1000022,1000023,1000024,1000025,1000026,1000027,1000028,1000029,1000030,1000031,1000032,1000033,1000034,1000035,1000036,1000037,1000035,1000038,1000009,1,1]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

💡 DIFF: d42bb503-8e5f-4f25-8c53-e5f8dffb7607
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\ui\\custom-phone-input.tsx","fileUuid":"d42bb503-8e5f-4f25-8c53-e5f8dffb7607","fileSizeBytes":7439,"numLines":202,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":2,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":203,"addedLines":["'use client'","","import { useState, useRef, useEffect } from 'react'","import Image from 'next/image'","import { countries, Country, formatPhoneNumber } from '@/lib/countries'","","interface CustomPhoneInputProps {","  value: string","  onChange: (value: string) => void","  className?: string","}","","export function CustomPhoneInput({ value, onChange, className = '' }: CustomPhoneInputProps) {","  const [selectedCountry, setSelectedCountry] = useState<Country>(countries[0]) // ĐźĐľ ŃĐĽĐľĐ»Ń‡Đ°Đ˝Đ¸ŃŽ ĐŁĐşŃ€Đ°Đ¸Đ˝Đ°","  const [phoneNumber, setPhoneNumber] = useState('')","  const [isDropdownOpen, setIsDropdownOpen] = useState(false)","  const containerRef = useRef<HTMLDivElement>(null)","  const dropdownRef = useRef<HTMLDivElement>(null)","  const selectorRowRef = useRef<HTMLDivElement>(null)","","  // ĐĐ˝Đ¸Ń†Đ¸Đ°Đ»Đ¸Đ·Đ°Ń†Đ¸ŃŹ: Đ¸Đ·Đ˛Đ»ĐµĐşĐ°ĐµĐĽ ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹ Đ¸ Đ˝ĐľĐĽĐµŃ€ Đ¸Đ· value","  useEffect(() => {","    if (value) {","      // ĐŃ‰ĐµĐĽ ŃŃ‚Ń€Đ°Đ˝Ń ĐżĐľ ĐşĐľĐ´Ń","      const country = countries.find(c => value.startsWith(c.dialCode))","      if (country) {","        setSelectedCountry(country)","        const number = value.replace(country.dialCode, '').trim()","        setPhoneNumber(number)","      } else {","        setPhoneNumber(value)","      }","    }","  }, [])","","  // Đ—Đ°ĐşŃ€Ń‹Ń‚Đ¸Đµ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° ĐżŃ€Đ¸ ĐşĐ»Đ¸ĐşĐµ Đ˛Đ˝Đµ ĐşĐľĐĽĐżĐľĐ˝ĐµĐ˝Ń‚Đ°","  useEffect(() => {","    const handleClickOutside = (event: MouseEvent) => {","      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {","        setIsDropdownOpen(false)","      }","    }","","    document.addEventListener('mousedown', handleClickOutside)","    return () => {","      document.removeEventListener('mousedown', handleClickOutside)","    }","  }, [])","","  const calculateMaxDropdownWidth = () => {","    // Đ¤Đ¸ĐşŃĐ¸Ń€ĐľĐ˛Đ°Đ˝Đ˝Đ°ŃŹ ŃĐ¸Ń€Đ¸Đ˝Đ° Đ˝Đ° ĐľŃĐ˝ĐľĐ˛Đµ ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝ĐľĐłĐľ ŃĐľĐ´ĐµŃ€Đ¶Đ¸ĐĽĐľĐłĐľ","    // Đ¤Đ»Đ°Đł (20px) + gap (8px) + ĐĽĐ°ĐşŃĐ¸ĐĽĐ°Đ»ŃŚĐ˝ĐľĐµ Đ˝Đ°Đ·Đ˛Đ°Đ˝Đ¸Đµ ŃŃ‚Ń€Đ°Đ˝Ń‹ (~150px) + gap (8px) + ĐşĐľĐ´ (~50px) + ĐşĐ˝ĐľĐżĐşĐ° (20px) + padding (32px)","    return 280","  }","  const fixedDropdownWidth = calculateMaxDropdownWidth()","","  const handleCountrySelect = (country: Country) => {","    setSelectedCountry(country)","    setIsDropdownOpen(false)","    setPhoneNumber('') // Clear phone number on country change","    onChange(country.dialCode ? country.dialCode : '') // Set only dial code","  }","","  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {","    let inputValue = e.target.value","    ","    // ĐŁĐ´Đ°Đ»ŃŹĐµĐĽ Đ˛ŃĐµ Đ˝ĐµŃ†Đ¸Ń„Ń€ĐľĐ˛Ń‹Đµ ŃĐ¸ĐĽĐ˛ĐľĐ»Ń‹","    const digits = inputValue.replace(/\\D/g, '')","    ","    // Đ•ŃĐ»Đ¸ Đ˛Ń‹Đ±Ń€Đ°Đ˝Đ° ŃŃ‚Ń€Đ°Đ˝Đ° \"other\", ĐżŃ€ĐľŃŃ‚Đľ ŃĐľŃ…Ń€Đ°Đ˝ŃŹĐµĐĽ ĐşĐ°Đş ĐµŃŃ‚ŃŚ","    if (selectedCountry.code === 'other') {","      setPhoneNumber(inputValue)","      onChange(inputValue)","      return","    }","","    // ĐžĐłŃ€Đ°Đ˝Đ¸Ń‡Đ¸Đ˛Đ°ĐµĐĽ Đ´Đ»Đ¸Đ˝Ń Đ˝ĐľĐĽĐµŃ€Đ°","    if (selectedCountry.phoneLength && digits.length > selectedCountry.phoneLength) {","      return","    }","","    setPhoneNumber(digits)","","    // Đ¤ĐľŃ€ĐĽĐ°Ń‚Đ¸Ń€ŃĐµĐĽ Đ˝ĐľĐĽĐµŃ€, ĐµŃĐ»Đ¸ ĐµŃŃ‚ŃŚ Ń„ĐľŃ€ĐĽĐ°Ń‚","    let formatted = digits","    if (selectedCountry.phoneFormat && digits.length > 0) {","      formatted = formatPhoneNumber(digits, selectedCountry.phoneFormat)","    }","","    // ĐžĐ±ŃŠĐµĐ´Đ¸Đ˝ŃŹĐµĐĽ ĐşĐľĐ´ ŃŃ‚Ń€Đ°Đ˝Ń‹ Đ¸ Đ˝ĐľĐĽĐµŃ€","    const fullPhone = selectedCountry.dialCode ? `${selectedCountry.dialCode}${formatted}` : formatted","    onChange(fullPhone)","  }","","  const getPlaceholder = () => {","    if (selectedCountry.code === 'other') {","      return 'WprowadĹş numer'","    }","    if (selectedCountry.phoneFormat) {","      return selectedCountry.phoneFormat","    }","    return 'xxx xxx xxx' // fallback","  }","","  const displayName = selectedCountry.name.length > 12 ","    ? selectedCountry.shortName ","    : selectedCountry.name","","  return (","    <div ref={containerRef} className={`relative w-full flex items-start gap-0 ${className}`}>","      {/* ĐźĐµŃ€Đ˛Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: Đ¤Đ»Đ°Đł + ĐťĐ°Đ·Đ˛Đ°Đ˝Đ¸Đµ + ĐšĐľĐ´ (ŃĐżŃ€Đ°Đ˛Đ°) + ĐšĐ˝ĐľĐżĐşĐ° Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° */}","      <div ","        ref={selectorRowRef}","        className=\"flex items-center gap-2 border border-black/60 rounded-sm px-4 py-2\"","        style={{ height: '42px', width: `${fixedDropdownWidth}px`, minWidth: `${fixedDropdownWidth}px` }}","      >","        <Image","          src={selectedCountry.flagImage}","          alt={selectedCountry.name}","          width={20}","          height={15}","          className=\"object-contain flex-shrink-0\"","          style={{ width: '20px', height: '15px' }}","        />","        <span className=\"text-black font-sans font-medium text-base leading-tight whitespace-nowrap flex-1\">","          {displayName || selectedCountry.name}","        </span>","        {selectedCountry.dialCode ? (","          <span className=\"text-black font-sans font-medium text-base whitespace-nowrap flex-shrink-0\">","            {selectedCountry.dialCode}","          </span>","        ) : (","          <span className=\"text-black font-sans font-medium text-base whitespace-nowrap opacity-50 flex-shrink-0\">","            +","          </span>","        )}","        <button","          type=\"button\"","          onClick={() => setIsDropdownOpen(!isDropdownOpen)}","          className=\"hover:opacity-80 transition-opacity flex-shrink-0\"","        >","          <span className=\"text-black text-lg\">â–Ľ</span>","        </button>","      </div>","","      {/* Đ’Ń‚ĐľŃ€Đ°ŃŹ ŃŃ‚Ń€ĐľĐşĐ°: ĐźĐľĐ»Đµ Đ˛Đ˛ĐľĐ´Đ° (ĐłĐľŃ€Đ¸Đ·ĐľĐ˝Ń‚Đ°Đ»ŃŚĐ˝Đľ Đ·Đ° ĐżĐµŃ€Đ˛ĐľĐą ŃŃ‚Ń€ĐľĐşĐľĐą) */}","      <div className=\"flex-1\">","        <input","          type=\"tel\"","          value={phoneNumber} // Display only the number part","          onChange={handlePhoneChange}","          placeholder={getPlaceholder()}","          className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all\"","          style={{ backgroundColor: 'transparent', height: '42px' }}","        />","      </div>","","      {/* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş */}","      {isDropdownOpen && (","        <div","          ref={dropdownRef}","          className=\"absolute top-full left-0 mt-1 z-50 border border-black/20 rounded-lg shadow-lg max-h-64 overflow-y-auto custom-dropdown country-dropdown\"","          style={{","            backgroundImage: 'linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)), url(/images/zmiety arkusz papieru 2.png)',","            backgroundSize: 'cover',","            backgroundPosition: 'center',","            backgroundRepeat: 'no-repeat',","            width: `${fixedDropdownWidth}px`,","            minWidth: `${fixedDropdownWidth}px`,","          }}","        >","          {countries.map((country) => (","            <button","              key={country.code}","              type=\"button\"","              onClick={() => handleCountrySelect(country)}","              className=\"flex items-center gap-3 px-4 py-3 hover:bg-black/5 transition-colors text-left whitespace-nowrap w-full\"","            >","              <Image","                src={country.flagImage}","                alt={country.name}","                width={24}","                height={18}","                className=\"object-contain flex-shrink-0\"","              />","              <span className=\"flex-1 text-black font-sans font-medium text-base\">","                {country.name}","              </span>","              {country.dialCode && (","                <span className=\"text-black font-sans text-sm opacity-70 whitespace-nowrap\">","                  {country.dialCode}","                </span>","              )}","            </button>","          ))}","        </div>","      )}","    </div>","  )","}","",""],"tokenizedAddedLines":[1000001,1,1000002,1000003,1000004,1,1000005,1000006,1000007,1000008,1000009,1,1000010,1000011,1000012,1000013,1000014,1000015,1000016,1,1000017,1000018,1000019,1000020,1000021,1000022,1000023,1000024,1000025,1000026,1000027,1000028,1000029,1000030,1,1000031,1000018,1000032,1000033,1000034,1000028,1000029,1,1000035,1000036,1000037,1000029,1000030,1,1000038,1000039,1000040,1000041,1000042,1000043,1,1000044,1000045,1000046,1000047,1000048,1000042,1,1000049,1000050,1000051,1000052,1000053,1000051,1000054,1000055,1000056,1000057,1000058,1000029,1,1000059,1000060,1000058,1000029,1,1000061,1,1000062,1000063,1000064,1000065,1000029,1,1000066,1000067,1000068,1000042,1,1000069,1000055,1000070,1000029,1000071,1000072,1000029,1000073,1000042,1,1000074,1000075,1000076,1,1000077,1000078,1000079,1000080,1000081,1000082,1000083,1000084,1000085,1000086,1000087,1000088,1000089,1000090,1000091,1000092,1000093,1000094,1000095,1000096,1000097,1000098,1000099,1000100,1000101,1000102,1000099,1000103,1000104,1000105,1000106,1000107,1000108,1000109,1000110,1000111,1,1000112,1000113,1000114,1000115,1000116,1000117,1000118,1000119,1000120,1000092,1000111,1,1000121,1000122,1000123,1000124,1000125,1000126,1000127,1000128,1000129,1000130,1000131,1000132,1000133,1000108,1000134,1000135,1000136,1000137,1000138,1000139,1000140,1000141,1000142,1000143,1000144,1000145,1000146,1000147,1000148,1000149,1000150,1000151,1000152,1000153,1000154,1000155,1000156,1000157,1000158,1000159,1000160,1000161,1000009,1,1]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

💡 DIFF: de69416d-5945-44c3-ac22-c59fe350258a
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\globals.css","fileUuid":"de69416d-5945-44c3-ac22-c59fe350258a","fileSizeBytes":3431,"numLines":117,"diffChanges":[{"originalStartLineNumberOneIndexed":23,"originalEndLineNumberExclusiveOneIndexed":23,"modifiedStartLineNumberOneIndexed":23,"modifiedEndLineNumberExclusiveOneIndexed":117,"addedLines":["","  /* Đ’Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰Đ¸Đą ŃĐżĐ¸ŃĐľĐş ŃŃ‚Ń€Đ°Đ˝ - ĐżĐľĐ´Đ»ĐľĐ¶ĐşĐ° Đ¸Đ· ŃĐĽŃŹŃ‚ĐľĐłĐľ Đ»Đ¸ŃŃ‚Đ° */","  .custom-dropdown {","    background-image: ","      linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)),","      url('/images/zmiety arkusz papieru 2.png') !important;","    background-size: cover !important;","    background-position: center !important;","    background-repeat: no-repeat !important;","  }","","  /* ĐˇĐşŃ€ĐľĐ»Đ»Đ±Đ°Ń€ Đ´Đ»ŃŹ Đ˛Ń‹ĐżĐ°Đ´Đ°ŃŽŃ‰ĐµĐłĐľ ŃĐżĐ¸ŃĐşĐ° ŃŃ‚Ń€Đ°Đ˝ */","  .custom-dropdown::-webkit-scrollbar {","    width: 8px;","  }","","  .custom-dropdown::-webkit-scrollbar-track {","    background-image: ","      linear-gradient(rgba(58, 46, 36, 0.08), rgba(58, 46, 36, 0.08)),","      url('/images/zmiety arkusz papieru 2.png') !important;","    background-size: cover !important;","    background-position: center !important;","    background-repeat: no-repeat !important;","    border-radius: 4px;","  }","","  .custom-dropdown::-webkit-scrollbar-thumb {","    background: rgba(58, 46, 36, 0.3) !important;","    border-radius: 4px;","  }","","  .custom-dropdown::-webkit-scrollbar-thumb:hover {","    background: rgba(58, 46, 36, 0.5) !important;","  }","","  /* Đ”Đ»ŃŹ Firefox */","  .custom-dropdown {","    scrollbar-width: thin;","    scrollbar-color: rgba(58, 46, 36, 0.3) transparent;","  }","","  /* ĐĐ˝Đ¸ĐĽĐ°Ń†Đ¸ŃŹ ĐżĐľŃŹĐ˛Đ»ĐµĐ˝Đ¸ŃŹ ĐĽĐľĐ´Đ°Đ»ŃŚĐ˝ĐľĐłĐľ ĐľĐşĐ˝Đ° */","  @keyframes modalAppear {","    from {","      opacity: 0;","      transform: scale(0.9) translateY(-10px);","    }","    to {","      opacity: 1;","      transform: scale(1) translateY(0);","    }","  }","","  .animate-modal-appear {","    animation: modalAppear 0.3s ease-out;","  }","","  /* ĐźŃ€ĐľĐ·Ń€Đ°Ń‡Đ˝Ń‹Đą Ń„ĐľĐ˝ Đ´Đ»ŃŹ Đ˛ŃĐµŃ… ĐżĐľĐ»ĐµĐą Đ˛Đ˛ĐľĐ´Đ° */","  input[type=\"text\"],","  input[type=\"email\"],","  input[type=\"tel\"],","  input:not([type=\"radio\"]):not([type=\"checkbox\"]):not([type=\"submit\"]):not([type=\"button\"]):not([type=\"hidden\"]) {","    background-color: transparent !important;","    background: transparent !important;","    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;","    box-shadow: 0 0 0 1000px transparent inset !important;","  }","","  textarea {","    background-color: transparent !important;","    background: transparent !important;","    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;","    box-shadow: 0 0 0 1000px transparent inset !important;","  }","","  input[type=\"text\"]:-webkit-autofill,","  input[type=\"text\"]:-webkit-autofill:hover,","  input[type=\"text\"]:-webkit-autofill:focus,","  input[type=\"text\"]:-webkit-autofill:active,","  input[type=\"email\"]:-webkit-autofill,","  input[type=\"email\"]:-webkit-autofill:hover,","  input[type=\"email\"]:-webkit-autofill:focus,","  input[type=\"email\"]:-webkit-autofill:active,","  input[type=\"tel\"]:-webkit-autofill,","  input[type=\"tel\"]:-webkit-autofill:hover,","  input[type=\"tel\"]:-webkit-autofill:focus,","  input[type=\"tel\"]:-webkit-autofill:active {","    background-color: transparent !important;","    background: transparent !important;","    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;","    box-shadow: 0 0 0 1000px transparent inset !important;","    -webkit-text-fill-color: #000000 !important;","    color: #000000 !important;","  }"],"tokenizedAddedLines":[4,1000018,1000019,1000020,1000021,1000022,1000023,1000024,1000025,9,4,1000026,1000027,1000028,9,4,1000029,1000020,1000021,1000022,1000023,1000024,1000025,1000030,9,4,1000031,1000032,1000030,9,4,1000033,1000034,9,4,1000035,1000019,1000036,1000037,9,4,1000038,1000039,1000040,1000041,1000042,1000043,1000044,1000045,1000046,1000043,9,4,1000047,1000048,9,4,1000049,1000050,1000051,1000052,1000053,1000054,1000055,1000056,1000057,9,4,1000058,1000054,1000055,1000056,1000057,9,4,1000059,1000060,1000061,1000062,1000063,1000064,1000065,1000066,1000067,1000068,1000069,1000070,1000054,1000055,1000056,1000057,1000071,1000072,9]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

💡 DIFF: f23c08a7-3d4d-4096-ad5c-186d5c22bf63
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\api\\send-email\\route.ts","fileUuid":"f23c08a7-3d4d-4096-ad5c-186d5c22bf63","fileSizeBytes":1686,"numLines":60,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":2,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":61,"addedLines":["import { NextRequest, NextResponse } from 'next/server'","import { Resend } from 'resend'","","const resend = new Resend(process.env.RESEND_API_KEY)","","export async function POST(request: NextRequest) {","  try {","    const body = await request.json()","    const {","      name,","      phone,","      email,","      address,","      deviceType,","      deviceModel,","      problemDescription,","      replacementPrinter,","    } = body","","    // Đ¤ĐľŃ€ĐĽĐ¸Ń€ŃĐµĐĽ ŃĐľĐ´ĐµŃ€Đ¶Đ¸ĐĽĐľĐµ email","    const emailContent = `","Nowe zgĹ‚oszenie serwisowe:","","ImiÄ™ i nazwisko: ${name}","Numer telefonu: ${phone}","Adres e-mail: ${email}","Adres: ${address}","Typ urzÄ…dzenia: ${deviceType === 'printer' ? 'Drukarka' : deviceType === 'computer' ? 'Komputer / Laptop' : 'Inne urzÄ…dzenie'}","Model urzÄ…dzenia: ${deviceModel || 'Nie podano'}","Opis problemu: ${problemDescription}","PotrzebujÄ™ drukarki zastÄ™pczej: ${replacementPrinter ? 'Tak' : 'Nie'}","    `.trim()","","    // ĐžŃ‚ĐżŃ€Đ°Đ˛Đ»ŃŹĐµĐĽ email","    const { data, error } = await resend.emails.send({","      from: process.env.RESEND_FROM_EMAIL || 'onboarding@resend.dev',","      to: process.env.RESEND_TO_EMAIL || 'onboarding@resend.dev',","      subject: `Nowe zgĹ‚oszenie serwisowe od ${name}`,","      text: emailContent,","    })","","    if (error) {","      console.error('Resend error:', error)","      return NextResponse.json(","        { error: 'Nie udaĹ‚o siÄ™ wysĹ‚aÄ‡ wiadomoĹ›ci' },","        { status: 500 }","      )","    }","","    return NextResponse.json({ success: true, data })","  } catch (error) {","    console.error('Error sending email:', error)","    return NextResponse.json(","      { error: 'WystÄ…piĹ‚ bĹ‚Ä…d podczas wysyĹ‚ania wiadomoĹ›ci' },","      { status: 500 }","    )","  }","}","",""],"tokenizedAddedLines":[1000001,1000002,1,1000003,1,1000004,1000005,1000006,1000007,1000008,1000009,1000010,1000011,1000012,1000013,1000014,1000015,1000016,1,1000017,1000018,1000019,1,1000020,1000021,1000022,1000023,1000024,1000025,1000026,1000027,1000028,1,1000029,1000030,1000031,1000032,1000033,1000034,1000035,1,1000036,1000037,1000038,1000039,1000040,1000041,1000042,1,1000043,1000044,1000045,1000046,1000047,1000048,1000049,1000050,1000051,1,1]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

===== CHECKPOINT: fa44e847-c6c0-494b-bd18-d71afc93d6d4 | Время: 11/25/2025 11:43:34 =====


--- METADATA ---

{"agentRequestId":"fa44e847-c6c0-494b-bd18-d71afc93d6d4","requestFiles":[{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact-test.tsx","fileUuid":"882d8391-6471-44db-a4a2-64d742ea26c8","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\kontakt-test\\page.tsx","fileUuid":"a6a05566-40b3-46e1-9b72-947c8b085b24","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}},{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"cdf8b133-7cbc-43b8-94ce-c827814de6f9","gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}}],"deduplicatedGitInfos":[{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}}],"startTrackingDateUnixMilliseconds":1764067413837,"fileSizeBytes":46285,"workspaceId":"9cc5d914250a75dfaa255cf02ad22816"}

--- FILES ---


🗂 FILE: 882d8391-6471-44db-a4a2-64d742ea26c8
----------------------------------------


🗂 FILE: a6a05566-40b3-46e1-9b72-947c8b085b24
----------------------------------------


🗂 FILE: cdf8b133-7cbc-43b8-94ce-c827814de6f9
----------------------------------------

'use client'

import { useState } from 'react'
import { useForm, Controller } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import { Loader2 } from 'lucide-react'
import Link from 'next/link'
import manifest from '@/config/KANONICZNY_MANIFEST.json'
import { CustomPhoneInput } from '@/components/ui/custom-phone-input'
import { CustomRadio } from '@/components/ui/custom-radio'
import { CustomCheckbox } from '@/components/ui/custom-checkbox'
import { SuccessModal } from '@/components/ui/success-modal'

// Schemat walidacji Zod
const formSchema = z.object({
  name: z.string().min(2, { message: 'ImiÄ™ i nazwisko musi mieÄ‡ min. 2 znaki' }),
  phone: z.string().min(9, { message: 'Numer telefonu jest za krĂłtki' }),
  email: z.string().email({ message: 'Niepoprawny adres e-mail' }),
  address: z.string().min(5, { message: 'Adres musi mieÄ‡ min. 5 znakĂłw' }),
  deviceType: z.enum(['printer', 'computer', 'other'], { required_error: 'Wybierz typ urzÄ…dzenia' }),
  deviceModel: z.string().optional(),
  problemDescription: z.string().min(10, { message: 'Opis problemu musi mieÄ‡ min. 10 znakĂłw' }),
  replacementPrinter: z.boolean().default(false),
  agreements: z.literal(true, { errorMap: () => ({ message: 'Musisz zaakceptowaÄ‡ regulamin' }) }),
})

type FormValues = z.infer<typeof formSchema>

export function Contact() {
  const [isSubmitting, setIsSubmitting] = useState(false)
  const [showSuccessModal, setShowSuccessModal] = useState(false)

  const {
    register,
    control,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      name: '',
      phone: '',
      email: '',
      address: '',
      deviceType: undefined,
      deviceModel: '',
      problemDescription: '',
      replacementPrinter: false,
      agreements: undefined,
    },
  })

  const onSubmit = async (data: FormValues) => {
    setIsSubmitting(true)
    try {
      const response = await fetch('/api/send-email', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      })

      if (!response.ok) {
        throw new Error('BĹ‚Ä…d podczas wysyĹ‚ania formularza')
      }

      setShowSuccessModal(true)
      reset()
    } catch (error) {
      console.error('Error submitting form:', error)
      alert('WystÄ…piĹ‚ bĹ‚Ä…d podczas wysyĹ‚ania formularza. SprĂłbuj ponownie.')
    } finally {
      setIsSubmitting(false)
    }
  }

  const onCloseSuccessModal = () => {
    setShowSuccessModal(false)
  }

  return (
    <section id="kontakt" className="relative pb-6 md:pb-10 pt-0">
      {/* TĹ‚o sekcji */}
      <div
        className="absolute inset-0 bg-cover bg-center"
        style={{
          backgroundImage: `url('${manifest.services_background}')`,
        }}
      >
        <div className="absolute inset-0 bg-black/50" />
      </div>

      <div className="relative z-10 container mx-auto px-4 flex flex-col items-center">
        
        {/* Tekst nad formularzem */}
        <p className="text-white/90 text-lg md:text-xl text-center mb-8 drop-shadow-md font-serif italic pt-4 md:pt-6">
          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„â€ť
        </p>

        {/* Karta formularza - ĐĽĐ°ŃŃŃ‚Đ°Đ±Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ° Đ˝Đ° 20% */}
        <div className="w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-4 md:p-6 border border-[#3a2e24]/20 scale-[0.8] origin-top">
          
          {/* NagĹ‚Ăłwek formularza */}
          <h2 className="text-[#3a2e24] text-3xl md:text-4xl font-cormorant font-bold text-center mb-4 md:mb-5 border-b border-[#3a2e24]/10 pb-3">
            Formularz zgĹ‚oszeniowy
          </h2>

          <form onSubmit={handleSubmit(onSubmit)} className="space-y-3 md:space-y-4">
            
            {/* ImiÄ™ i Telefon - Grid */}
            <div className="flex flex-col md:flex-row gap-3 md:gap-4">
              {/* ImiÄ™ i nazwisko */}
              <div className="space-y-2 flex-1">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  ImiÄ™ i nazwisko
                </label>
                <input
                  {...register('name')}
                  placeholder="Jan Kowalski"
                  className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
                />
                {errors.name && (
                  <p className="text-red-600 text-sm">{errors.name.message}</p>
                )}
              </div>

              {/* Telefon */}
              <div className="space-y-2 flex-1">
                <label className="block text-black font-bold font-sans text-base md:text-lg">
                  Numer telefonu
                </label>
                <Controller
                  name="phone"
                  control={control}
                  render={({ field }) => (
                    <CustomPhoneInput
                      value={field.value || ''}
                      onChange={field.onChange}
                    />
                  )}
                />
                {errors.phone && (
                  <p className="text-red-600 text-sm">{errors.phone.message}</p>
                )}
              </div>
            </div>

            {/* E-mail */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres e-mail
              </label>
              <input
                {...register('email')}
                type="email"
                placeholder="jan.kowalski@example.com"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.email && (
                <p className="text-red-600 text-sm">{errors.email.message}</p>
              )}
            </div>

            {/* Adres */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Adres
              </label>
              <input
                {...register('address')}
                placeholder="ul. PrzykĹ‚adowa 1, 50-001 WrocĹ‚aw"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
              {errors.address && (
                <p className="text-red-600 text-sm">{errors.address.message}</p>
              )}
            </div>

            {/* Typ urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg mb-2">
                Typ urzÄ…dzenia
              </label>
              <div className="flex flex-wrap gap-3">
                <Controller
                  name="deviceType"
                  control={control}
                  render={({ field }) => (
                    <>
                      <CustomRadio
                        id="device-printer"
                        name="deviceType"
                        value="printer"
                        checked={field.value === 'printer'}
                        onChange={field.onChange}
                        label="Drukarka"
                      />
                      <CustomRadio
                        id="device-computer"
                        name="deviceType"
                        value="computer"
                        checked={field.value === 'computer'}
                        onChange={field.onChange}
                        label="Komputer / Laptop"
                      />
                      <CustomRadio
                        id="device-other"
                        name="deviceType"
                        value="other"
                        checked={field.value === 'other'}
                        onChange={field.onChange}
                        label="Inne urzÄ…dzenie"
                      />
                    </>
                  )}
                />
              </div>
              {errors.deviceType && (
                <p className="text-red-600 text-sm">{errors.deviceType.message}</p>
              )}
            </div>

            {/* Model urzÄ…dzenia */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Model urzÄ…dzenia
              </label>
              <input
                {...register('deviceModel')}
                placeholder="np. HP LaserJet Pro M404dn"
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all"
              />
            </div>

            {/* Opis problemu */}
            <div className="space-y-2">
              <label className="block text-black font-bold font-sans text-base md:text-lg">
                Opis problemu
              </label>
              <textarea
                {...register('problemDescription')}
                rows={4}
                placeholder="ProszÄ™ opisaÄ‡ problem z urzÄ…dzeniem..."
                className="w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all resize-y"
              />
              {errors.problemDescription && (
                <p className="text-red-600 text-sm">{errors.problemDescription.message}</p>
              )}
            </div>

            {/* Checkboxy */}
            <div className="space-y-3 pt-1">
              <Controller
                name="replacementPrinter"
                control={control}
                render={({ field }) => (
                  <CustomCheckbox
                    id="replacement-printer"
                    name="replacementPrinter"
                    checked={field.value}
                    onChange={field.onChange}
                    label="PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy."
                  />
                )}
              />

              <div className="space-y-1">
                <Controller
                  name="agreements"
                  control={control}
                  render={({ field }) => (
                    <CustomCheckbox
                      id="agreements"
                      name="agreements"
                      checked={field.value || false}
                      onChange={(e) => field.onChange(e.target.checked)}
                      label={
                        <>
                          OĹ›wiadczam, ĹĽe zapoznaĹ‚em/am siÄ™ z{' '}
                          <Link href="/polityka-prywatnosci" className="underline hover:text-black/70">
                            PolitykÄ… PrywatnoĹ›ci
                          </Link>{' '}
                          oraz{' '}
                          <Link href="/regulamin" className="underline hover:text-black/70">
                            Regulaminem
                          </Link>{' '}
                          i akceptujÄ™ ich postanowienia.
                        </>
                      }
                    />
                  )}
                />
                {errors.agreements && (
                  <p className="text-red-600 text-sm ml-8">{errors.agreements.message}</p>
                )}
              </div>
            </div>

            {/* Przycisk Submit */}
            <div className="pt-4 flex justify-center">
              <button
                type="submit"
                disabled={isSubmitting}
                className="relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-black/30 shadow-[inset_0_0_20px_rgba(0,0,0,0.1)] hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.05)] rounded-full transition-all duration-300"
              >
                <span className="font-cormorant font-bold text-2xl text-black tracking-wide group-hover:text-black/80 flex items-center gap-2">
                  {isSubmitting && <Loader2 className="animate-spin h-5 w-5" />}
                  WyĹ›lij zgĹ‚oszenie
                </span>
              </button>
            </div>

          </form>
        </div>
      </div>

      {/* Success Modal */}
      <SuccessModal isOpen={showSuccessModal} onClose={onCloseSuccessModal} />
    </section>
  )
}


--- DIFFS ---


💡 DIFF: 882d8391-6471-44db-a4a2-64d742ea26c8
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact-test.tsx","fileUuid":"882d8391-6471-44db-a4a2-64d742ea26c8","fileSizeBytes":13373,"numLines":326,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":2,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":327,"addedLines":["'use client'","","import { useState } from 'react'","import { useForm, Controller } from 'react-hook-form'","import { zodResolver } from '@hookform/resolvers/zod'","import * as z from 'zod'","import { Loader2 } from 'lucide-react'","import Link from 'next/link'","import manifest from '@/config/KANONICZNY_MANIFEST.json'","import { CustomPhoneInput } from '@/components/ui/custom-phone-input'","import { CustomRadio } from '@/components/ui/custom-radio'","import { CustomCheckbox } from '@/components/ui/custom-checkbox'","import { SuccessModal } from '@/components/ui/success-modal'","","// Schemat walidacji Zod","const formSchema = z.object({","  name: z.string().min(2, { message: 'ImiÄ™ i nazwisko musi mieÄ‡ min. 2 znaki' }),","  phone: z.string().min(9, { message: 'Numer telefonu jest za krĂłtki' }),","  email: z.string().email({ message: 'Niepoprawny adres e-mail' }),","  address: z.string().min(5, { message: 'Adres musi mieÄ‡ min. 5 znakĂłw' }),","  deviceType: z.enum(['printer', 'computer', 'other'], { required_error: 'Wybierz typ urzÄ…dzenia' }),","  deviceModel: z.string().optional(),","  problemDescription: z.string().min(10, { message: 'Opis problemu musi mieÄ‡ min. 10 znakĂłw' }),","  replacementPrinter: z.boolean().default(false),","  agreements: z.literal(true, { errorMap: () => ({ message: 'Musisz zaakceptowaÄ‡ regulamin' }) }),","})","","type FormValues = z.infer<typeof formSchema>","","export function ContactTest() {","  const [isSubmitting, setIsSubmitting] = useState(false)","  const [showSuccessModal, setShowSuccessModal] = useState(false)","","  const {","    register,","    control,","    handleSubmit,","    formState: { errors },","    reset,","  } = useForm<FormValues>({","    resolver: zodResolver(formSchema),","    defaultValues: {","      name: '',","      phone: '',","      email: '',","      address: '',","      deviceType: undefined,","      deviceModel: '',","      problemDescription: '',","      replacementPrinter: false,","      agreements: undefined,","    },","  })","","  const onSubmit = async (data: FormValues) => {","    setIsSubmitting(true)","    try {","      const response = await fetch('/api/send-email', {","        method: 'POST',","        headers: {","          'Content-Type': 'application/json',","        },","        body: JSON.stringify(data),","      })","","      if (!response.ok) {","        throw new Error('BĹ‚Ä…d podczas wysyĹ‚ania formularza')","      }","","      setShowSuccessModal(true)","      reset()","    } catch (error) {","      console.error('Error submitting form:', error)","      alert('WystÄ…piĹ‚ bĹ‚Ä…d podczas wysyĹ‚ania formularza. SprĂłbuj ponownie.')","    } finally {","      setIsSubmitting(false)","    }","  }","","  const onCloseSuccessModal = () => {","    setShowSuccessModal(false)","  }","","  return (","    <section id=\"kontakt-test\" className=\"relative pb-6 md:pb-10 pt-0\">","      {/* TĹ‚o sekcji */}","      <div","        className=\"absolute inset-0 bg-cover bg-center\"","        style={{","          backgroundImage: `url('${manifest.services_background}')`,","        }}","      >","        <div className=\"absolute inset-0 bg-black/50\" />","      </div>","","      <div className=\"relative z-10 container mx-auto px-4 flex flex-col items-center\">","        ","        {/* Tekst nad formularzem */}","        <p className=\"text-white/90 text-lg md:text-xl text-center mb-8 drop-shadow-md font-serif italic pt-4 md:pt-6\">","          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„â€ť","        </p>","","        {/* Karta formularza - ĐĽĐ°ŃŃŃ‚Đ°Đ±Đ¸Ń€ĐľĐ˛Đ°Đ˝Đ° Đ˝Đ° 20% */}","        <div className=\"w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-4 md:p-6 border border-[#3a2e24]/20 scale-[0.8] origin-top\">","          ","          {/* NagĹ‚Ăłwek formularza */}","          <h2 className=\"text-[#3a2e24] text-3xl md:text-4xl font-cormorant font-bold text-center mb-4 md:mb-5 border-b border-[#3a2e24]/10 pb-3\">","            Formularz zgĹ‚oszeniowy","          </h2>","","          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-3 md:space-y-4\">","            ","            {/* ImiÄ™ i Telefon - Grid */}","            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4\">","              {/* ImiÄ™ i nazwisko */}","              <div className=\"space-y-2\">","                <label className=\"block text-black font-bold font-sans text-base md:text-lg\">","                  ImiÄ™ i nazwisko","                </label>","                <input","                  {...register('name')}","                  placeholder=\"Jan Kowalski\"","                  className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all\"","                />","                {errors.name && (","                  <p className=\"text-red-600 text-sm\">{errors.name.message}</p>","                )}","              </div>","","              {/* Telefon */}","              <div className=\"space-y-2\">","                <label className=\"block text-black font-bold font-sans text-base md:text-lg\">","                  Numer telefonu","                </label>","                <Controller","                  name=\"phone\"","                  control={control}","                  render={({ field }) => (","                    <CustomPhoneInput","                      value={field.value || ''}","                      onChange={field.onChange}","                    />","                  )}","                />","                {errors.phone && (","                  <p className=\"text-red-600 text-sm\">{errors.phone.message}</p>","                )}","              </div>","            </div>","","            {/* E-mail */}","            <div className=\"space-y-2\">","              <label className=\"block text-black font-bold font-sans text-base md:text-lg\">","                Adres e-mail","              </label>","              <input","                {...register('email')}","                type=\"email\"","                placeholder=\"jan.kowalski@example.com\"","                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all\"","              />","              {errors.email && (","                <p className=\"text-red-600 text-sm\">{errors.email.message}</p>","              )}","            </div>","","            {/* Adres */}","            <div className=\"space-y-2\">","              <label className=\"block text-black font-bold font-sans text-base md:text-lg\">","                Adres","              </label>","              <input","                {...register('address')}","                placeholder=\"ul. PrzykĹ‚adowa 1, 50-001 WrocĹ‚aw\"","                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all\"","              />","              {errors.address && (","                <p className=\"text-red-600 text-sm\">{errors.address.message}</p>","              )}","            </div>","","            {/* Typ urzÄ…dzenia */}","            <div className=\"space-y-2\">","              <label className=\"block text-black font-bold font-sans text-base md:text-lg mb-2\">","                Typ urzÄ…dzenia","              </label>","              <div className=\"flex flex-wrap gap-3\">","                <Controller","                  name=\"deviceType\"","                  control={control}","                  render={({ field }) => (","                    <>","                      <CustomRadio","                        id=\"device-printer\"","                        name=\"deviceType\"","                        value=\"printer\"","                        checked={field.value === 'printer'}","                        onChange={field.onChange}","                        label=\"Drukarka\"","                      />","                      <CustomRadio","                        id=\"device-computer\"","                        name=\"deviceType\"","                        value=\"computer\"","                        checked={field.value === 'computer'}","                        onChange={field.onChange}","                        label=\"Komputer / Laptop\"","                      />","                      <CustomRadio","                        id=\"device-other\"","                        name=\"deviceType\"","                        value=\"other\"","                        checked={field.value === 'other'}","                        onChange={field.onChange}","                        label=\"Inne urzÄ…dzenie\"","                      />","                    </>","                  )}","                />","              </div>","              {errors.deviceType && (","                <p className=\"text-red-600 text-sm\">{errors.deviceType.message}</p>","              )}","            </div>","","            {/* Model urzÄ…dzenia */}","            <div className=\"space-y-2\">","              <label className=\"block text-black font-bold font-sans text-base md:text-lg\">","                Model urzÄ…dzenia","              </label>","              <input","                {...register('deviceModel')}","                placeholder=\"np. HP LaserJet Pro M404dn\"","                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all\"","              />","            </div>","","            {/* Opis problemu */}","            <div className=\"space-y-2\">","              <label className=\"block text-black font-bold font-sans text-base md:text-lg\">","                Opis problemu","              </label>","              <textarea","                {...register('problemDescription')}","                rows={4}","                placeholder=\"ProszÄ™ opisaÄ‡ problem z urzÄ…dzeniem...\"","                className=\"w-full !bg-transparent border border-black/60 rounded-sm px-4 py-2 text-black text-lg md:text-xl font-sans font-medium placeholder:text-black/60 focus:outline-none focus:border-black focus:ring-1 focus:ring-black transition-all resize-y\"","              />","              {errors.problemDescription && (","                <p className=\"text-red-600 text-sm\">{errors.problemDescription.message}</p>","              )}","            </div>","","            {/* Checkboxy */}","            <div className=\"space-y-3 pt-1\">","              <Controller","                name=\"replacementPrinter\"","                control={control}","                render={({ field }) => (","                  <CustomCheckbox","                    id=\"replacement-printer\"","                    name=\"replacementPrinter\"","                    checked={field.value}","                    onChange={field.onChange}","                    label=\"PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy.\"","                  />","                )}","              />","","              <div className=\"space-y-1\">","                <Controller","                  name=\"agreements\"","                  control={control}","                  render={({ field }) => (","                    <CustomCheckbox","                      id=\"agreements\"","                      name=\"agreements\"","                      checked={field.value || false}","                      onChange={(e) => field.onChange(e.target.checked)}","                      label={","                        <>","                          OĹ›wiadczam, ĹĽe zapoznaĹ‚em/am siÄ™ z{' '}","                          <Link href=\"/polityka-prywatnosci\" className=\"underline hover:text-black/70\">","                            PolitykÄ… PrywatnoĹ›ci","                          </Link>{' '}","                          oraz{' '}","                          <Link href=\"/regulamin\" className=\"underline hover:text-black/70\">","                            Regulaminem","                          </Link>{' '}","                          i akceptujÄ™ ich postanowienia.","                        </>","                      }","                    />","                  )}","                />","                {errors.agreements && (","                  <p className=\"text-red-600 text-sm ml-8\">{errors.agreements.message}</p>","                )}","              </div>","            </div>","","            {/* Przycisk Submit */}","            <div className=\"pt-4 flex justify-center\">","              <button","                type=\"submit\"","                disabled={isSubmitting}","                className=\"relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-black/30 shadow-[inset_0_0_20px_rgba(0,0,0,0.1)] hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.05)] rounded-full transition-all duration-300\"","              >","                <span className=\"font-cormorant font-bold text-2xl text-black tracking-wide group-hover:text-black/80 flex items-center gap-2\">","                  {isSubmitting && <Loader2 className=\"animate-spin h-5 w-5\" />}","                  WyĹ›lij zgĹ‚oszenie","                </span>","              </button>","            </div>","","          </form>","        </div>","      </div>","","      {/* Success Modal */}","      <SuccessModal isOpen={showSuccessModal} onClose={onCloseSuccessModal} />","    </section>","  )","}","",""],"tokenizedAddedLines":[1000001,1,1000002,1000003,1000004,1000005,1000006,1000007,1000008,1000009,1000010,1000011,1000012,1,1000013,1000014,1000015,1000016,1000017,1000018,1000019,1000020,1000021,1000022,1000023,1000024,1,1000025,1,1000026,1000027,1000028,1,1000029,1000030,1000031,1000032,1000033,1000034,1000035,1000036,1000037,1000038,1000039,1000040,1000041,1000042,1000043,1000044,1000045,1000046,1000047,1000048,1,1000049,1000050,1000051,1000052,1000053,1000054,1000055,1000056,1000057,1000058,1,1000059,1000060,1000061,1,1000062,1000063,1000064,1000065,1000066,1000067,1000068,1000069,1000070,1,1000071,1000072,1000070,1,1000073,1000074,1000075,1000076,1000077,1000078,1000079,1000080,1000081,1000082,1000083,1,1000084,1000085,1000086,1000087,1000088,1000089,1,1000090,1000091,1000092,1000093,1000094,1000095,1000096,1,1000097,1000098,1000099,1000100,1000101,1000102,1000103,1000104,1000105,1000106,1000107,1000108,1000109,1000110,1000111,1000112,1000113,1000114,1,1000115,1000102,1000103,1000116,1000105,1000117,1000118,1000119,1000120,1000121,1000122,1000123,1000124,1000125,1000110,1000126,1000127,1000113,1000114,1000128,1,1000129,1000130,1000131,1000132,1000133,1000134,1000135,1000136,1000137,1000138,1000139,1000140,1000141,1000142,1000128,1,1000143,1000130,1000131,1000144,1000133,1000134,1000145,1000146,1000138,1000139,1000147,1000148,1000142,1000128,1,1000149,1000130,1000150,1000151,1000133,1000152,1000117,1000153,1000119,1000120,1000154,1000155,1000156,1000157,1000158,1000159,1000160,1000161,1000162,1000155,1000163,1000157,1000164,1000165,1000160,1000166,1000162,1000155,1000167,1000157,1000168,1000169,1000160,1000170,1000162,1000171,1000125,1000110,1000114,1000172,1000173,1000142,1000128,1,1000174,1000130,1000131,1000175,1000133,1000134,1000176,1000177,1000138,1000139,1000128,1,1000178,1000130,1000131,1000179,1000133,1000180,1000181,1000182,1000183,1000184,1000139,1000185,1000186,1000142,1000128,1,1000187,1000188,1000189,1000190,1000191,1000192,1000193,1000194,1000195,1000196,1000197,1000198,1000199,1000113,1000139,1,1000200,1000117,1000201,1000119,1000120,1000202,1000203,1000204,1000205,1000206,1000207,1000208,1000209,1000210,1000211,1000212,1000213,1000214,1000215,1000212,1000216,1000217,1000218,1000124,1000125,1000110,1000219,1000220,1000113,1000114,1000128,1,1000221,1000222,1000223,1000224,1000225,1000226,1000227,1000228,1000229,1000230,1000231,1000232,1000128,1,1000233,1000234,1000083,1,1000235,1000236,1000237,1000238,1000239,1,1]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

💡 DIFF: a6a05566-40b3-46e1-9b72-947c8b085b24
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\app\\kontakt-test\\page.tsx","fileUuid":"a6a05566-40b3-46e1-9b72-947c8b085b24","fileSizeBytes":303,"numLines":15,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":2,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":16,"addedLines":["import { Header } from '@/components/header'","import { ContactTest } from '@/components/sections/contact-test'","import { Footer } from '@/components/footer'","","export default function KontaktTestPage() {","  return (","    <>","      <Header />","      <ContactTest />","      <Footer />","    </>","  )","}","",""],"tokenizedAddedLines":[1000001,1000002,1000003,1,1000004,1000005,1000006,1000007,1000008,1000009,1000010,1000011,1000012,1,1]}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}

💡 DIFF: cdf8b133-7cbc-43b8-94ce-c827814de6f9
----------------------------------------

{"fsPath":"c:\\Users\\Andrii\\omobonus-serwis-v3\\src\\components\\sections\\contact.tsx","fileUuid":"cdf8b133-7cbc-43b8-94ce-c827814de6f9","fileSizeBytes":12229,"numLines":286,"diffChanges":[{"originalStartLineNumberOneIndexed":7,"originalEndLineNumberExclusiveOneIndexed":7,"modifiedStartLineNumberOneIndexed":7,"modifiedEndLineNumberExclusiveOneIndexed":10,"addedLines":["import PhoneInput from 'react-phone-input-2'","import 'react-phone-input-2/lib/style.css'","import { toast, Toaster } from 'sonner'"],"tokenizedAddedLines":[1000240,1000241,1000242]},{"originalStartLineNumberOneIndexed":10,"originalEndLineNumberExclusiveOneIndexed":14,"modifiedStartLineNumberOneIndexed":13,"modifiedEndLineNumberExclusiveOneIndexed":13},{"originalStartLineNumberOneIndexed":21,"originalEndLineNumberExclusiveOneIndexed":22,"modifiedStartLineNumberOneIndexed":20,"modifiedEndLineNumberExclusiveOneIndexed":21,"addedLines":["  deviceType: z.enum(['printer', 'computer'], { required_error: 'Wybierz typ urzÄ…dzenia' }),"],"tokenizedAddedLines":[1000243]},{"originalStartLineNumberOneIndexed":32,"originalEndLineNumberExclusiveOneIndexed":33,"modifiedStartLineNumberOneIndexed":31,"modifiedEndLineNumberExclusiveOneIndexed":31},{"originalStartLineNumberOneIndexed":57,"originalEndLineNumberExclusiveOneIndexed":71,"modifiedStartLineNumberOneIndexed":55,"modifiedEndLineNumberExclusiveOneIndexed":60,"addedLines":["    // Symulacja wysyĹ‚ki","    await new Promise((resolve) => setTimeout(resolve, 1500))","    console.log('Form data:', data)","    setIsSubmitting(false)","    toast.success('ZgĹ‚oszenie wysĹ‚ane pomyĹ›lnie!')"],"tokenizedAddedLines":[1000244,1000245,1000246,1000247,1000248]},{"originalStartLineNumberOneIndexed":72,"originalEndLineNumberExclusiveOneIndexed":82,"modifiedStartLineNumberOneIndexed":61,"modifiedEndLineNumberExclusiveOneIndexed":61},{"originalStartLineNumberOneIndexed":85,"originalEndLineNumberExclusiveOneIndexed":86,"modifiedStartLineNumberOneIndexed":64,"modifiedEndLineNumberExclusiveOneIndexed":67,"addedLines":["    <section id=\"kontakt\" className=\"relative py-12 md:py-20\">","      <Toaster position=\"bottom-center\" />","      "],"tokenizedAddedLines":[1000249,1000250,1000251]},{"originalStartLineNumberOneIndexed":99,"originalEndLineNumberExclusiveOneIndexed":101,"modifiedStartLineNumberOneIndexed":80,"modifiedEndLineNumberExclusiveOneIndexed":82,"addedLines":["        <p className=\"text-white/90 text-lg md:text-xl text-center mb-8 drop-shadow-md font-serif italic\">","          â€žChcesz zamĂłwiÄ‡ serwis lub potrzebujesz wsparcia? Napisz lub zadzwoĹ„\""],"tokenizedAddedLines":[1000252,1000253]},{"originalStartLineNumberOneIndexed":103,"originalEndLineNumberExclusiveOneIndexed":105,"modifiedStartLineNumberOneIndexed":84,"modifiedEndLineNumberExclusiveOneIndexed":86,"addedLines":["        {/* Karta formularza */}","        <div className=\"w-full max-w-3xl bg-paper-texture shadow-2xl rounded-sm p-6 md:p-10 border border-[#3a2e24]/20\">"],"tokenizedAddedLines":[1000254,1000255]},{"originalStartLineNumberOneIndexed":107,"originalEndLineNumberExclusiveOneIndexed":108,"modifiedStartLineNumberOneIndexed":88,"modifiedEndLineNumberExclusiveOneIndexed":89,"addedLines":["          <h2 className=\"text-[#3a2e24] text-3xl md:text-4xl font-cormorant font-bold text-center mb-8 border-b border-[#3a2e24]/10 pb-4\">"],"tokenizedAddedLines":[1000256]},{"originalStartLineNumberOneIndexed":111,"originalEndLineNumberExclusiveOneIndexed":112,"modifiedStartLineNumberOneIndexed":92,"modifiedEndLineNumberExclusiveOneIndexed":93,"addedLines":["          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">"],"tokenizedAddedLines":[1000257]},{"originalStartLineNumberOneIndexed":114,"originalEndLineNumberExclusiveOneIndexed":115,"modifiedStartLineNumberOneIndexed":95,"modifiedEndLineNumberExclusiveOneIndexed":96,"addedLines":["            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">"],"tokenizedAddedLines":[1000258]},{"originalStartLineNumberOneIndexed":116,"originalEndLineNumberExclusiveOneIndexed":118,"modifiedStartLineNumberOneIndexed":97,"modifiedEndLineNumberExclusiveOneIndexed":99,"addedLines":["              <div className=\"space-y-2\">","                <label className=\"block text-[#3a2e24] font-bold font-cormorant text-lg\">"],"tokenizedAddedLines":[1000259,1000260]},{"originalStartLineNumberOneIndexed":123,"originalEndLineNumberExclusiveOneIndexed":124,"modifiedStartLineNumberOneIndexed":104,"modifiedEndLineNumberExclusiveOneIndexed":105,"addedLines":["                  className=\"w-full bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/50 focus:outline-none focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all\""],"tokenizedAddedLines":[1000261]},{"originalStartLineNumberOneIndexed":131,"originalEndLineNumberExclusiveOneIndexed":133,"modifiedStartLineNumberOneIndexed":112,"modifiedEndLineNumberExclusiveOneIndexed":114,"addedLines":["              <div className=\"space-y-2\">","                <label className=\"block text-[#3a2e24] font-bold font-cormorant text-lg\">"],"tokenizedAddedLines":[1000259,1000260]},{"originalStartLineNumberOneIndexed":135,"originalEndLineNumberExclusiveOneIndexed":135,"modifiedStartLineNumberOneIndexed":116,"modifiedEndLineNumberExclusiveOneIndexed":117,"addedLines":["                <div className=\"phone-input-container\">"],"tokenizedAddedLines":[1000262]},{"originalStartLineNumberOneIndexed":139,"originalEndLineNumberExclusiveOneIndexed":142,"modifiedStartLineNumberOneIndexed":121,"modifiedEndLineNumberExclusiveOneIndexed":129,"addedLines":["                      <PhoneInput","                        country={'ua'}","                        value={field.value}","                        onChange={(phone) => field.onChange(phone)}","                        onlyCountries={['ua', 'pl', 'de', 'cz', 'sk', 'lt', 'gb']}","                        inputClass=\"!w-full !bg-transparent !border-[#3a2e24]/60 !text-[#3a2e24] !h-[42px] !rounded-sm !pl-[48px]\"","                        buttonClass=\"!bg-transparent !border-[#3a2e24]/60 !rounded-l-sm !border-r-0\"","                        dropdownClass=\"!bg-[#f5f5f0] !text-[#3a2e24]\""],"tokenizedAddedLines":[1000263,1000264,1000265,1000266,1000267,1000268,1000269,1000270]},{"originalStartLineNumberOneIndexed":145,"originalEndLineNumberExclusiveOneIndexed":145,"modifiedStartLineNumberOneIndexed":132,"modifiedEndLineNumberExclusiveOneIndexed":133,"addedLines":["                </div>"],"tokenizedAddedLines":[1000271]},{"originalStartLineNumberOneIndexed":153,"originalEndLineNumberExclusiveOneIndexed":154,"modifiedStartLineNumberOneIndexed":141,"modifiedEndLineNumberExclusiveOneIndexed":142,"addedLines":["              <label className=\"block text-[#3a2e24] font-bold font-cormorant text-lg\">"],"tokenizedAddedLines":[1000272]},{"originalStartLineNumberOneIndexed":160,"originalEndLineNumberExclusiveOneIndexed":161,"modifiedStartLineNumberOneIndexed":148,"modifiedEndLineNumberExclusiveOneIndexed":149,"addedLines":["                className=\"w-full bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/50 focus:outline-none focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all\""],"tokenizedAddedLines":[1000273]},{"originalStartLineNumberOneIndexed":169,"originalEndLineNumberExclusiveOneIndexed":170,"modifiedStartLineNumberOneIndexed":157,"modifiedEndLineNumberExclusiveOneIndexed":158,"addedLines":["              <label className=\"block text-[#3a2e24] font-bold font-cormorant text-lg\">"],"tokenizedAddedLines":[1000272]},{"originalStartLineNumberOneIndexed":175,"originalEndLineNumberExclusiveOneIndexed":176,"modifiedStartLineNumberOneIndexed":163,"modifiedEndLineNumberExclusiveOneIndexed":164,"addedLines":["                className=\"w-full bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/50 focus:outline-none focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all\""],"tokenizedAddedLines":[1000273]},{"originalStartLineNumberOneIndexed":184,"originalEndLineNumberExclusiveOneIndexed":185,"modifiedStartLineNumberOneIndexed":172,"modifiedEndLineNumberExclusiveOneIndexed":173,"addedLines":["              <label className=\"block text-[#3a2e24] font-bold font-cormorant text-lg mb-2\">"],"tokenizedAddedLines":[1000274]},{"originalStartLineNumberOneIndexed":187,"originalEndLineNumberExclusiveOneIndexed":196,"modifiedStartLineNumberOneIndexed":175,"modifiedEndLineNumberExclusiveOneIndexed":179,"addedLines":["              <div className=\"flex gap-6\">","                <label className=\"flex items-center gap-2 cursor-pointer\">","                  <input","                    type=\"radio\""],"tokenizedAddedLines":[1000275,1000276,1000277,1000278]},{"originalStartLineNumberOneIndexed":197,"originalEndLineNumberExclusiveOneIndexed":204,"modifiedStartLineNumberOneIndexed":180,"modifiedEndLineNumberExclusiveOneIndexed":188,"addedLines":["                    {...register('deviceType')}","                    className=\"accent-[#bfa76a] w-5 h-5\"","                  />","                  <span className=\"text-[#3a2e24]\">Drukarka</span>","                </label>","                <label className=\"flex items-center gap-2 cursor-pointer\">","                  <input","                    type=\"radio\""],"tokenizedAddedLines":[1000279,1000280,200,1000281,106,1000276,1000277,1000278]},{"originalStartLineNumberOneIndexed":205,"originalEndLineNumberExclusiveOneIndexed":220,"modifiedStartLineNumberOneIndexed":189,"modifiedEndLineNumberExclusiveOneIndexed":194,"addedLines":["                    {...register('deviceType')}","                    className=\"accent-[#bfa76a] w-5 h-5\"","                  />","                  <span className=\"text-[#3a2e24]\">Komputer / Laptop</span>","                </label>"],"tokenizedAddedLines":[1000279,1000280,200,1000282,106]},{"originalStartLineNumberOneIndexed":228,"originalEndLineNumberExclusiveOneIndexed":229,"modifiedStartLineNumberOneIndexed":202,"modifiedEndLineNumberExclusiveOneIndexed":203,"addedLines":["              <label className=\"block text-[#3a2e24] font-bold font-cormorant text-lg\">"],"tokenizedAddedLines":[1000272]},{"originalStartLineNumberOneIndexed":234,"originalEndLineNumberExclusiveOneIndexed":235,"modifiedStartLineNumberOneIndexed":208,"modifiedEndLineNumberExclusiveOneIndexed":209,"addedLines":["                className=\"w-full bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/50 focus:outline-none focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all\""],"tokenizedAddedLines":[1000273]},{"originalStartLineNumberOneIndexed":240,"originalEndLineNumberExclusiveOneIndexed":241,"modifiedStartLineNumberOneIndexed":214,"modifiedEndLineNumberExclusiveOneIndexed":215,"addedLines":["              <label className=\"block text-[#3a2e24] font-bold font-cormorant text-lg\">"],"tokenizedAddedLines":[1000272]},{"originalStartLineNumberOneIndexed":247,"originalEndLineNumberExclusiveOneIndexed":248,"modifiedStartLineNumberOneIndexed":221,"modifiedEndLineNumberExclusiveOneIndexed":222,"addedLines":["                className=\"w-full bg-transparent border border-[#3a2e24]/60 rounded-sm px-4 py-2 text-[#3a2e24] placeholder:text-[#3a2e24]/50 focus:outline-none focus:border-[#bfa76a] focus:ring-1 focus:ring-[#bfa76a] transition-all resize-y\""],"tokenizedAddedLines":[1000283]},{"originalStartLineNumberOneIndexed":255,"originalEndLineNumberExclusiveOneIndexed":269,"modifiedStartLineNumberOneIndexed":229,"modifiedEndLineNumberExclusiveOneIndexed":240,"addedLines":["            <div className=\"space-y-4 pt-2\">","              <label className=\"flex items-start gap-3 cursor-pointer group\">","                <input","                  type=\"checkbox\"","                  {...register('replacementPrinter')}","                  className=\"mt-1 accent-[#bfa76a] w-5 h-5\"","                />","                <span className=\"text-[#3a2e24] group-hover:text-[#bfa76a] transition-colors\">","                  PotrzebujÄ™ drukarki zastÄ™pczej na czas naprawy.","                </span>","              </label>"],"tokenizedAddedLines":[1000284,1000285,107,1000286,1000287,1000288,111,1000289,1000290,232,134]},{"originalStartLineNumberOneIndexed":271,"originalEndLineNumberExclusiveOneIndexed":282,"modifiedStartLineNumberOneIndexed":242,"modifiedEndLineNumberExclusiveOneIndexed":249,"addedLines":["                <label className=\"flex items-start gap-3 cursor-pointer group\">","                  <input","                    type=\"checkbox\"","                    {...register('agreements')}","                    className=\"mt-1 accent-[#bfa76a] w-5 h-5\"","                  />","                  <span className=\"text-[#3a2e24] text-sm\">"],"tokenizedAddedLines":[1000291,1000277,1000292,1000293,1000294,200,1000295]},{"originalStartLineNumberOneIndexed":283,"originalEndLineNumberExclusiveOneIndexed":284,"modifiedStartLineNumberOneIndexed":250,"modifiedEndLineNumberExclusiveOneIndexed":251,"addedLines":["                    <Link href=\"/polityka-prywatnosci\" className=\"underline hover:text-[#bfa76a]\">"],"tokenizedAddedLines":[1000296]},{"originalStartLineNumberOneIndexed":287,"originalEndLineNumberExclusiveOneIndexed":288,"modifiedStartLineNumberOneIndexed":254,"modifiedEndLineNumberExclusiveOneIndexed":255,"addedLines":["                    <Link href=\"/regulamin\" className=\"underline hover:text-[#bfa76a]\">"],"tokenizedAddedLines":[1000297]},{"originalStartLineNumberOneIndexed":291,"originalEndLineNumberExclusiveOneIndexed":296,"modifiedStartLineNumberOneIndexed":258,"modifiedEndLineNumberExclusiveOneIndexed":260,"addedLines":["                  </span>","                </label>"],"tokenizedAddedLines":[1000298,106]},{"originalStartLineNumberOneIndexed":303,"originalEndLineNumberExclusiveOneIndexed":304,"modifiedStartLineNumberOneIndexed":267,"modifiedEndLineNumberExclusiveOneIndexed":268,"addedLines":["            <div className=\"pt-6 flex justify-center\">"],"tokenizedAddedLines":[1000299]},{"originalStartLineNumberOneIndexed":307,"originalEndLineNumberExclusiveOneIndexed":308,"modifiedStartLineNumberOneIndexed":271,"modifiedEndLineNumberExclusiveOneIndexed":272,"addedLines":["                className=\"relative group px-10 py-3 bg-white/10 hover:bg-white/20 border border-[#3a2e24]/30 shadow-[inset_0_0_20px_rgba(0,0,0,0.1)] hover:shadow-[inset_0_0_20px_rgba(0,0,0,0.05)] rounded-sm transition-all duration-300\""],"tokenizedAddedLines":[1000300]},{"originalStartLineNumberOneIndexed":309,"originalEndLineNumberExclusiveOneIndexed":310,"modifiedStartLineNumberOneIndexed":273,"modifiedEndLineNumberExclusiveOneIndexed":274,"addedLines":["                <span className=\"font-cormorant font-bold text-2xl text-[#3a2e24] tracking-wide group-hover:text-black flex items-center gap-2\">"],"tokenizedAddedLines":[1000301]},{"originalStartLineNumberOneIndexed":319,"originalEndLineNumberExclusiveOneIndexed":322,"modifiedStartLineNumberOneIndexed":283,"modifiedEndLineNumberExclusiveOneIndexed":283}],"gitInfo":{"gitInfo":{"gitRoot":"c:\\Users\\Andrii","branch":"main","commitHash":"34bc9437b2521fa57d848db86127cd8ab497dfbc"}},"kind":"KIND_MODIFIED"}
